import{u as d,b as k}from"./cookie.359c4252.js";import{an as v,$ as l}from"./entry.a68a4c5e.js";const y=v("user",()=>{const o=l(null),n=l(!1);async function s(){const r=d("token"),{data:t,pending:u,error:f}=await k("userProf",()=>$fetch("https://pbe.singularitybd.net/api/v1/users/profile",{headers:{Authorization:`Bearer ${r.value}`}}));o.value=t.value}async function c(r,t,u,f,h,i){n.value=!0;const e=new FormData;e.append("name",t),e.append("phone",u),e.append("address",h),i!=null&&e.append("image",i);const m=d("token");try{const a=await fetch(`https://pbe.singularitybd.net/api/v1/users/update/${r}`,{method:"POST",headers:{Authorization:`Bearer ${m.value}`},body:e});if(!a.ok)throw new Error("Network response was not ok");s();const p=await a.json();return console.log("User Update data =>",p),p}catch(a){console.error("Error uploading file:",a),n.value=!1}}return{getUserData:s,updateUser:c,userProfile:o}});export{y as u};
