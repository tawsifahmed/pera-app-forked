import G from"./button.esm.cc72e76b.js";import{_ as I}from"./nuxt-link.3223e754.js";import K from"./tabpanel.esm.5642ab53.js";import X from"./treetable.esm.abcd5c33.js";import Z from"./tabview.esm.b9d20b1e.js";import tt from"./avatar.esm.e604c76b.js";import st from"./card.esm.a24f61fe.js";import{$ as D,aa as et,b as l,i as t,t as a,u as e,c as R,w as r,e as S,F as b,f as k,l as n,o,ca as at}from"./entry.f5ea297c.js";import{u as ot}from"./fetch.6b2fb259.js";import{u as it}from"./cookie.451fffa9.js";import{_ as U}from"./avatar.98ac061f.js";import w from"./column.esm.da38bc26.js";import"./badge.esm.6fb23254.js";import"./basecomponent.esm.d5209ab2.js";import"./index.esm.0994c14c.js";import"./baseicon.esm.8a0a1832.js";import"./paginator.esm.1a14a9e3.js";import"./index.esm.3ff8e66c.js";import"./dropdown.esm.33fa9d59.js";import"./index.esm.64e38950.js";import"./index.esm.31c8a365.js";import"./index.esm.c964197b.js";import"./index.esm.8b7ef7ae.js";import"./overlayeventbus.esm.6a0a7c71.js";import"./portal.esm.236df3f1.js";import"./virtualscroller.esm.1bb55791.js";import"./inputnumber.esm.c5dd3651.js";import"./index.esm.a645f14e.js";import"./index.esm.194c5417.js";import"./inputtext.esm.2b814e00.js";import"./index.esm.76b8004b.js";import"./index.esm.55e172f5.js";import"./checkbox.esm.916dfb07.js";import"./index.esm.255e5ed6.js";import"./index.esm.26dfbe9c.js";import"./index.esm.687b5edb.js";const lt={class:"card lg:mx-auto mx-auto shared-nav"},nt=t("img",{src:U,alt:"Logo",height:"35",class:"mr-2"},null,-1),ct={class:"shared-task lg:mx-auto card grid p-4 mx-auto justify-content-center"},rt={class:"col-12 lg:col-7"},dt={class:""},pt={class:"task-wrapper card"},_t={class:"task-det"},ut={class:"mt-2 task-detail ml-2"},ht={class:"flex justify-content-between flex-wrap align-items-start"},ft={class:"col-12 lg:col-6 p-0"},mt={class:"flex gap-2 mb-3"},gt=t("div",{class:"flex gap-2 align-items-start"},[t("span",{class:"pi pi-user"}),t("p",{class:"text-nowrap font-bold"},"Assignee:")],-1),xt={class:"flex flex-wrap gap-2"},vt={class:"employee"},yt={class:"flex gap-2 mb-3"},bt=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-calendar"}),t("p",{class:"text-nowrap font-bold"},"Due Date:")],-1),kt={class:""},wt={class:"col-12 lg:col-6 p-0"},$t={class:"flex gap-2 mb-3"},Tt=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-flag"}),t("p",{class:"text-nowrap font-bold"},"Status:")],-1),Dt={class:""},St={class:"flex gap-2 mb-3"},jt=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-stopwatch"}),t("p",{class:"text-nowrap font-bold"},"Task Duration:")],-1),At={class:""},Nt={class:"flex gap-2 mb-3 align-items-start",style:{width:"100%"}},Mt=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-tags"}),t("p",{class:"text-nowrap font-bold"},"Tags:")],-1),Ft={class:"flex gap-2 flex-wrap"},Lt={class:"field mt-3 flex flex-column"},Bt=t("div",{class:"flex justify-content-start gap-2 align-items-center mb-1 task-detail-property"},[t("span",{class:"pi pi-sliders-h"}),t("p",{class:"text-nowrap font-bold"},"Description:")],-1),Ct=["innerHTML"],Pt={class:"m-0"},Vt={class:"my-3 attach-sec flex align-items-center justify-content-start gap-2",style:{"overflow-x":"scroll"}},Ht={key:0,class:""},Ot=t("p",{class:"text-[#000000]"},"No Attachment",-1),zt=[Ot],Jt=["href"],Et=t("div",{class:"pi pi-file text-6xl attach-icon"},null,-1),Rt={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},Ut=t("p",{class:"text-center"},"No Data found...",-1),Wt={class:"card"},Yt={class:"flex align-items-center gap-3"},Qt=t("span",{class:"pi pi-flag"},null,-1),qt=t("p",{class:"text-nowrap my-auto"},"Bounce Status:",-1),Gt={class:"text-nowrap my-auto"},It={class:"col-12 lg:col-5"},Kt=t("h5",{class:"cmc"},"Comments",-1),Xt={class:"comment-wrapper card"},Zt={class:"comments"},ts={class:"flex justify-content-start align-items-center"},ss={class:"text-lg"},es={key:0,class:"flex justify-content-start my-2"},as=["href"],os=t("div",{class:"pi pi-file attach-icon"},null,-1),is={class:"attach-detail flex flex-column justify-content-center align-items-center"},ls={class:"text-xs"},ns={key:1,class:"m-0 ml-1"},cs={key:2,class:"m-0 ml-1",style:{visibility:"hidden"}},rs={style:{"line-height":"0"},class:"pb-1 float-right"},ds=t("div",{class:"footer"},[t("img",{src:U,alt:"Logo",height:"25",class:"mr-2"}),t("p",{class:"text-center"},"by Singularity")],-1),Is={__name:"index",setup(ps){const W=at(),j=D(!1);it("token").value&&(j.value=!0);const{sharedtask:Y}=et().params,i=D(),f=D([]);(async()=>{const{data:c,pending:d,error:_}=await ot(`${W.public.apiUrl}/tasks/shared/${Y}`,"$aWQCEyjYTm");i.value=c.value.data,f.value=c.value.subTask,console.log(c.value.subTask)})();const A=c=>{const _=c.split("/");return _[_.length-1]},Q=c=>{const d=new Date(c),m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()],u=d.getDate(),$=d.getFullYear().toString().substr(-2),g=d.getHours(),h=d.getMinutes(),T=g>=12?"PM":"AM",x=g%12||12,v=h<10?"0"+h:h;return`${u} ${m}'${$}, ${x}:${v}${T}`};return(c,d)=>{var x,v,N,M,F,L,B,C;const _=G,m=I,u=K,$=X,g=Z,h=tt,T=st;return o(),l("div",null,[t("div",lt,[nt,t("pre",null,a(c.authenticated),1),e(j)?S("",!0):(o(),R(m,{key:0,to:"/login"},{default:r(()=>[n(_,{type:"submit",label:"Login",class:"w-full px-3 py-2 text-xl"})]),_:1}))]),t("div",ct,[t("div",rt,[t("div",null,[t("h5",dt,"Task: "+a((x=e(i))==null?void 0:x.name),1),t("div",pt,[t("div",_t,[t("div",ut,[t("div",ht,[t("div",ft,[t("div",mt,[gt,t("div",xt,[(o(!0),l(b,null,k((v=e(i))==null?void 0:v.assignee,s=>(o(),l("div",{key:s},[t("p",vt,a(s.name),1)]))),128))])]),t("div",yt,[bt,t("p",kt,a((N=e(i))==null?void 0:N.due_date),1)])]),t("div",wt,[t("div",$t,[Tt,t("p",Dt,a((M=e(i))==null?void 0:M.status_name),1)]),t("div",St,[jt,t("p",At,a((F=e(i))==null?void 0:F.total_duration),1)])])]),t("div",Nt,[Mt,t("div",Ft,[(o(!0),l(b,null,k((L=e(i))==null?void 0:L.tags,s=>(o(),l("p",{key:s,class:"employee h-fit"},a(s.name),1))),128))])]),t("div",Lt,[Bt,t("p",{innerHTML:(B=e(i))==null?void 0:B.description,class:"description-section"},null,8,Ct)])]),n(g,{class:"mt-3"},{default:r(()=>{var s,P,V,H;return[n(u,{class:"file-upload",header:"Detail"},{default:r(()=>{var p,O,z,J,E;return[t("p",Pt,"Attachments: "+a(((O=(p=e(i))==null?void 0:p.attachments)==null?void 0:O.length)||0),1),t("div",Vt,[((J=(z=e(i))==null?void 0:z.attachments)==null?void 0:J.length)==0?(o(),l("div",Ht,zt)):S("",!0),(o(!0),l(b,null,k((E=e(i))==null?void 0:E.attachments,(y,q)=>(o(),l("div",{key:y,target:"_blank",class:"card attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-0 py-2 relative",style:{"background-color":"#f7fafc"}},[t("a",{target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-0 py-4 relative",href:`http://188.166.212.40/pera/public${y==null?void 0:y.file}`},[Et,t("div",Rt," Attacthment "+a(q+1),1)],8,Jt)]))),128))])]}),_:1}),n(u,{header:`Sub Tasks ${(P=(s=e(f))==null?void 0:s.children)!=null&&P.length?(H=(V=e(f))==null?void 0:V.children)==null?void 0:H.length:0}`},{default:r(()=>{var p;return[n($,{class:"tree-table",value:(p=e(f))==null?void 0:p.children,lazy:!0,tableProps:{style:{minWidth:"650px"}},style:{overflow:"auto"}},{empty:r(()=>[Ut]),default:r(()=>[n(e(w),{field:"name",header:"Name",expander:"",style:{width:"30%"}}),n(e(w),{field:"assignee",header:"Assignee",style:{width:"20%"}}),n(e(w),{field:"dueDateValue",header:"Due Date",style:{width:"12.5%"}}),n(e(w),{field:"priority",header:"Priority",style:{width:"8%"}})]),_:1},8,["value"])]}),_:1},8,["header"]),n(u,{header:"Bounce"},{default:r(()=>{var p;return[t("div",Wt,[t("div",Yt,[Qt,qt,t("p",Gt,a((p=e(i))==null?void 0:p.is_bounce),1)])])]}),_:1})]}),_:1})])])])]),t("div",It,[t("div",null,[Kt,t("div",Xt,[t("div",Zt,[(o(!0),l(b,null,k((C=e(i))==null?void 0:C.comments,s=>(o(),R(T,{class:"mb-2",key:s.id},{title:r(()=>[t("div",ts,[n(h,{label:s==null?void 0:s.commentator_name.charAt(),class:"mr-2 capitalize",size:"small",style:{"background-color":"gray",color:"#ededed","border-radius":"50%"}},null,8,["label"]),t("p",ss,a(s.commentator_name),1)])]),content:r(()=>[A(s==null?void 0:s.file)?(o(),l("div",es,[t("a",{href:`https://pbe.singularitybd.net/public/storage/${s==null?void 0:s.file}`,target:"_blank",class:"bg-gray-200 attachment-wrapper cursor-pointer flex align-items-center px-3 py-3 gap-2 comment-file",style:{"background-color":"#f7fafc"}},[os,t("div",is,[t("div",ls,a(A(s==null?void 0:s.file)),1)])],8,as)])):S("",!0),s!=null&&s.comment?(o(),l("p",ns,a(s==null?void 0:s.comment),1)):(o(),l("p",cs," . ")),t("i",rs,a(Q(s.created_at)),1)]),_:2},1024))),128))])])])])]),ds])}}};export{Is as default};
