import{u as d,a as v}from"./cookie.32c14903.js";import{a5 as y,$ as l}from"./entry.16a2dcd8.js";const w=y("user",()=>{const r=l(null),s=l(!1);async function n(){const o=d("token"),{data:a,pending:u,error:f}=await v("userProf",()=>$fetch("https://pbe.singularitybd.net/api/v1/users/profile",{headers:{Authorization:`Bearer ${o.value}`}}));r.value=a.value,localStorage.setItem("userCompany",a.value.data.company_id)}async function c(o,a,u,f,h,i){s.value=!0;const e=new FormData;e.append("name",a),e.append("phone",u),e.append("address",h),i!=null&&e.append("image",i);const m=d("token");try{const t=await fetch(`https://pbe.singularitybd.net/api/v1/users/update/${o}`,{method:"POST",headers:{Authorization:`Bearer ${m.value}`},body:e});if(!t.ok)throw new Error("Network response was not ok");n();const p=await t.json();return console.log("User Update data =>",p),p}catch(t){console.error("Error uploading file:",t),s.value=!1}}return{getUserData:n,updateUser:c,userProfile:r}});export{w as u};
