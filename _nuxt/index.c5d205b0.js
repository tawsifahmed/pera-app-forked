import pl from"./toast.esm.f9b0eb5a.js";import{_ as ml}from"./nuxt-link.72990509.js";import wt from"./multiselect.esm.6223553b.js";import _t from"./dropdown.esm.712a537c.js";import xt from"./calendar.esm.295cbe7a.js";import qt from"./button.esm.bf3522d5.js";import fl from"./inputicon.esm.72807dc9.js";import tl from"./inputtext.esm.3ca526fe.js";import ql from"./iconfield.esm.5701f4cf.js";import vl from"./toolbar.esm.001dd344.js";import ll from"./avatar.esm.81e84c89.js";import gl from"./speeddial.esm.44870a4b.js";import nl from"./treetable.esm.24e14a5b.js";import{a3 as Qe,$ as a,a4 as vt,a9 as kt,aq as $e,a5 as ol,V as Kt,a as At,o as p,b as q,i as e,l as s,u as t,a6 as U,e as O,w,c as qe,k as We,s as M,K as ee,t as y,q as ue,F as Ue,f as Ne,ca as al,a2 as jt,a7 as Lt,a8 as Ut,an as hl,B as bl,_ as kl,D as yl,h as wl,m as A,n as _l,g as xl,cb as Dl,I as Pt,ab as Tl,P as Sl}from"./entry.3e1b8942.js";import{u as ot,a as yt}from"./cookie.1089dd42.js";import{d as $l}from"./vuedraggable.umd.3d2c17b5.js";import{u as ke}from"./company.c497d6a1.js";import{a as Fe}from"./usePermission.a9b8b263.js";import Be from"./column.esm.e622d1a3.js";import It from"./textarea.esm.6a78577e.js";import Cl from"./floatlabel.esm.f0d933c7.js";import Vl from"./inputnumber.esm.359178cc.js";import El from"./confirmpopup.esm.564c3a8a.js";import Al from"./tabpanel.esm.4c5f1051.js";import jl from"./tabview.esm.d9295ca8.js";import Ll from"./card.esm.b9d767c9.js";import{u as Wt}from"./clock.4bf65f52.js";import{s as Ul}from"./basecomponent.esm.f04a6bbc.js";import bt from"./dialog.esm.2ecb69ac.js";import"./portal.esm.f200f3b6.js";import"./index.esm.34e4c41f.js";import"./baseicon.esm.1541271c.js";import"./index.esm.66319763.js";import"./index.esm.e079725d.js";import"./index.esm.0529884c.js";import"./checkbox.esm.51a81d60.js";import"./index.esm.f57eed10.js";import"./index.esm.926fe5f4.js";import"./index.esm.a4b87ec9.js";import"./overlayeventbus.esm.3d5bbf9d.js";import"./virtualscroller.esm.f1a288ab.js";import"./index.esm.2388d7c0.js";import"./index.esm.0ec20e67.js";import"./index.esm.dd98cbae.js";import"./badge.esm.2c93124f.js";import"./index.esm.c25333da.js";import"./paginator.esm.c8d843a9.js";import"./index.esm.8ee964ac.js";import"./index.esm.11cfd052.js";import"./index.esm.8d0710b8.js";import"./index.esm.53fe409b.js";import"./index.esm.decdd520.js";import"./index.esm.026cbed7.js";import"./workCompany.31732bd6.js";const Il="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEwElEQVR4nO2dTYgcRRTHy/iBBoligicvXgRRUPCgiDBKdl5NcEDD1JuwLBJFmXmv1yWKEslBe8WDOfmJ6N7FgydFvYiC5K4Y1IuKl6DiNzHRg/kYaTeGYVM1sx/VU6+r6g99mqqa/3u/ruqq7p4ppbKysrKysrKysrKysraodp9uBqSXAOlLbeikRh4FPpaTgIqIlwHSa2DojICkj5KCUCVfI38sINGjJCFUZ76ABI+ShLA65vNpAckdJQkBDL8sIKmjDR2GD6tYBMhfBU8oJtwTNNIJAckcJdsTpgUpzY+ODULjAWDDIUQBABsMIRoA2FAIUQHABkKIDgA2DEKUALBBEKIFgA2BEDUAbACE6AGgcAhJAEDBEJIBgEIhJAUABUJIDgAKg5AkABQEIVkAKARC0gBw9vFtOGBpfnQGkAF4Ve4BgSUNQHLxiTcYe3ziDcYen3iDscfn22B3frALkP+0tQXIfwE+fM2k+q39+y8HpB/tfujZ0PF5Vx0GteHDrvbA0GOT/dCiI/m/dhaWdkiIz6vqMLj7/sWdYOi4I5HflGW5zVYPES8Gw986wD0hJT6vqssgID/narPdY7DWMcMFax1D33e7g+2S4vOmugzO4eAqMPy741rwrq0OIH/mAPCItPi8qU6DgPyMYzg508ZHr1/j416Hh69brfISifF5UZ0GOwtLOzTyb462nx8vC8hH7OWGfanxeVHdBrXhQ/ZewL9UU86qTLtX3G4fquio64ItJb4tq26DLSyuBKSf7e3TA1UZQHrH9nm7R3ukx6eaYBCQn3Sc4e+37jtwtTb8z4Wf8REf350BqNXVbTWVtAD4W5vh0Aqnx3dmAB67qEY+4OgFtuHpPY/fm4egsXs8x6YlZHWKWtyqPCkDGFPHcDEtIRr5TeVRGcAFfwjCP0xKSvXLfeVRGcCY5vbxjRrp1MSkGD6oPCoDGBMY/mD6EER/THtmEJVmdYZAn+9Zx/hvvU0RtWYBoCzLbWDoU8sU9JjtHlC1PujsXbpOpaBZANBYPGhfA/AbGulpx3evqBRUN4Bud7DdNf+vVrvVbWn7hZlO7dm3eIOKXXUD0I4zHJA++b8MGHrL0UPeVrGrTgDtvXSt69nw+J1O6A9v0chnLeXOdvp0h4pZdQLQyCuOs/+oUuqiNWU/nNZTolRdAOYmLrqK+bXlAYdtl4fqM2nxeVNdBsG56KLvXM94bVPV/w7Dn2/2yViSAGDCoguQ2O2lmHd72dyz4eQAlI5F17njJ8THr3DVnfRiVvV2xG2DwaWh4/Mu3wbB8EPO9gwfWkf9pQl+KHR83uXboF6d96/YjuplrXUt3Ay97mhjw39VmRwAaRIfn3iDsccn3mDs8Yk3GHt84g3GHp94g7HHJ95g7PGJNxh7fOINxh6feIOxx+f6Te/MDkMndW949wb8PhXKKxgqI93ChE50sLhrvZ6re0LRbJmikV8MD4BF94RazvzzAHrFTXK2sSKJPaH+zYI08qvhk88SISzPch/Jj8InnyVBWA6wnyS9kocjnn3y114TtKEXtOEvwu8xRiF6QhwbxIXSVmZHtc52UhJsAkJOfkAIOfkBIeTkB4SQkx8QQk5+QAg5+SqMzq0TvM7z/wUrLeMdaCtpkwAAAABJRU5ErkJggg==";const Ol={class:"filter-wrapper pb-2 mb-1"},zl={class:"mb-2 relative"},Ml={class:"mb-2 relative"},Hl={class:"flex flex-wrap gap-1"},Bl=e("img",{src:Il},null,-1),Nl=e("i",{class:"pi pi-search"},null,-1),Fl=e("p",{class:"text-center"},"No data found...",-1),Rl=["onMouseenter"],Jl=["onDblclick"],Yl={class:"task-status"},Gl={key:1},Kl={class:"flex align-items-center"},Pl=["onClick"],Wl=["onMouseenter"],Ql={key:0,class:"flex gap-1 w-full"},Xl={class:"flex justify-content-start gap-1"},Zl=["src"],en={class:"inline-block"},tn={class:"task-status-2"},ln={key:0,class:"flex align-items-center"},nn={key:1},on={class:"flex align-items-center"},an={class:"relative"},sn={class:"inline-block"},rn={class:"task-status-2"},dn={key:0,class:"flex align-items-center"},cn={key:1,class:"pt-1"},un={key:1},pn={class:"flex align-items-center"},mn=["onMouseover","onMouseleave"],fn=["onClick","onMouseleave"],qn={key:1,class:"main-container"},vn={class:"content"},gn={class:"boardContainer",style:{display:"flex","overflow-x":"auto","align-items":"start"}},hn={class:"column-container"},bn={class:""},kn=["onClick"],yn={class:""},wn={class:"font-semibold truncate text-sm title"},_n={class:"flex align-items-center gap-2 mt-1"},xn={class:"status text-sm"},Dn={class:"mt-2 flex align-items-center gap-2"},Tn=e("i",{class:"pi pi-user text-lg"},null,-1),Sn={class:"flex justify-content-start gap-1"},$n=["src"],Cn={class:"mt-2 flex align-items-center gap-2"},Vn=e("i",{class:"pi pi-calendar-minus text-lg"},null,-1),En={class:"mt-2 flex align-items-center gap-2"},An=e("i",{class:"pi pi-flag text-lg"},null,-1),jn={class:"text-sm"},Ln=["onClick"],Un=e("p",{class:"mb-1"},"Subtask",-1),In={class:"text-sm font-semibold"},On=["onClick"],zn={class:"font-semibold truncate text-sm title"},Mn={class:"truncate text-sm desc"},Hn={class:"flex align-items-center gap-2 mt-1"},Bn={class:"status text-sm"},Nn={class:"mt-2 flex align-items-center gap-2"},Fn=e("i",{class:"pi pi-user text-lg"},null,-1),Rn={class:"flex justify-content-start gap-1"},Jn=["src"],Yn={class:"mt-2 flex align-items-center gap-2"},Gn=e("i",{class:"pi pi-calendar-minus text-lg"},null,-1),Kn={class:"mt-2 flex align-items-center gap-2"},Pn=e("i",{class:"pi pi-flag text-lg"},null,-1),Wn={class:"text-sm"},Qn={class:"mt-2 flex align-items-center gap-2"},Xn=e("i",{class:"pi pi-angle-right text-lg"},null,-1),Zn={class:"text-sm font-semibold"},eo={__name:"TaskTable",props:["kanbanTasks","tasks"],emits:["openCreateSpace","handleTaskEdit","handleTaskDetailView","confirmDeleteTask"],setup(o,{emit:u}){var mt;const _=al(),C=ke(),{getSingleProject:Y,getTaskAssignModalData:S,editTask:X}=ke(),{modStatusList:te,singleProject:de,statuslist:Z,isTaskEdited:B}=Qe(ke()),le=a(Fe("create_task")),G=a(Fe("update_task")),ae=a(Fe("delete_task")),ve=a(Fe("download_task")),N=vt(),z=u,K=(mt=kt().params)==null?void 0:mt.projects,F=a(),d=a(),se=a(),ne=a(),oe=a(),R=a(),W=a({}),b=a(!0),h=a([{name:"All",code:""},{name:"Urgent",code:"Urgent"},{name:"High",code:"High"},{name:"Normal",code:"Normal"},{name:"Low",code:"Low"}]),D=a([{name:"Urgent",code:"Urgent"},{name:"High",code:"High"},{name:"Normal",code:"Normal"},{name:"Low",code:"Low"}]),V=a({}),pe=a(null),I=f=>{pe.value=f},ge=a(null),J=a({}),j=a(null),E=a(!1),Re=f=>{j.value=f.data.name,ge.value=f.key,J.value=Object.keys(J.value).reduce((m,H)=>(m[H]=!1,m),{}),J.value={...J.value,[f.key]:!0}},Ie=a(!1);$e(j,(f,m)=>{console.log("newVal",f),console.log("oldVal",m),m!==null&&(Ie.value=!0,console.log("inputChanged",Ie.value))});let L=a(null);const g=f=>{L.value&&(clearTimeout(L.value),L.value=null),L.value=setTimeout(()=>{z("handleTaskDetailView",f),L.value=null},250)},it=f=>{L.value&&(clearTimeout(L.value),L.value=null),Re(f)},me=async f=>{if(Ie.value!==!0)return N.add({severity:"warn",summary:"Error",detail:"Change task name!",group:"br",life:3e3});await Ae(j.value,f),J.value={...J.value,[f]:!1},j.value=null,ge.value=null,Ie.value=!1},he=f=>{V.value={...V.value,[f]:!0}},Xe=f=>{V.value={...V.value,[f]:!1}},_e=f=>[{label:"Add Sub Task",icon:"pi pi-plus text-white",command:()=>{z("openCreateSpace",f.key,"sub-task")},disabled:!le},{label:"Edit Task",icon:"pi pi-pencil text-white",command:()=>{z("handleTaskEdit",f)},disabled:!G},{label:"Task Detail",icon:"pi pi-window-maximize text-white",command:()=>{z("handleTaskDetailView",f)}},{label:"Delete Task",icon:"pi pi-trash text-white",command:()=>{z("confirmDeleteTask",f.key)},disabled:!ae}],Je=a(),Oe=a(),xe=a(),Ce=a(),Ve=a(),De=a(),$=a(null),Dt=()=>{if(F.value||d.value||se.value||R.value||ne.value||oe.value)F.value="",d.value="",se.value="",R.value="",ne.value="",oe.value="",Je.value="",Oe.value="",xe.value="",Ce.value="",Ve.value="",De.value="",ye.value=!1,Ee.value=!1,ce();else return},ce=async()=>{Je.value=F.value?F.value.map(f=>f.id):"",Oe.value=d.value?d.value.code:"",xe.value=se.value?se.value.id:"",Ce.value=R.value,Ve.value=ne.value,De.value=oe.value,Y(K,Je.value,Oe.value,xe.value,Ce.value,Ve.value,De.value)},ye=a(!1),Ee=a(!1),Ye=f=>{const m=new Date(f);ne.value=m.getFullYear()+"-"+(m.getMonth()+1)+"-"+m.getDate(),ye.value=!0,ce()},Tt=f=>{Ee.value=!0;const m=new Date(f);oe.value=m.getFullYear()+"-"+(m.getMonth()+1)+"-"+m.getDate(),ce()},st=()=>{ye.value=!1,ne.value="",Ve.value="",ce()},rt=()=>{Ee.value=!1,oe.value="",De.value="",ce()},Ge=a(!1),St=f=>{if(Ge.value=!0,console.log("lod",f),f.length>0){const m=`data:text/csv;charset=utf-8,"Serial No.","Task Name","Project","Assignee","Priority","Status","Time Tracked","Due Date","Overdue"
`+f.map((Q,be)=>{const et=be+1,Ke=Q.data.name,tt=de.value.name,lt=Q.data.assignee.split(", ").join("; "),He=Q.data.priority?Q.data.priority:"",Pe=Q.data.status.name;let r=Q.data.total_duration;const i=Math.floor(r/3600),l=Math.floor(r%3600/60),n=r%60;i>0?r=`${i} hr ${l} min ${n} sec`:l>0?r=`${l} min ${n} sec`:r=`${n} sec`;const v=Q.data.dueDateValue,k=Q.data.is_overdue?"Yes":"No";return`"${et}","${Ke}","${tt}","${lt}","${He}","${Pe}","${r}","${v}","${k}"`}).join(`
`),H=encodeURI(m),P=document.createElement("a");P.setAttribute("href",H),P.setAttribute("download","tasks.csv"),document.body.appendChild(P),P.click(),document.body.removeChild(P),Ge.value=!1}else Ge.value=!1,N.add({severity:"error",summary:"Error",detail:"No data found to download",group:"br",life:3e3})},ht=a(!0);ol(async()=>{await Y(K),ht.value=!1,Ct()});async function dt(f,m){var H;try{const P=ot("token"),{data:Q,pending:be}=await yt(`${_.public.apiUrl}/tasks/update/${m}`,{method:"POST",headers:{Authorization:`Bearer ${P.value}`},body:{status:f==null?void 0:f.id}},"$7UcE4NQ81w");((H=Q.value)==null?void 0:H.app_message)==="success"?(console.log("Status Changed",Q),N.add({severity:"success",summary:"Successful",detail:"Status Changed",group:"br",life:3e3}),await Y(K)):N.add({severity:"error",summary:"Error",detail:"Unable to change status",group:"br",life:3e3})}catch(P){console.error("Error fetching data:",P)}}const ct=a(!1),Ae=async(f,m)=>{if(f instanceof Date){ct.value=!0;let H;if(f){const Q=new Date(f);Q.setDate(Q.getDate()+1),H=Q.toISOString()}const P={id:m,dueDate:H?new Date(new Date(H).getTime()-18*60*60*1e3).toISOString().slice(0,19).replace("T"," "):null,project_id:K};await X(P),B.value===!0?(ct.value=!1,N.add({severity:"success",summary:"Successful",detail:"Due date updated ",group:"br",life:3e3})):(ct.value=!1,N.add({severity:"error",summary:"Error",detail:"Unable to update due date!",group:"br",life:3e3}))}else if(f!=null&&f.name){const H={id:m,priority:f.name,project_id:K};await X(H),B.value===!0?N.add({severity:"success",summary:"Successful",detail:"Priority updated ",group:"br",life:3e3}):N.add({severity:"error",summary:"Error",detail:"Unable to update task priority!",group:"br",life:3e3})}else E.value=!0,await X({id:m,name:f,project_id:K}),B.value===!0?(N.add({severity:"success",summary:"Successful",detail:"Task name updated ",group:"br",life:3e3}),E.value=!1):(N.add({severity:"error",summary:"Error",detail:"Unable to update task name!",group:"br",life:3e3}),E.value=!1)},Ze=a(),$t=async(f,m)=>{console.log("newDate",f),m.node.data.dueDateValue;const H=new Date(f);H.setHours(23,59,0,0),Ze.value=H,console.log("inlineDueDate",Ze.value);let P=new Date(Ze.value).toLocaleDateString("en-US",{month:"short",day:"2-digit"});console.log("placeHolderValue",P),m.node.data.dueDateValue=P,await Ae(Ze.value,m.node.key)};function ze(){const f="0123456789ABCDEF";let m="#";for(let H=0;H<6;H++)m+=f[Math.floor(Math.random()*10)];return m}function ut(f){return{backgroundColor:ze(),color:"white",borderRadius:"50%",border:"2px solid white"}}const Ct=async()=>{await S(),W.value=C.users},Te=a(!0),Me=Kt(()=>({animation:250,group:"tasks",disabled:!Te.value,ghostClass:"ghost"})),pt=Kt(()=>({backgroundColor:"#fff",boxShadow:"0px 2px 2px #e2e2e2",cursor:"grab",padding:"12px 10px",margin:"8px 0px"})),Vt=(f,m)=>{const{added:H,moved:P,removed:Q}=f;H&&dt(m,f.added.element.key)};return(f,m)=>{const H=wt,P=_t,Q=xt,be=qt,et=fl,Ke=tl,tt=ql,lt=vl,He=ll,Pe=gl,r=nl,i=At("tooltip");return p(),q(Ue,null,[e("div",Ol,[s(H,{onChange:m[0]||(m[0]=l=>ce()),modelValue:t(F),"onUpdate:modelValue":m[1]||(m[1]=l=>U(F)?F.value=l:null),options:t(W),filter:"",resetFilterOnHide:"",optionLabel:"name",placeholder:"Filter Assignees",maxSelectedLabels:3,class:"w-full md:w-17rem mb-2"},null,8,["modelValue","options"]),s(P,{onChange:m[2]||(m[2]=l=>ce()),modelValue:t(d),"onUpdate:modelValue":m[3]||(m[3]=l=>U(d)?d.value=l:null),options:t(h),optionLabel:"name",placeholder:"Filter Priority",class:"w-full md:w-17rem mb-2"},null,8,["modelValue","options"]),s(P,{onChange:m[4]||(m[4]=l=>ce()),modelValue:t(se),"onUpdate:modelValue":m[5]||(m[5]=l=>U(se)?se.value=l:null),options:t(te),optionLabel:"name",placeholder:"Filter Status",class:"w-full md:w-17rem mb-2"},null,8,["modelValue","options"]),e("div",zl,[s(Q,{onDateSelect:m[6]||(m[6]=l=>Ye(l)),modelValue:t(ne),"onUpdate:modelValue":m[7]||(m[7]=l=>U(ne)?ne.value=l:null),placeholder:"Filter Start Due Date",class:"w-full md:w-17rem"},null,8,["modelValue"]),t(ye)?(p(),q("p",{key:0,onClick:st,class:"pi pi-times absolute cursor-pointer"})):O("",!0)]),e("div",Ml,[s(Q,{onDateSelect:m[8]||(m[8]=l=>Tt(l)),modelValue:t(oe),"onUpdate:modelValue":m[9]||(m[9]=l=>U(oe)?oe.value=l:null),placeholder:"Filter End Due Date",class:"w-full md:w-17rem"},null,8,["modelValue"]),t(Ee)?(p(),q("p",{key:0,onClick:rt,class:"pi pi-times end-cross absolute cursor-pointer"})):O("",!0)]),s(be,{onClick:Dt,label:"Reset",class:"mr-2 w-full md:w-15rem mb-2",severity:"secondary"})]),s(lt,{class:"border-0 px-0"},{start:w(()=>[e("div",Hl,[t(le)?(p(),qe(be,{key:0,icon:"pi pi-plus",label:"Create Task",onClick:m[10]||(m[10]=l=>z("openCreateSpace","","task")),class:"mr-2",severity:"secondary"})):O("",!0),e("div",null,[s(be,{icon:"pi pi-list",label:"List",onClick:m[11]||(m[11]=()=>b.value=!0),class:We(["table-btn",{"bg-indigo-400 text-white":t(b)}]),severity:"secondary"},null,8,["class"]),s(be,{icon:"pi pi-th-large",label:"Board",onClick:m[12]||(m[12]=()=>b.value=!1),class:We(["board-btn",{"bg-indigo-400 text-white":!t(b)}]),severity:"secondary"},null,8,["class"])]),t(ve)?M((p(),qe(be,{key:1,onClick:m[13]||(m[13]=l=>St(o.tasks)),loading:t(Ge),style:ee(`${t(Ge)===!0?"backGround: red":""}`),class:"excel-export-btn"},{default:w(()=>[Bl]),_:1},8,["loading","style"])),[[i,{value:"Download Tasks"},void 0,{right:!0}]]):O("",!0)])]),end:w(()=>[s(tt,{iconPosition:"right",raised:""},{default:w(()=>[s(et,null,{default:w(()=>[Nl]),_:1}),s(Ke,{onKeyup:m[14]||(m[14]=l=>ce()),modelValue:t(R),"onUpdate:modelValue":m[15]||(m[15]=l=>U(R)?R.value=l:null),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})]),_:1}),t(b)?(p(),qe(r,{key:0,class:"table-st",stripedRows:"",value:o.tasks,scrollable:"",scrollDirection:"both",lazy:!0,loading:t(ht),filterDisplay:"menu",style:{overflow:"auto"}},{empty:w(()=>[Fl]),default:w(()=>[s(t(Be),{field:"name",header:"Name",class:"tone",expander:"",style:{width:"590px"},showAddButton:!0},{body:w(l=>[e("div",{class:"inline-block w-full tasktitle-hover cursor-pointer",onMouseenter:n=>I(l.node.key)},[e("div",{onDblclick:n=>it(l.node),class:"inline-block w-full relative"},[M((p(),q("div",Yl,[s(P,{class:"mr-1 flex justify-content-center align-items-center",onChange:n=>dt(l.node.data.status,l.node.key),modelValue:l.node.data.status,"onUpdate:modelValue":n=>l.node.data.status=n,options:t(Z),disabled:!t(G),optionLabel:"name"},{value:w(n=>[n.value?(p(),q("div",{key:0,class:"flex align-items-center",style:ee({backgroundColor:n.value.color_code})},[e("div",{style:ee({backgroundColor:n.value.color_code}),class:"status-bg"},null,4)],4)):(p(),q("span",Gl,y(n.placeholder),1))]),option:w(n=>[e("div",Kl,[e("div",{style:ee([{backgroundColor:n.option.color_code},{width:"15px",height:"15px","border-radius":"50%"}]),class:"p-1 mr-2 pi"},null,4),e("div",null,y(n.option.name),1)])]),_:2},1032,["onChange","modelValue","onUpdate:modelValue","options","disabled"])])),[[i,{value:`${l.node.data.status.name}`},void 0,{top:!0}]]),M((p(),q("span",{onClick:n=>g(l.node),class:"taskTitle cursor-pointer"},[ue(y(l.node.data.name),1)],8,Pl)),[[i,{value:`${l.node.data.name}`},void 0,{left:!0}]]),e("span",null,[t(ge)===l.node.key?(p(),qe(Ke,{key:0,class:"inline-task-input",modelValue:t(j),"onUpdate:modelValue":m[16]||(m[16]=n=>U(j)?j.value=n:null),type:"text",placeholder:"Edit task title"},null,8,["modelValue"])):O("",!0)])],40,Jl)],40,Rl)]),_:1}),s(t(Be),{field:"",header:"",style:{width:"75px",padding:"0.75rem .9rem"}},{body:w(l=>[e("div",{class:"w-full h-full flex align-items center",onMouseenter:n=>I(l.node.key)},[t(pe)===l.node.key?(p(),q("div",Ql,[t(J)[l.node.key]?O("",!0):M((p(),qe(be,{key:0,onClick:n=>Re(l.node),severity:"secondary",icon:"pi pi-pencil",class:"w-fit h-fit p-1 ml-auto",style:{"font-size":"0.8rem !important"}},null,8,["onClick"])),[[i,{value:"Edit Name",showDelay:500},void 0,{top:!0}]]),t(J)[l.node.key]?O("",!0):M((p(),qe(be,{key:1,onClick:n=>z("openCreateSpace",l.node.key,"sub-task"),severity:"secondary",icon:"pi pi-plus",class:"w-fit h-fit p-1 ml-auto",style:{"font-size":"0.2rem"}},null,8,["onClick"])),[[i,{value:"Add Sub Task",showDelay:500},void 0,{top:!0}]]),t(J)[l.node.key]?M((p(),qe(be,{key:2,onClick:n=>me(l.node.key),loading:t(E),severity:"primary",icon:"pi pi-check",class:"p-1 w-full",style:{"font-size":"0.2rem"}},null,8,["onClick","loading"])),[[i,{value:"Update Name"},void 0,{top:!0}]]):O("",!0)])):O("",!0)],40,Wl)]),_:1}),s(t(Be),{field:"assignee",header:"Assignee",style:{width:"270px"}},{body:w(l=>[e("div",Xl,[(p(!0),q(Ue,null,Ne(l.node.data.assigneeObj,(n,v)=>(p(),q("span",{key:v,class:"flex justify-content-center assignee-wrapper",style:ee({marginLeft:v>0?"-20px":"0",zIndex:10-v})},[n.image?M((p(),q("img",{key:0,class:"mr-2 capitalize cursor-pointer",src:n.image,style:{height:"28px",width:"28px","border-radius":"32px",border:"2px solid white"},alt:"",srcset:""},null,8,Zl)),[[i,{value:`${n.name}`},void 0,{top:!0}]]):M((p(),qe(He,{key:1,label:n.name.charAt(0),class:"mr-2 capitalize cursor-pointer",size:"small",style:ee([{"background-color":"black",color:"white","border-radius":"50%",border:"2px solid white"},ut(v)])},null,8,["label","style"])),[[i,{value:`${n.name}`},void 0,{top:!0}]])],4))),128))])]),_:1}),s(t(Be),{field:"status",header:"Status",style:{width:"148px"}},{body:w(l=>[e("div",en,[e("div",tn,[s(P,{class:"mr-1 flex justify-content-center align-items-center",onChange:n=>dt(l.node.data.status,l.node.key),modelValue:l.node.data.status,"onUpdate:modelValue":n=>l.node.data.status=n,options:t(Z),disabled:!t(G),optionLabel:"name"},{value:w(n=>[n.value?(p(),q("div",ln,[e("div",{style:ee({color:n.value.color_code,fontWeight:500}),class:"pt-1"},y(n.value.name),5)])):(p(),q("span",nn,y(n.placeholder),1))]),option:w(n=>[e("div",on,[e("div",{style:ee([{backgroundColor:n.option.color_code},{width:"15px",height:"15px","border-radius":"50%"}]),class:"p-1 mr-2 pi"},null,4),e("div",null,y(n.option.name),1)])]),_:2},1032,["onChange","modelValue","onUpdate:modelValue","options","disabled"])])])]),_:1}),s(t(Be),{field:"dueDateValue",header:"Due Date",style:{textWrap:"nowrap",width:"148px"}},{body:w(l=>[e("div",an,[s(Q,{onDateSelect:n=>$t(n,l),class:We(["inline-calendar cursor-pointer",l.node.data.dueDateColor==="#087641"&&l.node.data.dueDateValue?"green-calendar":l.node.data.dueDateColor==="#b13a41"&&l.node.data.dueDateValue?"red-calendar":""]),placeholder:l.node.data.dueDateValue?l.node.data.dueDateValue:"Set"},null,8,["onDateSelect","class","placeholder"])])]),_:1}),s(t(Be),{field:"priority",header:"Priority",style:{width:"140px"}},{body:w(l=>[e("div",sn,[e("div",rn,[s(P,{class:"mr-1 flex justify-content-center align-items-center",onChange:n=>Ae(l.node.data.priority,l.node.key),modelValue:l.node.data.priority,"onUpdate:modelValue":n=>l.node.data.priority=n,options:t(D),disabled:!t(G),optionLabel:"name",placeholder:"Set Priority"},{value:w(n=>[n.value?(p(),q("div",dn,[n.value.name?(p(),q("div",{key:0,style:ee({color:n.value.name==="Low"?"#e1aa1e":n.value.name==="Normal"?"#067bea":n.value.name==="High"?"#ff4928":n.value.name==="Urgent"?"crimson":"",fontWeight:500}),class:"pt-1"},y(n.value.name),5)):(p(),q("div",cn,"Set "))])):(p(),q("span",un,y(n.placeholder),1))]),option:w(n=>[e("div",pn,[e("div",null,y(n.option.name),1)])]),_:2},1032,["onChange","modelValue","onUpdate:modelValue","options","disabled"])])])]),_:1}),s(t(Be),{field:"action",header:"Action",style:{width:"73px",position:"relative"}},{body:w(l=>[e("div",{class:"justify-content-start align-items-center webView-action",style:{width:"fit-content"},onMouseover:n=>he(l.node.key),onMouseleave:n=>Xe(l.node.key)},[s(Pe,{visible:t(V)[l.node.key],"onUpdate:visible":n=>t(V)[l.node.key]=n,model:_e(l.node),direction:"left",class:"custom-speed-dial",tooltipOptions:{position:"top"}},null,8,["visible","onUpdate:visible","model"])],40,mn),e("div",{class:"justify-content-start align-items-center tabView-action",style:{width:"fit-content"},onClick:n=>he(l.node.key),onMouseleave:n=>Xe(l.node.key)},[s(Pe,{visible:t(V)[l.node.key],"onUpdate:visible":n=>t(V)[l.node.key]=n,model:_e(l.node),direction:"left",class:"custom-speed-dial",tooltipOptions:{position:"top"}},null,8,["visible","onUpdate:visible","model"])],40,fn)]),_:1})]),_:1},8,["value","loading"])):O("",!0),t(b)?O("",!0):(p(),q("div",qn,[e("div",vn,[e("div",null,[e("div",gn,[(p(!0),q(Ue,null,Ne(o.kanbanTasks,l=>(p(),q("div",{key:l,class:"groupColumnContainer"},[e("div",hn,[e("div",{style:ee(`background-color: ${l.statusColor}; `),class:"column-header"},y(l.name)+" - "+y(l.content.length),5),s(t($l),{modelValue:l.content,"onUpdate:modelValue":n=>l.content=n,options:t(Me),disabled:!t(G),class:"draggable scrollbar",itemKey:"name",group:"cardItem",onChange:n=>Vt(n,l.status)},{item:w(({element:n})=>[e("div",bn,[(p(),q("div",{class:"task-card",style:ee(t(pt)),key:n.id,onClick:v=>f.$emit("handleTaskDetailView",n,l.content,l.name)},[e("div",yn,[M((p(),q("p",wn,[ue(y(n.data.name),1)])),[[i,{value:`${n.data.name}`},void 0,{top:!0}]]),e("div",_n,[e("div",{class:"status-icon",style:ee(`background-color:${n.data.status.color_code}`)},null,4),e("p",xn,y(n.data.status.name),1)]),e("div",Dn,[Tn,e("div",Sn,[(p(!0),q(Ue,null,Ne(n.data.assigneeObj,(v,k)=>(p(),q("span",{key:k,class:"flex justify-content-center assignee-wrapper",style:ee({marginLeft:k>0?"-20px":"0",zIndex:10-k})},[v.image?M((p(),q("img",{key:0,class:"mr-2 capitalize cursor-pointer",src:v.image,style:{height:"28px",width:"28px","border-radius":"32px",border:"2px solid white"},alt:"",srcset:""},null,8,$n)),[[i,{value:`${v.name}`},void 0,{top:!0}]]):M((p(),qe(He,{key:1,label:v.name.charAt(0),class:"mr-2 capitalize cursor-pointer",size:"small",style:ee([{"background-color":"black",color:"white","border-radius":"50%",border:"2px solid white"},ut(k)])},null,8,["label","style"])),[[i,{value:`${v.name}`},void 0,{top:!0}]])],4))),128))])]),e("div",Cn,[Vn,e("p",{style:ee(`color: ${n.data.dueDateColor}; font-weight: 500;`),class:"text-sm"},y(n.data.dueDateValue),5)]),e("div",En,[An,e("p",jn,y(n.data.priority),1)]),e("div",{class:"mt-2 flex align-items-center gap-2 cursor-pointer p-1 rounded hover:bg-gray-100",style:{"border-radius":"5px"},onClick:v=>{v.stopPropagation(),t($)==n.unique_id?$.value=null:$.value=n.unique_id}},[Un,e("i",{class:We(`pi ${t($)==n.unique_id?"pi-angle-down":"pi-angle-right"}  text-lg`)},null,2),e("p",In,y(n.children.length),1)],8,Ln)]),ue(" "+y(n.t_name),1)],12,kn)),e("div",{class:We(t($)===n.unique_id?"":"hidden")},[(p(!0),q(Ue,null,Ne(n.children,v=>(p(),q("div",{key:v.unique_id,class:"sub-card",onClick:k=>f.$emit("handleTaskDetailView",v,l.content,l.name)},[e("p",zn,y(v.data.name),1),e("p",Mn,y(v.data.description),1),e("div",Hn,[e("div",{class:"status-icon",style:ee(`background-color:${v.data.status.color_code}`)},null,4),e("p",Bn,y(v.data.status.name),1)]),e("div",Nn,[Fn,e("div",Rn,[(p(!0),q(Ue,null,Ne(v.data.assigneeObj,(k,T)=>(p(),q("span",{key:T,class:"flex justify-content-center assignee-wrapper",style:ee({marginLeft:T>0?"-20px":"0",zIndex:10-T})},[k.image?M((p(),q("img",{key:0,class:"mr-2 capitalize cursor-pointer",src:k.image,style:{height:"28px",width:"28px","border-radius":"32px",border:"2px solid white"},alt:"",srcset:""},null,8,Jn)),[[i,{value:`${k.name}`},void 0,{top:!0}]]):M((p(),qe(He,{key:1,label:k.name.charAt(0),class:"mr-2 capitalize cursor-pointer",size:"small",style:ee([{"background-color":"black",color:"white","border-radius":"50%",border:"2px solid white"},ut(T)])},null,8,["label","style"])),[[i,{value:`${k.name}`},void 0,{top:!0}]])],4))),128))])]),e("div",Yn,[Gn,e("p",{style:ee(`color: ${v.data.dueDateColor}; font-weight: 500;`),class:"text-sm"},y(v.data.dueDateValue),5)]),e("div",Kn,[Pn,e("p",Wn,y(v.data.priority),1)]),e("div",Qn,[Xn,e("p",Zn,y(v.children.length),1)])],8,On))),128))],2)])]),_:2},1032,["modelValue","onUpdate:modelValue","options","disabled","onChange"])])]))),128))])])])]))],64)}}};const il=o=>(Lt("data-v-7ee8e54f"),o=o(),Ut(),o),to={class:"field flex flex-column"},lo={for:"name"},no=il(()=>e("i",{class:"text-red-400 text-italic"},"*",-1)),oo={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},ao={class:"field"},io={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},so={class:"field"},ro={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},co={class:"field"},uo={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},po={class:"field"},mo={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},fo=il(()=>e("br",null,null,-1)),qo={key:0,class:"text-center",style:{color:"red"}},vo={class:"create-btn-wrapper mb-0"},go={__name:"CreateTask",props:["createTaskTitle","taskId","projects","usersLists","tagsLists"],emits:["closeCreateModal"],setup(o,{emit:u}){const{createTask:_}=ke(),{isTaskCreated:C,detectDuplicateTask:Y}=Qe(ke()),{createTaskTitle:S,taskId:X,projects:te,usersLists:de,tagsLists:Z}=o,B=vt(),le=a(!1),G=a(X),ae=a(!0),ve=a(!1),N=a(!1),z=a(null),ie=a(null),K=a(null),F=a(null),d=a(null),se=a(!1),ne=a([{name:"Urgent",code:"Urgent"},{name:"High",code:"High"},{name:"Normal",code:"Normal"},{name:"Low",code:"Low"}]),oe=u,R=b=>{if(console.log("test druve"),se.value)ie.value=b;else{const h=new Date(b);h.setHours(23,59,0,0),ie.value=h}};$e(ie,(b,h)=>{b&&h&&b!==h&&(se.value=!0)});const W=async()=>{var b,h,D;if(le.value=!0,z.value===null)N.value=!0,le.value=!1;else{N.value=!1;let V;if(ie.value){const I=new Date(ie.value);I.setDate(I.getDate()+1),V=I.toISOString()}const pe={name:z.value,dueDate:V?new Date(new Date(V).getTime()-18*60*60*1e3).toISOString().slice(0,19).replace("T"," "):null,assignees:(b=K.value)==null?void 0:b.map(I=>I.id),tags:(h=F.value)==null?void 0:h.map(I=>I.id),priority:(D=d.value)==null?void 0:D.name,project_id:te,parent_task_id:X};if(V){const I=new Date(V);I.setDate(I.getDate()-1),ie.value=I?new Date(I).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","").toLowerCase():null}await _(pe),Y.value===!0?(le.value=!1,B.add({severity:"error",summary:"Error",detail:"Task already exists!",group:"br",life:3e3})):C.value===!0?(le.value=!1,ae.value=!1,ve.value=!0,z.value=null,oe("closeCreateModal",!1),B.add({severity:"success",summary:"Successful",detail:"Task created Successfully",group:"br",life:3e3})):(le.value=!1,B.add({severity:"error",summary:"Error",detail:"Unable to create task!",group:"br",life:3e3}))}};return(b,h)=>{const D=tl,V=It,pe=wt,I=xt,ge=_t,J=qt,j=At("tooltip");return p(),q("div",null,[s(D,{type:"hidden",modelValue:t(G),"onUpdate:modelValue":h[0]||(h[0]=E=>U(G)?G.value=E:null)},null,8,["modelValue"]),e("div",to,[e("label",lo,[ue("Set Task Name"),no,ue(),M(e("span",oo,null,512),[[j,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),s(V,{id:"description",class:"border-gray-300",modelValue:t(z),"onUpdate:modelValue":h[1]||(h[1]=E=>U(z)?z.value=E:null),rows:"3",cols:"20",invalid:b.spaceDescriptionError},null,8,["modelValue","invalid"])]),e("div",ao,[e("label",null,[ue("Assignees "),M(e("span",io,null,512),[[j,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),s(pe,{display:"chip",modelValue:t(K),"onUpdate:modelValue":h[2]||(h[2]=E=>U(K)?K.value=E:null),options:o.usersLists,filter:"",resetFilterOnHide:"",optionLabel:"name",placeholder:"Select Assignees",maxSelectedLabels:5,class:"w-full"},null,8,["modelValue","options"])]),e("div",so,[e("label",null,[ue("Tags "),M(e("span",ro,null,512),[[j,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),s(pe,{display:"chip",modelValue:t(F),"onUpdate:modelValue":h[3]||(h[3]=E=>U(F)?F.value=E:null),options:o.tagsLists,filter:"",resetFilterOnHide:"",optionLabel:"name",placeholder:"Select Tags",maxSelectedLabels:5,class:"w-full"},null,8,["modelValue","options"])]),e("div",co,[e("label",null,[ue("Due Date "),M(e("span",uo,null,512),[[j,{value:"Set your task due date"},void 0,{right:!0}]])]),s(I,{modelValue:t(ie),"onUpdate:modelValue":h[4]||(h[4]=E=>U(ie)?ie.value=E:null),class:"w-full clndr",placeholder:"Set Due Date",showTime:"",hideOnDateTimeSelect:"",hourFormat:"12",onDateSelect:h[5]||(h[5]=E=>R(E))},null,8,["modelValue"])]),e("div",po,[e("label",null,[ue("Priority "),M(e("span",mo,null,512),[[j,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),s(ge,{modelValue:t(d),"onUpdate:modelValue":h[6]||(h[6]=E=>U(d)?d.value=E:null),options:t(ne),optionLabel:"name",placeholder:"Set Priority",class:"w-full"},null,8,["modelValue","options"])]),fo,t(N)?(p(),q("p",qo,"Please add task name")):O("",!0),e("div",vo,[s(J,{label:"Save",icon:"pi pi-check",text:"",onClick:W,loading:t(le)},null,8,["loading"])])])}}},ho=jt(go,[["__scopeId","data-v-7ee8e54f"]]);const at=o=>(Lt("data-v-31d1b6b7"),o=o(),Ut(),o),bo={class:"position-relative d-flex flex-column justify-content-between w-100 modal-container"},ko={class:"field flex flex-column"},yo=at(()=>e("label",{for:"name"},[ue("Edit Task Name"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),wo={class:"field"},_o=at(()=>e("label",null,"Assignees",-1)),xo={class:"field"},Do=at(()=>e("label",null,"Tags",-1)),To={class:"field"},So=at(()=>e("label",null,"Due Date",-1)),$o={class:"field"},Co=at(()=>e("label",null,"Priority",-1)),Vo=at(()=>e("br",null,null,-1)),Eo={key:0,class:"text-center",style:{color:"red"}},Ao={class:"create-btn-wrapper mb-0"},jo={__name:"EditTask",props:["singleTask","usersLists","tagsLists","projects"],emits:["closeEditModal"],setup(o,{emit:u}){var ne,oe,R,W,b;const{editTask:_}=ke(),{isTaskEdited:C,detectDuplicateTask:Y}=Qe(ke()),{singleTask:S,usersLists:X,tagsLists:te,projects:de}=o,Z=vt(),B=a(!1),le=a((ne=S==null?void 0:S.data)==null?void 0:ne.name),G=a((oe=S==null?void 0:S.data)!=null&&oe.dueDate?new Date(S.data.dueDate).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","").toLowerCase():null),ae=a(!1),ve=a(null);ve.value=(R=S==null?void 0:S.data)!=null&&R.assigneeObj?(W=S==null?void 0:S.data)==null?void 0:W.assigneeObj.map(h=>({id:h.id,name:h.name})):"";const N=a((b=S==null?void 0:S.data)==null?void 0:b.tagsObj),z=a(null);z.value=S.data.priority?{name:S.data.priority.name,code:S.data.priority.code}:"";const ie=a([{name:"Urgent",code:"Urgent"},{name:"High",code:"High"},{name:"Normal",code:"Normal"},{name:"Low",code:"Low"}]),K=a(!1),F=u,d=h=>{if(console.log("test druve"),ae.value)G.value=h;else{const D=new Date(h);D.setHours(23,59,0,0),G.value=D}};$e(G,(h,D)=>{h&&D&&h!==D&&(ae.value=!0)});const se=async()=>{if(B.value=!0,le.value===null)K.value=!0,B.value=!1;else{K.value=!1;let h;if(G.value){const V=new Date(G.value);V.setDate(V.getDate()+1),h=V.toISOString()}const D={id:S.key,name:le.value,priority:z.value.name,dueDate:h?new Date(new Date(h).getTime()-18*60*60*1e3).toISOString().slice(0,19).replace("T"," "):null,assignees:ve.value.map(V=>V.id),tags:N.value.map(V=>V.id),project_id:de};if(h){const V=new Date(h);V.setDate(V.getDate()-1),G.value=V?new Date(V).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","").toLowerCase():null}await _(D),Y.value===!0?(B.value=!1,Z.add({severity:"error",summary:"Error",detail:"Cannnot edit, edited task name already exists!",group:"br",life:3e3})):C.value===!0?(B.value=!1,F("closeEditModal",!1),F("visibleEdit","visibleEdit"),Z.add({severity:"success",summary:"Successful",detail:"Task updated Successfully",group:"br",life:3e3})):(B.value=!1,Z.add({severity:"error",summary:"Error",detail:"Unable to update task!",group:"br",life:3e3}))}};return(h,D)=>{const V=It,pe=wt,I=xt,ge=_t,J=qt;return p(),q("div",bo,[e("div",null,[e("div",ko,[yo,s(V,{id:"description",class:"border-gray-300",modelValue:t(le),"onUpdate:modelValue":D[0]||(D[0]=j=>U(le)?le.value=j:null),rows:"3",cols:"15",invalid:h.spaceDescriptionError},null,8,["modelValue","invalid"])]),e("div",wo,[_o,s(pe,{display:"chip",modelValue:t(ve),"onUpdate:modelValue":D[1]||(D[1]=j=>U(ve)?ve.value=j:null),options:o.usersLists,filter:"",resetFilterOnHide:"",optionLabel:"name",placeholder:"Select Assignees",maxSelectedLabels:3,class:"w-full"},null,8,["modelValue","options"])]),e("div",xo,[Do,s(pe,{display:"chip",modelValue:t(N),"onUpdate:modelValue":D[2]||(D[2]=j=>U(N)?N.value=j:null),options:o.tagsLists,filter:"",resetFilterOnHide:"",optionLabel:"name",placeholder:"Select Tags",maxSelectedLabels:3,class:"w-full"},null,8,["modelValue","options"])]),e("div",To,[So,s(I,{modelValue:t(G),"onUpdate:modelValue":D[3]||(D[3]=j=>U(G)?G.value=j:null),class:"w-full",placeholder:"Set Due Date",showTime:"",hideOnDateTimeSelect:"",hourFormat:"12",onDateSelect:D[4]||(D[4]=j=>d(j))},null,8,["modelValue"])]),e("div",$o,[Co,s(ge,{modelValue:t(z),"onUpdate:modelValue":D[5]||(D[5]=j=>U(z)?z.value=j:null),options:t(ie),optionLabel:"name",placeholder:"Set Priority",class:"w-full"},null,8,["modelValue","options"])]),Vo,t(K)?(p(),q("p",Eo,"Please add/fill/check up all the fields ")):O("",!0),e("div",Ao,[s(J,{label:"Update",icon:"pi pi-check",text:"",onClick:se,loading:t(B)},null,8,["loading"])])])])}}},Lo=jt(jo,[["__scopeId","data-v-31d1b6b7"]]),Qt=hl("fileUpload",()=>{const o=a(!1),u=a(!1),_=a(!1);async function C(S,X){u.value=!0;const te=new FormData;te.append("task_id",S),te.append("attachments",X);const de=ot("token");try{const Z=await fetch("https://pbe.singularitybd.net/api/v1/tasks/attachment-upload",{method:"POST",headers:{Authorization:`Bearer ${de.value}`},body:te});if(!Z.ok)throw new Error("Network response was not ok");const B=await Z.json();console.log("upload data =>",B),(B==null?void 0:B.user_message)==="success"?o.value=!0:o.value=!1,u.value=!1}catch(Z){console.error("Error uploading file:",Z),o.value=!1,u.value=!1}}async function Y(S){const X=ot("token");try{const te=await fetch(`https://pbe.singularitybd.net/api/v1/tasks/attachment-delete/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${X.value}`}});if(!te.ok)throw new Error("Network response was not ok");const de=await te.json();console.log("delete data =>",de),(de==null?void 0:de.user_message)==="success"?_.value=!0:_.value=!1}catch(te){console.error("Error uploading file:",te),_.value=!1}}return{fileUpload:C,fileDelete:Y,isFileUpload:o,isLoading:u,isFileDeleted:_}});var Uo=`
/*!
* Quill Editor v1.3.3
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/
.ql-container {
    box-sizing: border-box;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 13px;
    height: 100%;
    margin: 0px;
    position: relative;
}
.ql-container.ql-disabled .ql-tooltip {
    visibility: hidden;
}
.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
    pointer-events: none;
}
.ql-clipboard {
    left: -100000px;
    height: 1px;
    overflow-y: hidden;
    position: absolute;
    top: 50%;
}
.ql-clipboard p {
    margin: 0;
    padding: 0;
}
.ql-editor {
    box-sizing: border-box;
    line-height: 1.42;
    height: 100%;
    outline: none;
    overflow-y: auto;
    padding: 12px 15px;
    tab-size: 4;
    -moz-tab-size: 4;
    text-align: left;
    white-space: pre-wrap;
    word-wrap: break-word;
}
.ql-editor > * {
    cursor: text;
}
.ql-editor p,
.ql-editor ol,
.ql-editor ul,
.ql-editor pre,
.ql-editor blockquote,
.ql-editor h1,
.ql-editor h2,
.ql-editor h3,
.ql-editor h4,
.ql-editor h5,
.ql-editor h6 {
    margin: 0;
    padding: 0;
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol,
.ql-editor ul {
    padding-left: 1.5rem;
}
.ql-editor ol > li,
.ql-editor ul > li {
    list-style-type: none;
}
.ql-editor ul > li::before {
    content: '\\2022';
}
.ql-editor ul[data-checked='true'],
.ql-editor ul[data-checked='false'] {
    pointer-events: none;
}
.ql-editor ul[data-checked='true'] > li *,
.ql-editor ul[data-checked='false'] > li * {
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before,
.ql-editor ul[data-checked='false'] > li::before {
    color: #777;
    cursor: pointer;
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before {
    content: '\\2611';
}
.ql-editor ul[data-checked='false'] > li::before {
    content: '\\2610';
}
.ql-editor li::before {
    display: inline-block;
    white-space: nowrap;
    width: 1.2rem;
}
.ql-editor li:not(.ql-direction-rtl)::before {
    margin-left: -1.5rem;
    margin-right: 0.3rem;
    text-align: right;
}
.ql-editor li.ql-direction-rtl::before {
    margin-left: 0.3rem;
    margin-right: -1.5rem;
}
.ql-editor ol li:not(.ql-direction-rtl),
.ql-editor ul li:not(.ql-direction-rtl) {
    padding-left: 1.5rem;
}
.ql-editor ol li.ql-direction-rtl,
.ql-editor ul li.ql-direction-rtl {
    padding-right: 1.5rem;
}
.ql-editor ol li {
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    counter-increment: list-0;
}
.ql-editor ol li:before {
    content: counter(list-0, decimal) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-increment: list-1;
}
.ql-editor ol li.ql-indent-1:before {
    content: counter(list-1, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-2 {
    counter-increment: list-2;
}
.ql-editor ol li.ql-indent-2:before {
    content: counter(list-2, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-2 {
    counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-3 {
    counter-increment: list-3;
}
.ql-editor ol li.ql-indent-3:before {
    content: counter(list-3, decimal) '. ';
}
.ql-editor ol li.ql-indent-3 {
    counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-4 {
    counter-increment: list-4;
}
.ql-editor ol li.ql-indent-4:before {
    content: counter(list-4, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-4 {
    counter-reset: list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-5 {
    counter-increment: list-5;
}
.ql-editor ol li.ql-indent-5:before {
    content: counter(list-5, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-5 {
    counter-reset: list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-6 {
    counter-increment: list-6;
}
.ql-editor ol li.ql-indent-6:before {
    content: counter(list-6, decimal) '. ';
}
.ql-editor ol li.ql-indent-6 {
    counter-reset: list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-7 {
    counter-increment: list-7;
}
.ql-editor ol li.ql-indent-7:before {
    content: counter(list-7, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-7 {
    counter-reset: list-8 list-9;
}
.ql-editor ol li.ql-indent-8 {
    counter-increment: list-8;
}
.ql-editor ol li.ql-indent-8:before {
    content: counter(list-8, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-8 {
    counter-reset: list-9;
}
.ql-editor ol li.ql-indent-9 {
    counter-increment: list-9;
}
.ql-editor ol li.ql-indent-9:before {
    content: counter(list-9, decimal) '. ';
}
.ql-editor .ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 3rem;
}
.ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 4.5rem;
}
.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 3rem;
}
.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 4.5rem;
}
.ql-editor .ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 6rem;
}
.ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 7.5rem;
}
.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 6rem;
}
.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 7.5rem;
}
.ql-editor .ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 9rem;
}
.ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 10.5rem;
}
.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 9rem;
}
.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 10.5rem;
}
.ql-editor .ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 12rem;
}
.ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 13.5rem;
}
.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 12rem;
}
.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 13.5rem;
}
.ql-editor .ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 15rem;
}
.ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 16.5rem;
}
.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 15rem;
}
.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 16.5rem;
}
.ql-editor .ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 18rem;
}
.ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 19.5rem;
}
.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 18rem;
}
.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 19.5rem;
}
.ql-editor .ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 21rem;
}
.ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 22.5rem;
}
.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 21rem;
}
.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 22.5rem;
}
.ql-editor .ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 24rem;
}
.ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 25.5rem;
}
.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 24rem;
}
.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 25.5rem;
}
.ql-editor .ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 27rem;
}
.ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 28.5rem;
}
.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 27rem;
}
.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 28.5rem;
}
.ql-editor .ql-video {
    display: block;
    max-width: 100%;
}
.ql-editor .ql-video.ql-align-center {
    margin: 0 auto;
}
.ql-editor .ql-video.ql-align-right {
    margin: 0 0 0 auto;
}
.ql-editor .ql-bg-black {
    background-color: #000;
}
.ql-editor .ql-bg-red {
    background-color: #e60000;
}
.ql-editor .ql-bg-orange {
    background-color: #f90;
}
.ql-editor .ql-bg-yellow {
    background-color: #ff0;
}
.ql-editor .ql-bg-green {
    background-color: #008a00;
}
.ql-editor .ql-bg-blue {
    background-color: #06c;
}
.ql-editor .ql-bg-purple {
    background-color: #93f;
}
.ql-editor .ql-color-white {
    color: #fff;
}
.ql-editor .ql-color-red {
    color: #e60000;
}
.ql-editor .ql-color-orange {
    color: #f90;
}
.ql-editor .ql-color-yellow {
    color: #ff0;
}
.ql-editor .ql-color-green {
    color: #008a00;
}
.ql-editor .ql-color-blue {
    color: #06c;
}
.ql-editor .ql-color-purple {
    color: #93f;
}
.ql-editor .ql-font-serif {
    font-family: Georgia, Times New Roman, serif;
}
.ql-editor .ql-font-monospace {
    font-family: Monaco, Courier New, monospace;
}
.ql-editor .ql-size-small {
    font-size: 0.75rem;
}
.ql-editor .ql-size-large {
    font-size: 1.5rem;
}
.ql-editor .ql-size-huge {
    font-size: 2.5rem;
}
.ql-editor .ql-direction-rtl {
    direction: rtl;
    text-align: inherit;
}
.ql-editor .ql-align-center {
    text-align: center;
}
.ql-editor .ql-align-justify {
    text-align: justify;
}
.ql-editor .ql-align-right {
    text-align: right;
}
.ql-editor.ql-blank::before {
    color: rgba(0, 0, 0, 0.6);
    content: attr(data-placeholder);
    font-style: italic;
    left: 15px;
    pointer-events: none;
    position: absolute;
    right: 15px;
}
.ql-snow.ql-toolbar:after,
.ql-snow .ql-toolbar:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow.ql-toolbar button,
.ql-snow .ql-toolbar button {
    background: none;
    border: none;
    cursor: pointer;
    display: inline-block;
    float: left;
    height: 24px;
    padding: 3px 5px;
    width: 28px;
}
.ql-snow.ql-toolbar button svg,
.ql-snow .ql-toolbar button svg {
    float: left;
    height: 100%;
}
.ql-snow.ql-toolbar button:active:hover,
.ql-snow .ql-toolbar button:active:hover {
    outline: none;
}
.ql-snow.ql-toolbar input.ql-image[type='file'],
.ql-snow .ql-toolbar input.ql-image[type='file'] {
    display: none;
}
.ql-snow.ql-toolbar button:hover,
.ql-snow .ql-toolbar button:hover,
.ql-snow.ql-toolbar button:focus,
.ql-snow .ql-toolbar button:focus,
.ql-snow.ql-toolbar button.ql-active,
.ql-snow .ql-toolbar button.ql-active,
.ql-snow.ql-toolbar .ql-picker-label:hover,
.ql-snow .ql-toolbar .ql-picker-label:hover,
.ql-snow.ql-toolbar .ql-picker-label.ql-active,
.ql-snow .ql-toolbar .ql-picker-label.ql-active,
.ql-snow.ql-toolbar .ql-picker-item:hover,
.ql-snow .ql-toolbar .ql-picker-item:hover,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected {
    color: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-fill,
.ql-snow .ql-toolbar button:hover .ql-fill,
.ql-snow.ql-toolbar button:focus .ql-fill,
.ql-snow .ql-toolbar button:focus .ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
    fill: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-stroke,
.ql-snow .ql-toolbar button:hover .ql-stroke,
.ql-snow.ql-toolbar button:focus .ql-stroke,
.ql-snow .ql-toolbar button:focus .ql-stroke,
.ql-snow.ql-toolbar button.ql-active .ql-stroke,
.ql-snow .ql-toolbar button.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow.ql-toolbar button:hover .ql-stroke-miter,
.ql-snow .ql-toolbar button:hover .ql-stroke-miter,
.ql-snow.ql-toolbar button:focus .ql-stroke-miter,
.ql-snow .ql-toolbar button:focus .ql-stroke-miter,
.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
    stroke: #06c;
}
@media (pointer: coarse) {
    .ql-snow.ql-toolbar button:hover:not(.ql-active),
    .ql-snow .ql-toolbar button:hover:not(.ql-active) {
        color: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
        fill: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
        stroke: #444;
    }
}
.ql-snow {
    box-sizing: border-box;
}
.ql-snow * {
    box-sizing: border-box;
}
.ql-snow .ql-hidden {
    display: none;
}
.ql-snow .ql-out-bottom,
.ql-snow .ql-out-top {
    visibility: hidden;
}
.ql-snow .ql-tooltip {
    position: absolute;
    transform: translateY(10px);
}
.ql-snow .ql-tooltip a {
    cursor: pointer;
    text-decoration: none;
}
.ql-snow .ql-tooltip.ql-flip {
    transform: translateY(-10px);
}
.ql-snow .ql-formats {
    display: inline-block;
    vertical-align: middle;
}
.ql-snow .ql-formats:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow .ql-stroke {
    fill: none;
    stroke: #444;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 2;
}
.ql-snow .ql-stroke-miter {
    fill: none;
    stroke: #444;
    stroke-miterlimit: 10;
    stroke-width: 2;
}
.ql-snow .ql-fill,
.ql-snow .ql-stroke.ql-fill {
    fill: #444;
}
.ql-snow .ql-empty {
    fill: none;
}
.ql-snow .ql-even {
    fill-rule: evenodd;
}
.ql-snow .ql-thin,
.ql-snow .ql-stroke.ql-thin {
    stroke-width: 1;
}
.ql-snow .ql-transparent {
    opacity: 0.4;
}
.ql-snow .ql-direction svg:last-child {
    display: none;
}
.ql-snow .ql-direction.ql-active svg:last-child {
    display: inline;
}
.ql-snow .ql-direction.ql-active svg:first-child {
    display: none;
}
.ql-snow .ql-editor h1 {
    font-size: 2rem;
}
.ql-snow .ql-editor h2 {
    font-size: 1.5rem;
}
.ql-snow .ql-editor h3 {
    font-size: 1.17rem;
}
.ql-snow .ql-editor h4 {
    font-size: 1rem;
}
.ql-snow .ql-editor h5 {
    font-size: 0.83rem;
}
.ql-snow .ql-editor h6 {
    font-size: 0.67rem;
}
.ql-snow .ql-editor a {
    text-decoration: underline;
}
.ql-snow .ql-editor blockquote {
    border-left: 4px solid #ccc;
    margin-bottom: 5px;
    margin-top: 5px;
    padding-left: 16px;
}
.ql-snow .ql-editor code,
.ql-snow .ql-editor pre {
    background-color: #f0f0f0;
    border-radius: 3px;
}
.ql-snow .ql-editor pre {
    white-space: pre-wrap;
    margin-bottom: 5px;
    margin-top: 5px;
    padding: 5px 10px;
}
.ql-snow .ql-editor code {
    font-size: 85%;
    padding: 2px 4px;
}
.ql-snow .ql-editor pre.ql-syntax {
    background-color: #23241f;
    color: #f8f8f2;
    overflow: visible;
}
.ql-snow .ql-editor img {
    max-width: 100%;
}
.ql-snow .ql-picker {
    color: #444;
    display: inline-block;
    float: left;
    font-size: 14px;
    font-weight: 500;
    height: 24px;
    position: relative;
    vertical-align: middle;
}
.ql-snow .ql-picker-label {
    cursor: pointer;
    display: inline-block;
    height: 100%;
    padding-left: 8px;
    padding-right: 2px;
    position: relative;
    width: 100%;
}
.ql-snow .ql-picker-label::before {
    display: inline-block;
    line-height: 22px;
}
.ql-snow .ql-picker-options {
    background-color: #fff;
    display: none;
    min-width: 100%;
    padding: 4px 8px;
    position: absolute;
    white-space: nowrap;
}
.ql-snow .ql-picker-options .ql-picker-item {
    cursor: pointer;
    display: block;
    padding-bottom: 5px;
    padding-top: 5px;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    color: #ccc;
    z-index: 2;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
    fill: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
    stroke: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    display: block;
    margin-top: -1px;
    top: 100%;
    z-index: 1;
}
.ql-snow .ql-color-picker,
.ql-snow .ql-icon-picker {
    width: 28px;
}
.ql-snow .ql-color-picker .ql-picker-label,
.ql-snow .ql-icon-picker .ql-picker-label {
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-label svg,
.ql-snow .ql-icon-picker .ql-picker-label svg {
    right: 4px;
}
.ql-snow .ql-icon-picker .ql-picker-options {
    padding: 4px 0px;
}
.ql-snow .ql-icon-picker .ql-picker-item {
    height: 24px;
    width: 24px;
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-options {
    padding: 3px 5px;
    width: 152px;
}
.ql-snow .ql-color-picker .ql-picker-item {
    border: 1px solid transparent;
    float: left;
    height: 16px;
    margin: 2px;
    padding: 0px;
    width: 16px;
}
.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
    position: absolute;
    margin-top: -9px;
    right: 0;
    top: 50%;
    width: 18px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
    content: attr(data-label);
}
.ql-snow .ql-picker.ql-header {
    width: 98px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label::before,
.ql-snow .ql-picker.ql-header .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    content: 'Heading 1';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    content: 'Heading 2';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    content: 'Heading 3';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    content: 'Heading 4';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    content: 'Heading 5';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    content: 'Heading 6';
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    font-size: 2rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    font-size: 1.5rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    font-size: 1.17rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    font-size: 1rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    font-size: 0.83rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    font-size: 0.67rem;
}
.ql-snow .ql-picker.ql-font {
    width: 108px;
}
.ql-snow .ql-picker.ql-font .ql-picker-label::before,
.ql-snow .ql-picker.ql-font .ql-picker-item::before {
    content: 'Sans Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    content: 'Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    content: 'Monospace';
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    font-family: Georgia, Times New Roman, serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    font-family: Monaco, Courier New, monospace;
}
.ql-snow .ql-picker.ql-size {
    width: 98px;
}
.ql-snow .ql-picker.ql-size .ql-picker-label::before,
.ql-snow .ql-picker.ql-size .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    content: 'Small';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    content: 'Large';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    content: 'Huge';
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    font-size: 10px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    font-size: 18px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    font-size: 32px;
}
.ql-snow .ql-color-picker.ql-background .ql-picker-item {
    background-color: #fff;
}
.ql-snow .ql-color-picker.ql-color .ql-picker-item {
    background-color: #000;
}
.ql-toolbar.ql-snow {
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    padding: 8px;
}
.ql-toolbar.ql-snow .ql-formats {
    margin-right: 15px;
}
.ql-toolbar.ql-snow .ql-picker-label {
    border: 1px solid transparent;
}
.ql-toolbar.ql-snow .ql-picker-options {
    border: 1px solid transparent;
    box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
    border-color: #000;
}
.ql-toolbar.ql-snow + .ql-container.ql-snow {
    border-top: 0px;
}
.ql-snow .ql-tooltip {
    background-color: #fff;
    border: 1px solid #ccc;
    box-shadow: 0px 0px 5px #ddd;
    color: #444;
    padding: 5px 12px;
    white-space: nowrap;
}
.ql-snow .ql-tooltip::before {
    content: 'Visit URL:';
    line-height: 26px;
    margin-right: 8px;
}
.ql-snow .ql-tooltip input[type='text'] {
    display: none;
    border: 1px solid #ccc;
    font-size: 13px;
    height: 26px;
    margin: 0px;
    padding: 3px 5px;
    width: 170px;
}
.ql-snow .ql-tooltip a.ql-preview {
    display: inline-block;
    max-width: 200px;
    overflow-x: hidden;
    text-overflow: ellipsis;
    vertical-align: top;
}
.ql-snow .ql-tooltip a.ql-action::after {
    border-right: 1px solid #ccc;
    content: 'Edit';
    margin-left: 16px;
    padding-right: 8px;
}
.ql-snow .ql-tooltip a.ql-remove::before {
    content: 'Remove';
    margin-left: 8px;
}
.ql-snow .ql-tooltip a {
    line-height: 26px;
}
.ql-snow .ql-tooltip.ql-editing a.ql-preview,
.ql-snow .ql-tooltip.ql-editing a.ql-remove {
    display: none;
}
.ql-snow .ql-tooltip.ql-editing input[type='text'] {
    display: inline-block;
}
.ql-snow .ql-tooltip.ql-editing a.ql-action::after {
    border-right: 0px;
    content: 'Save';
    padding-right: 0px;
}
.ql-snow .ql-tooltip[data-mode='link']::before {
    content: 'Enter link:';
}
.ql-snow .ql-tooltip[data-mode='formula']::before {
    content: 'Enter formula:';
}
.ql-snow .ql-tooltip[data-mode='video']::before {
    content: 'Enter video:';
}
.ql-snow a {
    color: #06c;
}
.ql-container.ql-snow {
    border: 1px solid #ccc;
}
`,Io={root:"p-editor-container",toolbar:"p-editor-toolbar",content:"p-editor-content"},Xt=bl.extend({name:"editor",css:Uo,classes:Io}),Oo={name:"BaseEditor",extends:Ul,props:{modelValue:String,placeholder:String,readonly:Boolean,formats:Array,editorStyle:null,modules:null},style:Xt,provide:function(){return{$parentInstance:this}},beforeMount:function(){var u;Xt.loadStyle({nonce:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0||(u=u.csp)===null||u===void 0?void 0:u.nonce})}};function ft(o){"@babel/helpers - typeof";return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ft(o)}function Zt(o,u){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(o);u&&(C=C.filter(function(Y){return Object.getOwnPropertyDescriptor(o,Y).enumerable})),_.push.apply(_,C)}return _}function zo(o){for(var u=1;u<arguments.length;u++){var _=arguments[u]!=null?arguments[u]:{};u%2?Zt(Object(_),!0).forEach(function(C){Mo(o,C,_[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):Zt(Object(_)).forEach(function(C){Object.defineProperty(o,C,Object.getOwnPropertyDescriptor(_,C))})}return o}function Mo(o,u,_){return u=Ho(u),u in o?Object.defineProperty(o,u,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[u]=_,o}function Ho(o){var u=Bo(o,"string");return ft(u)=="symbol"?u:String(u)}function Bo(o,u){if(ft(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var C=_.call(o,u||"default");if(ft(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}var el=function(){try{return window.Quill}catch{return null}}(),sl={name:"Editor",extends:Oo,inheritAttrs:!1,emits:["update:modelValue","text-change","selection-change","load"],data:function(){return{reRenderColorKey:0}},quill:null,watch:{modelValue:function(u,_){u!==_&&this.quill&&!this.quill.hasFocus()&&(this.reRenderColorKey++,this.renderValue(u))},readonly:function(){this.handleReadOnlyChange()}},mounted:function(){var u=this,_={modules:zo({toolbar:this.$refs.toolbarElement},this.modules),readOnly:this.readonly,theme:"snow",formats:this.formats,placeholder:this.placeholder};el?(this.quill=new el(this.$refs.editorElement,_),this.initQuill(),this.handleLoad()):kl(()=>import("./quill.c1d6282e.js").then(C=>C.q),["./quill.c1d6282e.js","./vuedraggable.umd.3d2c17b5.js","./entry.3e1b8942.js","./entry.5d0b2de3.css"],import.meta.url).then(function(C){C&&yl.isExist(u.$refs.editorElement)&&(C.default?u.quill=new C.default(u.$refs.editorElement,_):u.quill=new C(u.$refs.editorElement,_),u.initQuill())}).then(function(){u.handleLoad()})},beforeUnmount:function(){this.quill=null},methods:{renderValue:function(u){this.quill&&(u?this.quill.setContents(this.quill.clipboard.convert(u)):this.quill.setText(""))},initQuill:function(){var u=this;this.renderValue(this.modelValue),this.quill.on("text-change",function(_,C,Y){if(Y==="user"){var S=u.$refs.editorElement.children[0].innerHTML,X=u.quill.getText().trim();S==="<p><br></p>"&&(S=""),u.$emit("update:modelValue",S),u.$emit("text-change",{htmlValue:S,textValue:X,delta:_,source:Y,instance:u.quill})}}),this.quill.on("selection-change",function(_,C,Y){var S=u.$refs.editorElement.children[0].innerHTML,X=u.quill.getText().trim();u.$emit("selection-change",{htmlValue:S,textValue:X,range:_,oldRange:C,source:Y,instance:u.quill})})},handleLoad:function(){this.quill&&this.quill.getModule("toolbar")&&this.$emit("load",{instance:this.quill})},handleReadOnlyChange:function(){this.quill&&this.quill.enable(!this.readonly)}}};function No(o,u,_,C,Y,S){return p(),q("div",A({class:o.cx("root")},o.ptmi("root")),[e("div",A({ref:"toolbarElement",class:o.cx("toolbar")},o.ptm("toolbar")),[wl(o.$slots,"toolbar",{},function(){return[e("span",A({class:"ql-formats"},o.ptm("formats")),[e("select",A({class:"ql-header",defaultValue:"0"},o.ptm("header")),[e("option",A({value:"1"},o.ptm("option")),"Heading",16),e("option",A({value:"2"},o.ptm("option")),"Subheading",16),e("option",A({value:"0"},o.ptm("option")),"Normal",16)],16),e("select",A({class:"ql-font"},o.ptm("font")),[e("option",_l(xl(o.ptm("option"))),null,16),e("option",A({value:"serif"},o.ptm("option")),null,16),e("option",A({value:"monospace"},o.ptm("option")),null,16)],16)],16),e("span",A({class:"ql-formats"},o.ptm("formats")),[e("button",A({class:"ql-bold",type:"button"},o.ptm("bold")),null,16),e("button",A({class:"ql-italic",type:"button"},o.ptm("italic")),null,16),e("button",A({class:"ql-underline",type:"button"},o.ptm("underline")),null,16)],16),(p(),q("span",A({key:Y.reRenderColorKey,class:"ql-formats"},o.ptm("formats")),[e("select",A({class:"ql-color"},o.ptm("color")),null,16),e("select",A({class:"ql-background"},o.ptm("background")),null,16)],16)),e("span",A({class:"ql-formats"},o.ptm("formats")),[e("button",A({class:"ql-list",value:"ordered",type:"button"},o.ptm("list")),null,16),e("button",A({class:"ql-list",value:"bullet",type:"button"},o.ptm("list")),null,16),e("select",A({class:"ql-align"},o.ptm("select")),[e("option",A({defaultValue:""},o.ptm("option")),null,16),e("option",A({value:"center"},o.ptm("option")),null,16),e("option",A({value:"right"},o.ptm("option")),null,16),e("option",A({value:"justify"},o.ptm("option")),null,16)],16)],16),e("span",A({class:"ql-formats"},o.ptm("formats")),[e("button",A({class:"ql-link",type:"button"},o.ptm("link")),null,16),e("button",A({class:"ql-image",type:"button"},o.ptm("image")),null,16),e("button",A({class:"ql-code-block",type:"button"},o.ptm("codeBlock")),null,16)],16),e("span",A({class:"ql-formats"},o.ptm("formats")),[e("button",A({class:"ql-clean",type:"button"},o.ptm("clean")),null,16)],16)]})],16),e("div",A({ref:"editorElement",class:o.cx("content"),style:o.editorStyle},o.ptm("content")),null,16)],16)}sl.render=No;const Fo={class:"grid"},Ro={class:"col-12 flex justify-content-between"},Jo={class:"m-0 detail-task-name cursor-pointer"},Yo={class:"flex gap-1"},Go=e("h5",{class:"m-0 ml-2"},"Activity",-1),Ko={class:"col-12 lg:col-7"},Po={class:"task-wrapper card"},Wo={class:"task-det no-scrollbar"},Qo={class:"flex justify-content-between gap-2 flex-wrap align-items-center"},Xo={class:"w-full lg:w-fit"},Zo={class:"flex justify-content-between gap-2 flex-wrap align-items-centertask-detail-wrapper"},ea=e("div",{class:"flex justify-content-start w-fit gap-2 align-items-center task-detail-property"},[e("span",{class:"pi pi-user"}),e("p",null,"Assignee:")],-1),ta={class:"flex mt-2 justify-content-between gap-2 align-items-center task-detail-wrapper"},la=e("div",{class:"flex justify-content-start gap-2 align-items-center task-detail-property"},[e("span",{class:"pi pi-calendar"}),e("p",{class:"text-nowrap"},"Due Date:")],-1),na={class:"w-full lg:w-fit"},oa={class:"flex justify-content-between gap-2 align-items-center task-detail-wrapper"},aa=e("div",{class:"flex justify-content-start w-fit gap-2 align-items-center task-detail-property"},[e("span",{class:"pi pi-flag"}),e("p",null,"Status:")],-1),ia={class:"flex mt-2 justify-content-start gap-6 align-items-center task-detail-wrapper"},sa=e("div",{class:"flex justify-content-start w-fit gap-2 align-items-center task-detail-property"},[e("span",{class:"pi pi-stopwatch"}),e("p",{class:"text-nowrap"},"Track Time:")],-1),ra={class:"clock-wrapper relative"},da={class:"border-round px-2 pt-3 pb-2"},ca={class:"flex justify-content-center align-items-center gap-3 manual-wrapper -mt-1"},ua=e("label",{for:"hours",class:"block mb-2 text-xs"},"Hours",-1),pa=e("span",{class:"pi pi-chevron-up manual-time-changer"},null,-1),ma=e("span",{class:"pi pi-chevron-down manual-time-changer"},null,-1),fa=e("label",{for:"minutes",class:"block mb-2 text-xs"},"Minutes",-1),qa=e("span",{class:"pi pi-chevron-up manual-time-changer"},null,-1),va=e("span",{class:"pi pi-chevron-down manual-time-changer"},null,-1),ga={class:"flex justify-content-center align-items-center",style:{"margin-top":"0.49rem !important"}},ha=e("div",null,null,-1),ba={class:"flex justify-content-between gap-2 align-items-centertask-detail-wrapper mt-3",style:{width:"100%"}},ka=e("div",{class:"flex justify-content-start w-fit gap-2 align-items-center task-detail-property",style:{width:"10%"}},[e("span",{class:"pi pi-tags"}),e("p",null,"Tags:")],-1),ya={class:"field mt-3 flex flex-column"},wa=e("div",{class:"flex justify-content-start gap-2 align-items-center mb-1 task-detail-property"},[e("span",{class:"pi pi-sliders-h"}),e("p",null,"Description:")],-1),_a={class:"ql-formats flex justify-content-end mr-0"},xa={class:"ql-bold"},Da={class:"ql-italic"},Ta={class:"ql-underline"},Sa={class:"ql-strike"},$a=e("span",{class:"ql-formats"},[e("select",{class:"ql-color"}),e("select",{class:"ql-background"})],-1),Ca=e("button",{class:"ql-list",type:"button","data-pc-section":"list",value:"ordered"},null,-1),Va=e("button",{class:"ql-list",type:"button","data-pc-section":"list",value:"bullet"},null,-1),Ea=e("button",{class:"ql-link",type:"button","data-pc-section":"link"},null,-1),Aa={key:0,class:"flex justify-content-end"},ja={class:"m-0"},La={class:"my-3 attach-sec flex align-items-center justify-content-start gap-2",style:{"overflow-x":"scroll"}},Ua={key:0,class:"card attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-0 py-5 attch-w",style:{"background-color":"#f7fafc"}},Ia=e("div",{class:"pi pi-file text-6xl attach-icon"},null,-1),Oa=e("div",{class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},[e("div",{class:"text-xs"},"asdasd....asdme.extng"),e("div",{class:"text-xs"},"9 MAy, 2024")],-1),za=[Ia,Oa],Ma=["href"],Ha=e("div",{class:"pi pi-file text-6xl attach-icon"},null,-1),Ba={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},Na={class:"text-xs"},Fa={class:"text-xs"},Ra=["href"],Ja=["src"],Ya={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},Ga={class:"text-xs"},Ka={class:"text-xs"},Pa=["href"],Wa=e("div",{class:"pi pi-video text-6xl attach-icon"},null,-1),Qa={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},Xa={class:"text-xs"},Za={class:"text-xs"},ei=["href"],ti=e("div",{class:"pi pi-file-pdf text-6xl text-danger attach-icon"},null,-1),li={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},ni={class:"text-xs"},oi={class:"text-xs"},ai=["href"],ii=e("div",{class:"pi pi-file-word text-6xl text-blue attach-icon"},null,-1),si={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},ri={class:"text-xs"},di={class:"text-xs"},ci=["href"],ui=e("div",{class:"pi pi-file-excel text-6xl attach-icon",style:{color:"#04aa6d"}},null,-1),pi={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},mi={class:"text-xs"},fi={class:"text-xs"},qi=["onClick"],vi=e("i",{class:"pi pi-times text-xs text-white"},null,-1),gi=[vi],hi={key:0,class:"flex gap-2 w-full justify-content-center"},bi=e("p",{class:"text-center"},"No Data found...",-1),ki=["onClick"],yi={class:"action-dropdown-det"},wi={class:"action-dropdown-content-det"},_i={class:"card"},xi={class:"flex justify-content-start align-items-center task-detail-wrapper"},Di=e("div",{class:"flex justify-content-start gap-2 align-items-center bounce-detail-property"},[e("span",{class:"pi pi-flag"}),e("p",{class:"text-nowrap"},"Bounce Status:")],-1),Ti={class:"col-12 lg:col-5"},Si={class:"comment-wrapper card no-scrollbar"},$i={class:"comments no-scrollbar"},Ci={class:"my-2 text-surface-800"},Vi={key:0},Ei=["innerHTML"],Ai={class:"my-2 text-surface-800"},ji={class:"flex justify-content-start align-items-center"},Li=["src"],Ui={class:"text-lg"},Ii={key:0,class:"flex justify-content-start my-2"},Oi=["href"],zi=e("div",{class:"pi pi-file"},null,-1),Mi={class:"attach-detail flex flex-column justify-content-center align-items-center"},Hi={class:"text-xs"},Bi={class:"m-0 ml-1",style:{"font-size":"0.9rem"}},Ni={style:{"line-height":"0"},class:"pb-1 float-right mt-3 mb-2"},Fi={key:0,class:"text-sm font-semibold tracking-wide leading-3 bg-gray-300 px-3 py-2 flex align-itens-center mb-1 relative"},Ri=e("span",{class:"pi pi-file-import mr-2"},null,-1),Ji=e("i",{class:"pi pi-times"},null,-1),Yi=[Ji],Gi={__name:"TaskDetail",props:["usersLists","tagsLists","projID"],emits:["openCreateSpace","handleTaskEdit","handleTaskDetailView","confirmDeleteTask","updateTaskTable"],setup(o,{emit:u}){var et,Ke,tt,lt,He,Pe;const _=al(),{fileUpload:C,fileDelete:Y}=Qt(),{isFileUpload:S,isLoading:X,isFileDeleted:te}=Qe(Qt()),{getTaskTimerData:de,setManualTime:Z,storeTaskTimer:B}=Wt();Qe(Wt());const{editTask:le,addTaskComment:G,getTaskDetails:ae,getSingleProject:ve}=ke(),{isTaskEdited:N,isTaskCommentCreated:z,singleTaskComments:ie,subTasks:K,taskStatus:F,taskDetails:d,taskActivity:se}=Qe(ke());localStorage.setItem("taskDetailID",JSON.stringify(d.value.id));const{usersLists:ne,tagsLists:oe,projID:R}=o,W=u,b=vt(),h=a(!1),D=a(Fe("update_task")),V=a(Fe("edit_bounce")),pe=a(Fe("create_task")),I=a(null);I.value=(Ke=(et=d.value)==null?void 0:et.assignee)==null?void 0:Ke.map(r=>({id:r.id,name:r.name}));const ge=a(!1);$e(I,r=>{ge.value=!0});const J=a((lt=(tt=d.value)==null?void 0:tt.tags)==null?void 0:lt.map(r=>({id:r.id,name:r.name}))),j=a(!1);$e(J,r=>{j.value=!0});const E=a((He=d.value)!=null&&He.due_date?new Date(d.value.due_date).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","").toLowerCase():null),Re=a(!1),Ie=r=>{if(console.log("test druve"),Re.value)E.value=r;else{const i=new Date(r);i.setHours(23,59,0,0),E.value=i}};$e(E,(r,i)=>{r&&i&&r!==i&&(Re.value=!0)});const L=a(E.value);$e(E,(r,i)=>{r&&(L.value=new Date(r).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","").toLowerCase())});const g=a(),it=Dl(),me=a(null),he=a(null),Xe=a(!1),_e=a(!1),Je=async r=>{var l,n;_e.value=!0;let i;if(me.value>0||he.value>0){i=me.value*3600+he.value*60,console.log("totalSeconds",i);const v=await Z((l=d.value)==null?void 0:l.id,i);(v==null?void 0:v.code)===200?(await ae((n=d.value)==null?void 0:n.id),_e.value=!1,b.add({severity:"success",summary:"Duration Added",detail:`Duration: ${me.value?me.value:0} hours and ${he.value?he.value:0} minutes`,group:"br",life:3e3}),me.value=null,he.value=null,r()):(_e.value=!1,b.add({severity:"error",summary:"Error",detail:"Unable to add duration",group:"br",life:3e3})),console.log("responseData",v)}else _e.value=!1,b.add({severity:"error",summary:"Error",detail:"Please add duration",group:"br",life:3e3});i=null},Oe=r=>{var i;console.log(r.detail),r.detail===3&&((i=d.value)==null?void 0:i.is_timer_start)==="false"&&it.require({target:r.currentTarget,group:"headless",message:"Set task duration:",accept:()=>{b.add({severity:"info",summary:"Confirmed",detail:"You have accepted",life:3e3})},reject:()=>{}})},xe=a("00:00:00");let Ce=null;const Ve=async()=>{var r,i,l,n,v,k,T,we,je,Se;if(d.value.id,console.log("taskDetails",d.value),((r=d.value)==null?void 0:r.is_timer_start)==="false"){await de("start",(i=d.value)==null?void 0:i.id),await ae((l=d.value)==null?void 0:l.id),De(),localStorage.setItem("storeTaskID",JSON.stringify((n=d.value)==null?void 0:n.id)),localStorage.setItem("storeTaskProjectID",JSON.stringify(Number(R))),localStorage.setItem("storeTaskSpaceID",JSON.stringify((v=d.value)==null?void 0:v.project.space_id)),localStorage.setItem("storeTaskCompanyID",JSON.stringify((k=d.value)==null?void 0:k.project.company_id)),localStorage.setItem("storeTaskTimerStartTime",JSON.stringify(d.value.taskTimer.start_time));let nt={task_id:d.value.id,project_id:R,space_id:d.value.project.space_id,company_id:d.value.project.company_id,timerStartTime:d.value.taskTimer.start_time};await B(nt),b.add({severity:"success",summary:"Task Timer",detail:"Timer Started",group:"br",life:3e3}),await ve(R)}else await de("stop",(T=d.value)==null?void 0:T.id,(je=(we=d.value)==null?void 0:we.taskTimer)==null?void 0:je.id),await ae((Se=d.value)==null?void 0:Se.id),$(),localStorage.removeItem("storeTaskID"),localStorage.removeItem("storeTaskProjectID"),localStorage.removeItem("storeTaskSpaceID"),localStorage.removeItem("storeTaskCompanyID"),localStorage.removeItem("storeTaskTimerStartTime"),await B({task_id:null,project_id:null,space_id:null,company_id:null}),b.add({severity:"success",summary:"Task Timer",detail:"Timer Stopped",group:"br",life:3e3}),await ve(R)},De=()=>{d.value.id,console.log("taskDetails.value.taskTimer.start_time",d.value.taskTimer.start_time);const r=new Date(d.value.taskTimer.start_time).getTime();Ce=setInterval(()=>{const i=Math.floor((Date.now()-r)/1e3);xe.value=pt(i)},1e3)},$=()=>{clearInterval(Ce),xe.value=pt(d.value.total_duration)},Dt=a([{is_bounce:"No"},{is_bounce:"Yes"}]),ce=a(),ye=a(((Pe=d.value)==null?void 0:Pe.description)||" "),Ee=a(!1);$e(ye,r=>{r.length===0&&(ye.value=" "),Ee.value=!0});const Ye=a(null),Tt=a(),st=a(!0),rt=a(!1),Ge=()=>{rt.value=!0,st.value=!1},St=()=>{rt.value=!1,st.value=!0},ht=async()=>{var r;h.value=!0,await G((r=d.value)==null?void 0:r.id,Ye.value,f.value),z.value===!0?(b.add({severity:"success",summary:"Successful",detail:"Comment added Successfully",group:"br",life:3e3}),Ye.value=null,h.value=!1,f.value=null):(b.add({severity:"error",summary:"Error",detail:"Unable to add comment",group:"br",life:3e3}),h.value=!1)},dt=r=>{const i=new Date(r),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i.getMonth()],v=i.getDate(),k=i.getFullYear().toString().substr(-2),T=i.getHours(),we=i.getMinutes(),je=T>=12?"PM":"AM",Se=T%12||12,nt=we<10?"0"+we:we;return`${v} ${n}'${k}, ${Se}:${nt}${je}`},ct=async()=>{var n,v;let r;if(E.value){const k=new Date(E.value);k.setDate(k.getDate()+1),r=k.toISOString()}console.log("checkDate",L.value);const i=new Date((n=d.value)==null?void 0:n.due_date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});console.log("formattedDueDate",i);const l={id:(v=d.value)==null?void 0:v.id,...Ee.value===!0?{description:ye.value}:{},project_id:R,...L.value!==i?{dueDate:r?new Date(new Date(r).getTime()-18*60*60*1e3).toISOString().slice(0,19).replace("T"," "):null}:{},...ge.value===!0?{assignees:I.value.map(k=>k.id)}:{},...j.value===!0?{tags:J.value.map(k=>k.id)}:{}};if(r){const k=new Date(r);k.setDate(k.getDate()-1),E.value=k?new Date(k).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","").toLowerCase():null}await le(l),N.value===!0?(b.add({severity:"success",summary:"Successful",detail:"Task detail updated",group:"br",life:3e3}),Tt.value=null,Ee.value===!0&&(Ee.value=!1,console.log("isDescriptionEdited Flagged")),ge.value===!0&&(ge.value=!1,console.log("isAsigneeEdited Flagged")),j.value===!0&&(j.value=!1,console.log("isTagsEdited Flagged"))):b.add({severity:"error",summary:"Error",detail:"Unable to upadte task detail",group:"br",life:3e3})},Ae=a(null),Ze=r=>{Ae.value=r.target.files[0]},$t=async()=>{var r,i;Ae.value&&console.log("file =>",Ae.value),await C((r=d.value)==null?void 0:r.id,Ae.value),S.value===!0?(b.add({severity:"success",summary:"Successfull",detail:"File Upload successfully!",group:"br",life:3e3}),ae((i=d.value)==null?void 0:i.id),document.getElementById("attachInput").value=null,Ae.value=null):b.add({severity:"error",summary:"Error",detail:"Unable to upload file!",group:"br",life:3e3})},ze=r=>{const i=["jpg","JPG","jpeg","png","gif","bmp","svg","webp","ico","tiff","tif","heic","heif"],l=["mp4","avi","flv","wmv","mov","3gp","mkv"],n=["pdf","PDF","ppt","pptx"],v=["doc","docx","rtf"],k=["xls","xlsx","csv"];return i.some(T=>r.endsWith("."+T))?"image":l.some(T=>r.endsWith("."+T))?"video":n.some(T=>r.endsWith("."+T))?"pdf":v.some(T=>r.endsWith("."+T))?"word":k.some(T=>r.endsWith("."+T))?"excel":"file"};ol(async()=>{var l,n;await ae((l=d.value)==null?void 0:l.id);const r={name:d.value.status_name,code:d.value.status};g.value=r;const i={is_bounce:d.value.is_bounce};ce.value=i,((n=d.value)==null?void 0:n.is_timer_start)==="true"&&De()});async function ut(r){var i,l,n;try{const v=ot("token"),{data:k,pending:T}=await yt(`${_.public.apiUrl}/tasks/update/${(i=d.value)==null?void 0:i.id}`,{method:"POST",headers:{Authorization:`Bearer ${v.value}`},body:{status:r.code}},"$nwfJLeTGBC");((l=k.value)==null?void 0:l.app_message)==="success"?(ae((n=d.value)==null?void 0:n.id),b.add({severity:"success",summary:"Successful",detail:"Status Changed",group:"br",life:3e3}),W("updateTaskTable")):b.add({severity:"error",summary:"Error",detail:"Unable to change status",group:"br",life:3e3})}catch(v){console.error("Error fetching data:",v)}}async function Ct(r){var i,l,n;try{const v=ot("token"),{data:k,pending:T}=await yt(`${_.public.apiUrl}/tasks/update/${(i=d.value)==null?void 0:i.id}`,{method:"POST",headers:{Authorization:`Bearer ${v.value}`},body:{is_bounce:r.is_bounce}},"$np1kf0qdb3");console.log("dataBO",k),((l=k.value)==null?void 0:l.app_message)==="success"?(ae((n=d.value)==null?void 0:n.id),b.add({severity:"success",summary:"Successfull",detail:"Bounce Status Changed",group:"br",life:3e3})):b.add({severity:"error",summary:"Error",detail:"Unable to change bounce status",group:"br",life:3e3})}catch(v){console.error("Error fetching data:",v)}}const Te=r=>{const l=r.split("/");return l[l.length-1]},Me=r=>{const i=["Jan","Feb","Mar","Apr","MAy","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=r,n=new Date(l),v={year:"numeric",month:"long",day:"numeric"},T=n.toLocaleDateString("en-US",v).split(" "),we=i.indexOf(T[0]);return we!==-1&&(T[0]=i[we]),T.join(" ")};function pt(r){const i=Math.floor(r/3600).toString().padStart(2,"0"),l=Math.floor(r%3600/60).toString().padStart(2,"0"),n=(r%60).toString().padStart(2,"0");return`${i}:${l}:${n}`}const Vt=async r=>{var i;await Y(r),te.value===!0?(b.add({severity:"success",summary:"Successful",detail:"File Deleted successfully!",group:"br",life:3e3}),ae((i=d.value)==null?void 0:i.id)):b.add({severity:"error",summary:"Error",detail:"Unable to delete file!",group:"br",life:3e3})},mt=a(null),f=a(null),m=a(""),H=r=>{f.value=r.target.files[0],m.value=f.value?f.value.name:""},P=()=>{mt.value.click()},Q=async()=>{f.value=null},be=async()=>{var v;const r=ot("token"),{data:i,pending:l,error:n}=await yt(`${_.public.apiUrl}/tasks/share/${(v=d.value)==null?void 0:v.id}`,{method:"GET",headers:{Authorization:`Bearer ${r.value}`}},"$yuqoLxhdIO");if(n.value){b.add({severity:"error",summary:"Error",detail:"Failed to share",life:3e3});return}else{const k=document.createElement("textarea");k.value=i.value.shared_web_link,document.body.appendChild(k),k.select(),document.execCommand("copy"),document.body.removeChild(k),b.add({severity:"success",summary:"Share successful",detail:"Shared link copied",group:"br",life:3e3});return}};return(r,i)=>{var Ot,zt,Mt,Ht,Bt;const l=wt,n=Cl,v=_t,k=Vl,T=qt,we=El,je=Al,Se=Be,nt=nl,rl=jl,dl=ll,cl=Ll,ul=It,Le=At("tooltip");return p(),q("div",Fo,[e("div",Ro,[M((p(),q("h5",Jo,[ue(y(t(d).name),1)])),[[Le,{value:`${t(d).name}`,pt:{width:"200px"}},void 0,{top:!0}]]),e("div",Yo,[M(e("span",{onClick:be,class:"pi pi-share-alt my-auto cursor-pointer ml-2 share-btn"},null,512),[[Le,{value:"Share Task"},void 0,{top:!0}]]),Go])]),e("div",Ko,[e("div",null,[e("div",Po,[e("div",Wo,[e("form",{onSubmit:Pt(ct,["prevent"]),class:"mt-2 task-detail ml-2"},[e("div",Qo,[e("div",Xo,[e("div",Zo,[ea,s(n,{style:{width:"164.94px"},class:"input-fields"},{default:w(()=>[s(l,{display:"chip",modelValue:t(I),"onUpdate:modelValue":i[0]||(i[0]=x=>U(I)?I.value=x:null),filter:"",resetFilterOnHide:"",options:o.usersLists,optionLabel:"name",placeholder:"Select Assignees",maxSelectedLabels:2,class:"w-full"},null,8,["modelValue","options"])]),_:1})]),e("div",ta,[la,s(n,{class:"input-fields"},{default:w(()=>[s(t(xt),{style:"width: 164.94px; border-radius:7px",modelValue:t(E),"onUpdate:modelValue":i[1]||(i[1]=x=>U(E)?E.value=x:null),placeholder:"Set Due Date",showTime:"",hourFormat:"12",onDateSelect:i[2]||(i[2]=x=>Ie(x))},null,8,["modelValue"])]),_:1})])]),e("div",na,[e("div",oa,[aa,s(v,{onChange:i[3]||(i[3]=x=>ut(t(g))),modelValue:t(g),"onUpdate:modelValue":i[4]||(i[4]=x=>U(g)?g.value=x:null),options:t(F),optionLabel:"name",placeholder:"Select Status",style:{width:"146.41px"}},null,8,["modelValue","options"])]),e("div",ia,[sa,e("div",ra,[s(we,{close:t(Xe),group:"headless"},{container:w(({message:x,acceptCallback:Et,rejectCallback:re})=>[e("div",da,[e("div",ca,[e("div",null,[ua,s(k,{modelValue:t(me),"onUpdate:modelValue":i[5]||(i[5]=fe=>U(me)?me.value=fe:null),placeholder:"00",showButtons:"",buttonLayout:"vertical",style:{width:"3rem"},min:0,max:23,id:"hours"},{incrementbuttonicon:w(()=>[pa]),decrementbuttonicon:w(()=>[ma]),_:1},8,["modelValue"])]),e("div",null,[fa,s(k,{modelValue:t(he),"onUpdate:modelValue":i[6]||(i[6]=fe=>U(he)?he.value=fe:null),placeholder:"00",showButtons:"",buttonLayout:"vertical",style:{width:"3rem"},min:0,max:59,id:"minutes"},{incrementbuttonicon:w(()=>[qa]),decrementbuttonicon:w(()=>[va]),_:1},8,["modelValue"])])]),e("div",ga,[s(T,{icon:"pi pi-check px-2 py-0 text-sm",label:"",class:"border-none w-full mx-3",loading:t(_e),onClick:fe=>Je(re),size:"small"},null,8,["loading","onClick"])])])]),_:1},8,["close"]),M((p(),q("div",{class:We(`clock-btn ${((Ot=t(d))==null?void 0:Ot.is_timer_start)=="true"?"bg-pink-300":"bg-primary-400"}`),onClick:Ve},[e("i",{class:We(`pi ${((zt=t(d))==null?void 0:zt.is_timer_start)=="true"?"pi-stop stop":"pi-play start"}`)},null,2)],2)),[[Le,{value:((Mt=t(d))==null?void 0:Mt.is_timer_start)=="true"?"Stop":"Start"},void 0,{top:!0}]]),e("div",{class:"text-sm absolute",onClick:i[7]||(i[7]=x=>Oe(x))},y(((Ht=t(d))==null?void 0:Ht.is_timer_start)=="true"?t(xe):pt((Bt=t(d))==null?void 0:Bt.total_duration)),1)]),ha])])]),e("div",ba,[ka,s(n,{style:{width:"90%"},class:"input-fields"},{default:w(()=>[s(l,{display:"chip",modelValue:t(J),"onUpdate:modelValue":i[8]||(i[8]=x=>U(J)?J.value=x:null),filter:"",resetFilterOnHide:"",options:o.tagsLists,optionLabel:"name",placeholder:"Select Tags",class:"w-full"},null,8,["modelValue","options"])]),_:1})]),e("div",ya,[wa,s(t(sl),{modelValue:t(ye),"onUpdate:modelValue":i[9]||(i[9]=x=>U(ye)?ye.value=x:null),editorStyle:"height: 150px",readonly:!t(D)},{toolbar:w(()=>[e("span",_a,[M(e("button",xa,null,512),[[Le,"Bold",void 0,{bottom:!0}]]),M(e("button",Da,null,512),[[Le,"Italic",void 0,{bottom:!0}]]),M(e("button",Ta,null,512),[[Le,"Underline",void 0,{bottom:!0}]]),M(e("button",Sa,null,512),[[Le,"Strikethrough",void 0,{bottom:!0}]]),$a,Ca,Va,Ea])]),_:1},8,["modelValue","readonly"])]),t(D)?(p(),q("div",Aa,[s(T,{type:"submit",label:"Save"})])):O("",!0)],32),s(rl,{class:"mt-3"},{default:w(()=>{var x,Et;return[s(je,{class:"file-upload",header:"Detail"},{default:w(()=>{var re,fe,Nt,Ft,Rt,Jt,Yt,Gt;return[e("p",ja,"Attachments: "+y((re=t(d))!=null&&re.attachments&&((Nt=(fe=t(d))==null?void 0:fe.attachments)==null?void 0:Nt.length)>0?(Rt=(Ft=t(d))==null?void 0:Ft.attachments)==null?void 0:Rt.length:0),1),e("div",La,[(Jt=t(d))!=null&&Jt.attachments&&((Yt=t(d))==null?void 0:Yt.attachments.length)===0?(p(),q("div",Ua,za)):O("",!0),(p(!0),q(Ue,null,Ne((Gt=t(d))==null?void 0:Gt.attachments,c=>(p(),q("div",{key:c,target:"_blank",class:"card attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-0 py-2 relative",style:{"background-color":"#f7fafc"}},[ze(c==null?void 0:c.file)==="file"?(p(),q("a",{key:0,target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-2 my-6 relative",href:c==null?void 0:c.file},[Ha,e("div",Ba,[e("div",Na,y(Te(c==null?void 0:c.file)),1),e("div",Fa,y(Me(c==null?void 0:c.created_at)),1)])],8,Ma)):O("",!0),ze(c==null?void 0:c.file)==="image"?(p(),q("a",{key:1,target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-0 relative",href:c==null?void 0:c.file},[e("img",{src:c==null?void 0:c.file,alt:"",style:{width:"90%",height:"80px","border-radius":"10px","border-top-left-radius":"10px","object-fit":"cover"}},null,8,Ja),e("div",Ya,[e("div",Ga,y(Te(c==null?void 0:c.file)),1),e("div",Ka,y(Me(c==null?void 0:c.created_at)),1)])],8,Ra)):O("",!0),ze(c==null?void 0:c.file)==="video"?(p(),q("a",{key:2,target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-2 my-6 relative",href:c==null?void 0:c.file},[Wa,e("div",Qa,[e("div",Xa,y(Te(c==null?void 0:c.file)),1),e("div",Za,y(Me(c==null?void 0:c.created_at)),1)])],8,Pa)):O("",!0),ze(c==null?void 0:c.file)==="pdf"?(p(),q("a",{key:3,target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-2 my-6 relative",href:c==null?void 0:c.file},[ti,e("div",li,[e("div",ni,y(Te(c==null?void 0:c.file)),1),e("div",oi,y(Me(c==null?void 0:c.created_at)),1)])],8,ei)):O("",!0),ze(c==null?void 0:c.file)==="word"?(p(),q("a",{key:4,target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-2 my-6 relative",href:c==null?void 0:c.file},[ii,e("div",si,[e("div",ri,y(Te(c==null?void 0:c.file)),1),e("div",di,y(Me(c==null?void 0:c.created_at)),1)])],8,ai)):O("",!0),ze(c==null?void 0:c.file)==="excel"?(p(),q("a",{key:5,target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-2 my-6 relative",href:c==null?void 0:c.file},[ui,e("div",pi,[e("div",mi,y(Te(c==null?void 0:c.file)),1),e("div",fi,y(Me(c==null?void 0:c.created_at)),1)])],8,ci)):O("",!0),e("div",{onClick:os=>Vt(c==null?void 0:c.id),class:"absolute bg-red-500 text-white p-2 flex align-items-center justify-content-center close-btn"},gi,8,qi)]))),128))]),t(D)?(p(),q("div",hi,[e("input",{onChange:Ze,id:"attachInput",class:"float-right file-up-btn",type:"file",placeholder:"+"},null,32),s(T,{type:"button",loading:t(X),onClick:$t,label:"Upload"},null,8,["loading"])])):O("",!0)]}),_:1}),s(je,{header:`Sub Tasks ${(x=t(K))!=null&&x.length?t(K).length:0}`},{default:w(()=>[t(pe)?M((p(),qe(T,{key:0,icon:"pi pi-plus",label:"Create",onClick:i[10]||(i[10]=re=>{var fe;return W("openCreateSpace",(fe=t(d))==null?void 0:fe.id,"sub-task")}),class:"mr-2 sub-create",severity:"secondary"},null,512)),[[Le,{value:"Create Sub Task"},void 0,{right:!0}]]):O("",!0),s(nt,{class:"tree-table",value:t(K),lazy:!0,tableProps:{style:{minWidth:"650px"}},style:{overflow:"auto"}},{empty:w(()=>[bi]),default:w(()=>[s(Se,{class:"cursor-pointer tone",field:"name",header:"Name",expander:"",style:{width:"45%"}},{body:w(re=>[M((p(),q("span",{class:"taskTitle",onClick:fe=>W("handleTaskDetailView",re.node)},[ue(y(re.node.data.name),1)],8,ki)),[[Le,{value:`${re.node.data.name}`},void 0,{left:!0}]])]),_:1}),s(Se,{field:"assignee",header:"Assignee",style:{width:"25%"}}),s(Se,{field:"dueDateValue",header:"Due Date",style:ee([{width:"11.5%"},{"text-wrap":"nowrap"}])}),s(Se,{field:"priority",header:"Priority",style:{width:"10%"}}),s(Se,{field:"action",header:"Action"},{body:w(re=>[e("div",yi,[s(T,{style:{width:"30px",height:"30px","border-radius":"50%"},icon:"pi pi-ellipsis-v",class:"action-dropdown-det-toggle"}),e("div",wi,[s(T,{icon:"pi pi-plus",class:"mr-2 ac-btn",severity:"success",onClick:fe=>W("openCreateSpace",re.node.key,"sub-task"),rounded:""},null,8,["onClick"]),s(T,{icon:"pi pi-pencil",class:"mr-2 ac-btn",severity:"success",onClick:fe=>W("handleTaskEdit",re.node),rounded:""},null,8,["onClick"]),s(T,{icon:"pi pi-cog",class:"mr-2 ac-btn",severity:"info",onClick:fe=>W("handleTaskDetailView",re.node),rounded:""},null,8,["onClick"]),s(T,{icon:"pi pi-trash",class:"ac-btn",severity:"warning",rounded:"",onClick:fe=>W("confirmDeleteTask",re.node.key)},null,8,["onClick"])])])]),_:1})]),_:1},8,["value"])]),_:1},8,["header"]),s(je,{header:`Bounce ${((Et=t(ce))==null?void 0:Et.is_bounce)==="Yes"?"1":""}`},{default:w(()=>[e("div",_i,[e("div",xi,[Di,s(v,{onChange:i[11]||(i[11]=re=>Ct(t(ce))),disabled:!t(V),modelValue:t(ce),"onUpdate:modelValue":i[12]||(i[12]=re=>U(ce)?ce.value=re:null),options:t(Dt),optionLabel:"is_bounce",placeholder:"Select Status",style:{width:"146.41px"}},null,8,["disabled","modelValue","options"])])])]),_:1},8,["header"])]}),_:1})])])])]),e("div",Ti,[e("div",null,[e("div",Si,[e("div",$i,[e("div",Ci,[t(st)?(p(),qe(T,{key:0,onClick:Ge,label:"↓  Show More",class:"py-1 bg-gray-200 border-gray-100 text-surface-900 activity-btns"})):O("",!0)]),t(rt)?(p(),q("div",Vi,[(p(!0),q(Ue,null,Ne(t(se),x=>(p(),q("ul",{key:x,style:{"margin-left":"-15px","margin-top":"-6px"}},[e("li",{innerHTML:x.title,style:{"font-size":"smaller !important"}},null,8,Ei)]))),128)),e("div",Ai,[s(T,{onClick:St,label:"↑ Hide",class:"py-1 bg-gray-200 border-gray-100 text-surface-900 activity-btns"})])])):O("",!0),(p(!0),q(Ue,null,Ne(t(ie),x=>(p(),qe(cl,{class:"mb-2",key:x.id},{title:w(()=>[e("div",ji,[x.commentator_image?(p(),q("img",{key:0,class:"mr-2",src:x.commentator_image,alt:"",style:{width:"28px",height:"28px","border-radius":"50%"}},null,8,Li)):(p(),qe(dl,{key:1,label:x.commentator_name.charAt(),class:"mr-2 capitalize",size:"small",style:{"background-color":"gray",color:"#ededed","border-radius":"50%"}},null,8,["label"])),e("p",Ui,y(x.commentator_name),1)])]),content:w(()=>[Te(x==null?void 0:x.file)?(p(),q("div",Ii,[e("a",{href:x==null?void 0:x.file,target:"_blank",class:"bg-gray-200 attachment-wrapper cursor-pointer flex align-items-center px-3 py-3 gap-2 comment-file",style:{"background-color":"#f7fafc"}},[zi,e("div",Mi,[e("div",Hi,y(Te(x==null?void 0:x.file)),1)])],8,Oi)])):O("",!0),e("p",Bi,y(x!=null&&x.comment?x==null?void 0:x.comment:""),1),e("i",Ni,y(dt(x.time)),1)]),_:2},1024))),128))]),e("form",{onSubmit:Pt(ht,["prevent"]),class:"comment-add"},[t(f)?(p(),q("div",Fi,[e("div",null,[Ri,ue(),e("span",null,y(t(m)),1)]),e("div",{onClick:Q,class:"close-comment"},Yi)])):O("",!0),e("div",null,[s(ul,{placeholder:"Add comment",modelValue:t(Ye),"onUpdate:modelValue":i[13]||(i[13]=x=>U(Ye)?Ye.value=x:null),rows:"3",cols:"15",class:"border-gray-300 mb-1 comment-text",required:""},null,8,["modelValue"]),e("input",{class:"hidden",type:"file",ref_key:"fileInput",ref:mt,onChange:H},null,544),s(T,{icon:"pi pi-cloud-upload",onClick:P,"aria-label":"Filter"}),s(T,{class:"ml-2",type:"submit",icon:"pi pi-plus",label:"Add",loading:t(h)},null,8,["loading"])])],32)])])])])}}};const gt=o=>(Lt("data-v-060a3647"),o=o(),Ut(),o),Ki={class:"card"},Pi={class:"d-flex create-space-btn-wrapper mb-3 mr-2"},Wi={class:"breadCrumWrap"},Qi=gt(()=>e("p",{class:"pi pi-angle-right font-bold"},null,-1)),Xi=gt(()=>e("p",{class:"pi pi-angle-right font-bold"},null,-1)),Zi=gt(()=>e("p",{class:"pi pi-angle-right font-bold"},null,-1)),es=gt(()=>e("p",{class:"pi pi-angle-right font-bold"},null,-1)),ts={class:"text cursor-pointer"},ls=gt(()=>e("p",null,"Are you sure you want to delete?",-1)),ns={__name:"index",setup(o){const u=a(Fe("read_task")),_=ke(),C=ke(),{getSingleProject:Y,deleteTask:S,getTaskAssignModalData:X,getTagsAssignModalData:te,getTaskDetails:de}=ke(),{singleProject:Z,isTaskDeleted:B,tasks:le,kanbanTasks:G}=Qe(ke()),ae=a({}),ve=a(!0),N=vt(),z=a(!1),ie=a(null),K=kt().query.task_key;console.log(K);const{projects:F}=kt().params,d=a(!1),se=a(null),ne=a(null),oe=a(null),R=a([]),W=a([]),b=a(!1),h=a(!1),D=a(!1),V=async(L,g)=>{L?ne.value=L:ne.value="",g=="sub-task"?oe.value="Create Sub Task":oe.value="Create Task",d.value=!0,await X(),R.value=_.users,await te(),W.value=C.tags},pe=async L=>{ie.value=L,document.documentElement.style.cursor="wait",document.documentElement.style.position="relative";const g=document.createElement("div");g.style.position="absolute",g.style.top="0",g.style.left="0",g.style.width="100%",g.style.height="100%",g.style.backgroundColor="rgba(0, 0, 0, 0)",g.style.zIndex="1000000",document.documentElement.appendChild(g),await X(),R.value=_.users,await te(),W.value=C.tags,b.value=!0,document.documentElement.style.cursor="auto",document.documentElement.removeChild(g)},I=L=>{se.value=L,h.value=!0},ge=async()=>{z.value=!0,await S(se.value,F),B.value===!0?(z.value=!1,N.add({severity:"success",summary:"Successful",detail:"Task Deleted Successfully",group:"br",life:3e3}),h.value=!1):(z.value=!1,N.add({severity:"error",summary:"Error",detail:"Unable to delete task",group:"br",life:3e3}))},J=async L=>{document.documentElement.style.cursor="wait",document.documentElement.style.position="relative";const g=document.createElement("div");g.style.position="absolute",g.style.top="0",g.style.left="0",g.style.width="100%",g.style.height="100%",g.style.backgroundColor="rgba(0, 0, 0, 0)",g.style.zIndex="100000010",document.documentElement.appendChild(g),D.value&&(D.value=!1),await de(L.key),await X(),R.value=_.users,await te(),W.value=C.tags,D.value=!0,document.documentElement.style.cursor="auto",document.documentElement.removeChild(g)};console.log("visibleTaskDetailView",D.value),$e(D,L=>{if(L===!0)return 0;localStorage.removeItem("taskDetailID")}),(()=>{ae.value={global:{value:null,matchMode:Sl.CONTAINS}}})();const E=L=>{d.value=L},Re=L=>{b.value=L},Ie=()=>{Y(F)};return Y(F),$e(()=>kt().query.task_key,L=>{L&&J({key:L})}),K&&J({key:K}),Tl(()=>{ve.value=!1}),(L,g)=>{var xe,Ce,Ve,De;const it=pl,me=ml,he=eo,Xe=ho,_e=Lo,Je=Gi,Oe=qt;return p(),q("div",Ki,[s(it,{position:"bottom-right",group:"br"}),e("div",Pi,[e("div",Wi,[s(me,{to:"/",class:"text pi pi-home"}),Qi,s(me,{to:"/companies",class:"text"},{default:w(()=>[ue("Companies")]),_:1}),Xi,s(me,{to:`/companies/${(xe=t(Z))==null?void 0:xe.company_id}`,class:"text"},{default:w(()=>{var $;return[ue("Company - "+y(($=t(Z))==null?void 0:$.company_name),1)]}),_:1},8,["to"]),Zi,s(me,{to:`/companies/${(Ce=t(Z))==null?void 0:Ce.company_id}/spaces/${(Ve=t(Z))==null?void 0:Ve.space_id}`,class:"text"},{default:w(()=>{var $;return[ue(" Space - "+y(($=t(Z))==null?void 0:$.space_name),1)]}),_:1},8,["to"]),es,e("p",ts,"Project - "+y((De=t(Z))==null?void 0:De.name),1)])]),t(u)?(p(),qe(he,{key:0,kanbanTasks:t(G),tasks:t(le),onOpenCreateSpace:V,onHandleTaskEdit:g[0]||(g[0]=$=>pe($)),onHandleTaskDetailView:g[1]||(g[1]=$=>J($)),onConfirmDeleteTask:g[2]||(g[2]=$=>I($))},null,8,["kanbanTasks","tasks"])):O("",!0),s(t(bt),{visible:t(d),"onUpdate:visible":g[4]||(g[4]=$=>U(d)?d.value=$:null),modal:"",header:t(oe),style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"95vw","330px":"98vw"}},{default:w(()=>[s(Xe,{usersLists:t(R),tagsLists:t(W),taskId:t(ne),projects:t(F),onCloseCreateModal:g[3]||(g[3]=$=>E($))},null,8,["usersLists","tagsLists","taskId","projects"])]),_:1},8,["visible","header"]),s(t(bt),{visible:t(b),"onUpdate:visible":g[6]||(g[6]=$=>U(b)?b.value=$:null),modal:"",header:"Edit Task",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"95vw"}},{default:w(()=>[s(_e,{singleTask:t(ie),usersLists:t(R),tagsLists:t(W),projects:t(F),onCloseEditModal:g[5]||(g[5]=$=>Re($))},null,8,["singleTask","usersLists","tagsLists","projects"])]),_:1},8,["visible"]),s(t(bt),{visible:t(D),"onUpdate:visible":g[10]||(g[10]=$=>U(D)?D.value=$:null),modal:"",header:" ",style:{width:"90rem",height:"80rem"},breakpoints:{"1199px":"75vw","575px":"95vw"}},{default:w(()=>[s(Je,{usersLists:t(R),tagsLists:t(W),projID:t(F),onOpenCreateSpace:V,onHandleTaskEdit:g[7]||(g[7]=$=>pe($)),onHandleTaskDetailView:g[8]||(g[8]=$=>J($)),onConfirmDeleteTask:g[9]||(g[9]=$=>I($)),onUpdateTaskTable:Ie},null,8,["usersLists","tagsLists","projID"])]),_:1},8,["visible"]),s(t(bt),{visible:t(h),"onUpdate:visible":g[12]||(g[12]=$=>U(h)?h.value=$:null),header:" ",style:{width:"25rem"}},{default:w(()=>[ls,s(Oe,{label:"No",icon:"pi pi-times",text:"",onClick:g[11]||(g[11]=$=>h.value=!1)}),s(Oe,{label:"Yes",icon:"pi pi-check",loading:t(z),text:"",onClick:ge},null,8,["loading"])]),_:1},8,["visible"])])}}},ar=jt(ns,[["__scopeId","data-v-060a3647"]]);export{ar as default};
