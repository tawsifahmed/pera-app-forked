import{u as d,b as k}from"./cookie.ccd6a0a0.js";import{ao as v,$ as l}from"./entry.7ff8a81f.js";const y=v("user",()=>{const t=l(null),s=l(!1);async function n(){const r=d("token"),{data:o,pending:u,error:f}=await k("userProf",()=>$fetch("https://pbe.singularitybd.net/api/v1/users/profile",{headers:{Authorization:`Bearer ${r.value}`}}));t.value=o.value}async function c(r,o,u,f,h,i){s.value=!0;const e=new FormData;e.append("name",o),e.append("phone",u),e.append("address",h),i!=null&&e.append("image",i);const m=d("token");try{const a=await fetch(`https://pbe.singularitybd.net/api/v1/users/update/${r}`,{method:"POST",headers:{Authorization:`Bearer ${m.value}`},body:e});if(!a.ok)throw new Error("Network response was not ok");n();const p=await a.json();return console.log("User Update data =>",p),p}catch(a){console.error("Error uploading file:",a),s.value=!1}}return{getUserData:n,updateUser:c,userProfile:t}});export{y as u};
