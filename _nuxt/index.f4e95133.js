import G from"./button.esm.a55c2431.js";import{_ as I}from"./nuxt-link.d5d115f9.js";import K from"./tabpanel.esm.abefec25.js";import X from"./treetable.esm.046c2f3d.js";import Z from"./tabview.esm.354b8422.js";import tt from"./avatar.esm.dcf0cb44.js";import st from"./card.esm.9c921175.js";import{$ as k,as as et,b as i,i as t,t as o,u as e,c as J,w as d,e as j,F as w,f as $,l as n,a5 as at,o as a,a6 as ot}from"./entry.570ab878.js";import{u as lt}from"./fetch.11b9759f.js";import{u as it}from"./cookie.3ed14f9e.js";import{_ as R}from"./avatar.3c58da0e.js";import T from"./column.esm.6208f1b7.js";import{W as nt}from"./md-editor-v3.460ea091.js";import"./badge.esm.54d3e6c5.js";import"./basecomponent.esm.c7fbaad5.js";import"./index.esm.b72e702d.js";import"./baseicon.esm.c7f0dea4.js";import"./paginator.esm.23dce669.js";import"./index.esm.c592065e.js";import"./dropdown.esm.4fa36b0b.js";import"./index.esm.330f474a.js";import"./index.esm.d468d720.js";import"./index.esm.2cce7489.js";import"./index.esm.c6f3b761.js";import"./overlayeventbus.esm.c91907e9.js";import"./portal.esm.1e4af6e4.js";import"./virtualscroller.esm.84c3372a.js";import"./inputnumber.esm.9d737ca0.js";import"./index.esm.bb3da758.js";import"./index.esm.e450f24c.js";import"./inputtext.esm.5cd40da3.js";import"./index.esm.f3846021.js";import"./index.esm.ecdc2543.js";import"./checkbox.esm.1ad534d4.js";import"./index.esm.b806f7cb.js";import"./index.esm.c56eb8aa.js";import"./index.esm.7c91399e.js";const ct={class:"card lg:mx-auto mx-auto shared-nav"},rt=t("img",{src:R,alt:"Logo",height:"35",class:"mr-2"},null,-1),dt={class:"shared-task lg:mx-auto card grid p-4 mx-auto justify-content-center"},pt={class:"col-12 lg:col-7"},_t={class:""},ut={class:"task-wrapper card"},ht={class:"task-det"},ft={class:"mt-2 task-detail ml-2"},mt={class:"flex justify-content-between flex-wrap align-items-start"},gt={class:"col-12 lg:col-6 p-0"},xt={class:"flex gap-2 mb-3"},vt=t("div",{class:"flex gap-2 align-items-start"},[t("span",{class:"pi pi-user"}),t("p",{class:"text-nowrap font-bold"},"Assignee:")],-1),yt={class:"flex flex-wrap gap-2"},bt={class:"employee"},kt={class:"flex gap-2 mb-3"},wt=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-calendar"}),t("p",{class:"text-nowrap font-bold"},"Due Date:")],-1),$t={class:""},Tt={class:"col-12 lg:col-6 p-0"},Dt={class:"flex gap-2 mb-3"},St=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-flag"}),t("p",{class:"text-nowrap font-bold"},"Status:")],-1),jt={class:""},At={class:"flex gap-2 mb-3"},Nt=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-stopwatch"}),t("p",{class:"text-nowrap font-bold"},"Task Duration:")],-1),Mt={class:""},Ft={class:"flex gap-2 mb-3 align-items-start",style:{width:"100%"}},Lt=t("div",{class:"flex gap-2 align-items-center"},[t("span",{class:"pi pi-tags"}),t("p",{class:"text-nowrap font-bold"},"Tags:")],-1),Vt={class:"flex gap-2 flex-wrap"},Bt={class:"field mt-3 flex flex-column"},Ct=t("div",{class:"flex justify-content-start gap-2 align-items-center mb-1 task-detail-property"},[t("span",{class:"pi pi-sliders-h"}),t("p",{class:"text-nowrap font-bold"},"Description:")],-1),Pt={class:"m-0"},Ot={class:"my-3 attach-sec flex align-items-center justify-content-start gap-2",style:{"overflow-x":"scroll"}},Wt={key:0,class:""},Ht=t("p",{class:"text-[#000000]"},"No Attachment",-1),Ut=[Ht],zt=["href"],Jt=t("div",{class:"pi pi-file text-6xl attach-icon"},null,-1),Rt={class:"attach-detail flex flex-column justify-content-center align-items-center mt-1 pt-1 px-3"},Et=t("p",{class:"text-center"},"No Data found...",-1),Yt={class:"card"},Qt={class:"flex align-items-center gap-3"},qt=t("span",{class:"pi pi-flag"},null,-1),Gt=t("p",{class:"text-nowrap my-auto"},"Bounce Status:",-1),It={class:"text-nowrap my-auto"},Kt={class:"col-12 lg:col-5"},Xt=t("h5",{class:"cmc"},"Comments",-1),Zt={class:"comment-wrapper card"},ts={class:"comments"},ss={class:"flex justify-content-start align-items-center"},es={class:"text-lg"},as={key:0,class:"flex justify-content-start my-2"},os=["href"],ls=t("div",{class:"pi pi-file attach-icon"},null,-1),is={class:"attach-detail flex flex-column justify-content-center align-items-center"},ns={class:"text-xs"},cs=["innerHTML"],rs={key:2,class:"m-0 ml-1",style:{visibility:"hidden"}},ds={style:{"line-height":"0"},class:"pb-1 float-right"},ps=t("div",{class:"footer"},[t("img",{src:R,alt:"Logo",height:"25",class:"mr-2"}),t("p",{class:"text-center"},"by Singularity")],-1),Xs={__name:"index",setup(_s){const E=ot(),A=k(!1);it("token").value&&(A.value=!0);const{sharedtask:Y}=et().params,l=k(),f=k([]),m=k("");(async()=>{const{data:c,pending:r,error:_}=await lt(`${E.public.apiUrl}/tasks/shared/${Y}`,"$aWQCEyjYTm");l.value=c.value.data,f.value=c.value.subTask,m.value=c.value.data.description,console.log(c.value.subTask)})();const N=c=>{const _=c.split("/");return _[_.length-1]},Q=c=>{const r=new Date(c),g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()],u=r.getDate(),D=r.getFullYear().toString().substr(-2),x=r.getHours(),h=r.getMinutes(),S=x>=12?"PM":"AM",v=x%12||12,y=h<10?"0"+h:h;return`${u} ${g}'${D}, ${v}:${y}${S}`};return(c,r)=>{var v,y,M,F,L,V,B;const _=G,g=I,u=K,D=X,x=Z,h=tt,S=st;return a(),i("div",null,[t("div",ct,[rt,t("pre",null,o(c.authenticated),1),e(A)?j("",!0):(a(),J(g,{key:0,to:"/login"},{default:d(()=>[n(_,{type:"submit",label:"Login",class:"w-full px-3 py-2 text-xl"})]),_:1}))]),t("div",dt,[t("div",pt,[t("div",null,[t("h5",_t,"Task: "+o((v=e(l))==null?void 0:v.name),1),t("div",ut,[t("div",ht,[t("div",ft,[t("div",mt,[t("div",gt,[t("div",xt,[vt,t("div",yt,[(a(!0),i(w,null,$((y=e(l))==null?void 0:y.assignee,s=>(a(),i("div",{key:s},[t("p",bt,o(s.name),1)]))),128))])]),t("div",kt,[wt,t("p",$t,o((M=e(l))==null?void 0:M.due_date),1)])]),t("div",Tt,[t("div",Dt,[St,t("p",jt,o((F=e(l))==null?void 0:F.status_name),1)]),t("div",At,[Nt,t("p",Mt,o((L=e(l))==null?void 0:L.total_duration),1)])])]),t("div",Ft,[Lt,t("div",Vt,[(a(!0),i(w,null,$((V=e(l))==null?void 0:V.tags,s=>(a(),i("p",{key:s,class:"employee h-fit"},o(s.name),1))),128))])]),t("div",Bt,[Ct,n(e(nt),{style:{padding:"0"},modelValue:e(m),"onUpdate:modelValue":r[0]||(r[0]=s=>at(m)?m.value=s:null),editorStyle:"height: 150px",previewOnly:"",class:"custom-preview card",placeholder:"Write here...",height:"300px",language:"en-US"},null,8,["modelValue"])])]),n(x,{class:"mt-3"},{default:d(()=>{var s,C,P,O;return[n(u,{class:"file-upload",header:"Detail"},{default:d(()=>{var p,W,H,U,z;return[t("p",Pt,"Attachments: "+o(((W=(p=e(l))==null?void 0:p.attachments)==null?void 0:W.length)||0),1),t("div",Ot,[((U=(H=e(l))==null?void 0:H.attachments)==null?void 0:U.length)==0?(a(),i("div",Wt,Ut)):j("",!0),(a(!0),i(w,null,$((z=e(l))==null?void 0:z.attachments,(b,q)=>(a(),i("div",{key:b,target:"_blank",class:"card attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-0 py-2 relative",style:{"background-color":"#f7fafc"}},[t("a",{target:"_blank",class:"attachment-wrapper cursor-pointer flex flex-column justify-content-center align-items-center gap-2 px-0 py-4 relative",href:`https://pbe.singularitybd.net/${b==null?void 0:b.file}`},[Jt,t("div",Rt," Attacthment "+o(q+1),1)],8,zt)]))),128))])]}),_:1}),n(u,{header:`Sub Tasks ${(C=(s=e(f))==null?void 0:s.children)!=null&&C.length?(O=(P=e(f))==null?void 0:P.children)==null?void 0:O.length:0}`},{default:d(()=>{var p;return[n(D,{class:"tree-table",value:(p=e(f))==null?void 0:p.children,lazy:!0,tableProps:{style:{minWidth:"650px"}},style:{overflow:"auto"}},{empty:d(()=>[Et]),default:d(()=>[n(e(T),{field:"name",header:"Name",expander:"",style:{width:"30%"}}),n(e(T),{field:"assignee",header:"Assignee",style:{width:"20%"}}),n(e(T),{field:"dueDateValue",header:"Due Date",style:{width:"12.5%"}}),n(e(T),{field:"priority",header:"Priority",style:{width:"8%"}})]),_:1},8,["value"])]}),_:1},8,["header"]),n(u,{header:"Bounce"},{default:d(()=>{var p;return[t("div",Yt,[t("div",Qt,[qt,Gt,t("p",It,o((p=e(l))==null?void 0:p.is_bounce),1)])])]}),_:1})]}),_:1})])])])]),t("div",Kt,[t("div",null,[Xt,t("div",Zt,[t("div",ts,[(a(!0),i(w,null,$((B=e(l))==null?void 0:B.comments,s=>(a(),J(S,{class:"mb-2",key:s.id},{title:d(()=>[t("div",ss,[n(h,{label:s==null?void 0:s.commentator_name.charAt(),class:"mr-2 capitalize",size:"small",style:{"background-color":"gray",color:"#ededed","border-radius":"50%"}},null,8,["label"]),t("p",es,o(s.commentator_name),1)])]),content:d(()=>[N(s==null?void 0:s.file)?(a(),i("div",as,[t("a",{href:`https://pbe.singularitybd.net/storage/${s==null?void 0:s.file}`,target:"_blank",class:"bg-gray-200 attachment-wrapper cursor-pointer flex align-items-center px-3 py-3 gap-2 comment-file",style:{"background-color":"#f7fafc"}},[ls,t("div",is,[t("div",ns,o(N(s==null?void 0:s.file)),1)])],8,os)])):j("",!0),s!=null&&s.comment?(a(),i("p",{key:1,innerHTML:s==null?void 0:s.comment,class:"m-0 ml-1"},null,8,cs)):(a(),i("p",rs," . ")),t("i",ds,o(Q(s.created_at)),1)]),_:2},1024))),128))])])])])]),ps])}}};export{Xs as default};
