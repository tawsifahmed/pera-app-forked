import K from"./button.esm.c54db15a.js";import O from"./inputtext.esm.233582dc.js";import W from"./textarea.esm.6822d7a9.js";import G from"./multiselect.esm.02a2f9e7.js";import H from"./dialog.esm.7fe8ed85.js";import{a3 as b,ao as Q,a2 as X,a4 as Y,$ as n,a as Z,o as ee,b as te,l as d,k as ae,w as B,u as i,i as t,q as v,s as _,a7 as C,K as se,t as oe,a6 as le,a8 as ie,a9 as ne}from"./entry.e89720bc.js";import{u as V}from"./company.6be7c7b7.js";import{u as k}from"./workCompany.7a687833.js";import{u as ce,a as re}from"./cookie.f9cf43a3.js";const ue=k(),{company_id:pe}=b(k()),de=V(),A=Q("workSpace",{state:()=>({isSpaceCreated:null,comID:pe}),getters:{save(s){return s.isSpaceCreated}},actions:{async createSpace({name:s,description:g,company_id:T,color:y,users:D}){var m;const w=ce("token"),{data:$,pending:r}=await re("https://pbe.singularitybd.net/api/v1/space/create",{method:"POST",headers:{Authorization:`Bearer ${w.value}`},body:{name:s,description:g,company_id:T,color:y,users:D}},"$yBhqNAD4aJ");((m=$.value)==null?void 0:m.app_message)==="success"&&(this.isSpaceCreated=!0,await ue.getCompany(),await de.getSingleCompany(this.comID))}}});const I=s=>(ie("data-v-33171105"),s=s(),ne(),s),ve={class:"field"},me={for:"createSpaceName"},fe=I(()=>t("i",{class:"text-red-400 text-italic"},"*",-1)),xe={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},ge={class:"field"},ye={for:"name"},Se={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},_e={class:"field"},Ce={for:"name"},be=I(()=>t("i",{class:"text-red-400 text-italic"},"*",-1)),ke={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},Te={class:"m-0 d-flex colorpicker-wrapper"},De={class:"flex justify-center align-items-center"},we={class:"ml-2"},$e={class:"flex"},he={class:"field"},Ne=I(()=>t("i",{class:"text-red-400"},"*",-1)),Ve={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},Ie={__name:"CreateSpace",props:["spacePage"],setup(s){const g=Y(),T=k(),y=V();T.getCompany();const{company_id:D}=b(k());b(V());const w=A(),{save:$}=b(A()),r=n(!1),m=n(!1),h=n(!1),E=n(!1),o=n(null),u=n(""),f=n("#8080805c"),M=n(null),P=n([]),c=n([]),l=p=>{f.value=p},x=n(!1),U=async()=>{if(m.value=!1,h.value=!1,x.value=!0,o.value===null||o.value===""){m.value=!0,x.value=!1;return}if(c.value.length===0){h.value=!0,x.value=!1;return}else{const p={name:o.value,description:u.value,company_id:D,color:f.value,users:c.value.map(e=>e.id)};await w.createSpace(p),$.value==!0?(r.value=!1,o.value=null,u.value=null,f.value="#8080805c",M.value=null,c.value=[],x.value=!1,g.add({severity:"success",summary:"Space creation",detail:"Space created successfully!",group:"br",life:3e3})):(r.value=!0,x.value=!1,g.add({severity:"error",summary:"Space creation",detail:"Space created Failed!",group:"br",life:3e3}))}},q=async()=>{if(r.value=!0,r.value){await y.getTaskAssignModalData(),P.value=y.users;const p=document.getElementById("createSpaceName");console.log("createSpaceName",p),le(()=>{p&&p.focus()})}},z=()=>{r.value=!1,o.value&&(o.value=null),u.value&&(u.value=null),c.value&&(c.value=[]),f.value="#8080805c"},F=()=>{o.value&&(o.value=null),u.value&&(u.value=null),c.value&&(c.value=[]),f.value="#8080805c"};return(p,e)=>{const N=K,L=O,j=W,R=G,J=H,S=Z("tooltip");return ee(),te("div",null,[d(N,{icon:s.spacePage?"":"pi pi-plus",class:ae(s.spacePage?"btn-primary cursor-pointer text-white px-5 py-2":"p-button-sm"),label:s.spacePage?"Create +":"",onClick:q,severity:s.spacePage?"primary":"secondary","aria-label":"Bookmark",text:!s.spacePage},null,8,["icon","class","label","severity","text"]),d(J,{visible:i(r),"onUpdate:visible":[e[15]||(e[15]=a=>C(r)?r.value=a:null),F],style:{width:"32rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},header:"Create Space",modal:!0,class:"p-fluid"},{footer:B(()=>[d(N,{label:"Cancel",icon:"pi pi-times",text:"",onClick:z}),d(N,{label:"Save",icon:"pi pi-check",text:"",onClick:U,loading:i(x)},null,8,["loading"])]),default:B(()=>[t("div",ve,[t("label",me,[v("Space Name"),fe,v(),_(t("span",xe,null,512),[[S,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),d(L,{id:"createSpaceName",modelValue:i(o),"onUpdate:modelValue":e[0]||(e[0]=a=>C(o)?o.value=a:null),required:"true",invalid:i(m)},null,8,["modelValue","invalid"])]),t("div",ge,[t("label",ye,[v("Space Description "),_(t("span",Se,null,512),[[S,{value:"After setting space name, you can provide description."},void 0,{right:!0}]])]),d(j,{id:"description",class:"border-gray-300",modelValue:i(u),"onUpdate:modelValue":e[1]||(e[1]=a=>C(u)?u.value=a:null),rows:"3",cols:"20",invalid:i(E)},null,8,["modelValue","invalid"])]),t("div",_e,[t("label",Ce,[v("Space Color"),be,v(),_(t("span",ke,null,512),[[S,{value:"Demo Text Text"},void 0,{right:!0}]])]),t("div",Te,[t("div",De,[t("div",{id:"dynamic-div",style:se(`background-color: ${i(f)};`),class:"d-flex align-items-center justify-content-center text-3xl text-white"},oe(i(o)?i(o).charAt(0).toUpperCase():"S"),5),t("div",we,[t("div",$e,[t("div",{id:"white",class:"color",onClick:e[2]||(e[2]=a=>l("#e5ded4"))}),t("div",{id:"gray",class:"color",onClick:e[3]||(e[3]=a=>l("#9e9e9e"))}),t("div",{id:"orange",class:"color",onClick:e[4]||(e[4]=a=>l("#ff9800"))}),t("div",{id:"purple",class:"color",onClick:e[5]||(e[5]=a=>l("#9c27b0"))}),t("div",{id:"cadetblue",class:"color",onClick:e[6]||(e[6]=a=>l("#e91e63"))}),t("div",{id:"burlywood",class:"color",onClick:e[7]||(e[7]=a=>l("#4caf50"))}),t("div",{id:"pink",class:"color",onClick:e[8]||(e[8]=a=>l("#f44336"))}),t("div",{id:"lightseagreen",class:"color",onClick:e[9]||(e[9]=a=>l("#009688"))}),t("div",{id:"brown",class:"color",onClick:e[10]||(e[10]=a=>l("#795548"))}),t("div",{id:"cyan",class:"color",onClick:e[11]||(e[11]=a=>l("#00bcd4"))}),t("div",{id:"amber",class:"color",onClick:e[12]||(e[12]=a=>l("#ffc107"))}),t("div",{id:"indigo",class:"color",onClick:e[13]||(e[13]=a=>l("#3f51b5"))})])])])])]),t("div",he,[t("label",null,[v("Space Members"),Ne,v(),_(t("span",Ve,null,512),[[S,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),d(R,{display:"chip",modelValue:i(c),"onUpdate:modelValue":e[14]||(e[14]=a=>C(c)?c.value=a:null),options:i(P),filter:"",optionLabel:"name",placeholder:"Select Space Members",class:"w-full",invalid:i(h)},null,8,["modelValue","options","invalid"])])]),_:1},8,["visible"])])}}},Le=X(Ie,[["__scopeId","data-v-33171105"]]);export{Le as _};
