import J from"./button.esm.a55c2431.js";import Q from"./menu.esm.d90acb4c.js";import{_ as U}from"./CreateSpace.f42f71e2.js";import X from"./avatar.esm.dcf0cb44.js";import{_ as Y}from"./nuxt-link.d5d115f9.js";import{_ as Z}from"./CreateSpecificProject.304f88a8.js";import{ao as _,a2 as ee,$ as r,ce as te,a8 as ie,aj as ae,al as oe,b as n,q as x,t as k,i as d,s as v,l as h,c as f,e as l,k as y,K as le,w as S,T as ne,r as B,a as me,o as a,E as se,F as ce,f as ue}from"./entry.570ab878.js";import{u as re}from"./layout.b18253cb.js";import{a as $}from"./usePermission.23a55d5e.js";import{u as de}from"./workCompany.886927d5.js";import"./dialog.esm.0b6d087d.js";import"./badge.esm.54d3e6c5.js";import"./basecomponent.esm.c7fbaad5.js";import"./index.esm.b72e702d.js";import"./baseicon.esm.c7f0dea4.js";import"./overlayeventbus.esm.c91907e9.js";import"./portal.esm.1e4af6e4.js";import"./inputtext.esm.5cd40da3.js";import"./textarea.esm.c90f9326.js";import"./multiselect.esm.aa936d27.js";import"./checkbox.esm.1ad534d4.js";import"./index.esm.330f474a.js";import"./index.esm.d468d720.js";import"./index.esm.2cce7489.js";import"./index.esm.c6f3b761.js";import"./index.esm.417f68ee.js";import"./virtualscroller.esm.84c3372a.js";import"./company.198e2c6a.js";import"./cookie.3ed14f9e.js";import"./fetch.11b9759f.js";import"./inputgroupaddon.esm.1285f9f6.js";import"./inputgroup.esm.8bb2a589.js";import"./dropdown.esm.4fa36b0b.js";import"./vuedraggable.umd.e8c4ca38.js";import"./_commonjsHelpers.87174ba5.js";import"./colorpicker.esm.1250a2eb.js";const ve={key:0,class:"layout-menuitem-root-text flex justify-content-between align-items-center"},fe={key:0},pe={class:"flex align-items-center"},ye=["target"],ge={class:"flex align-items-center"},be={class:"flex align-items-center ml-auto"},xe={class:"flex flex-row align-items-center"},ke={class:"layout-menuitem-text"},he={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Se={class:"layout-submenu p-1",style:{"margin-left":"1px"}},Ie={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const{company_id:P}=ee(de()),N=r($("create_space")),T=r($("create_project")),z=te(),{layoutConfig:D,layoutState:I,setActiveMenuItem:M,onMenuToggle:R}=re(),c=e,m=r(!1),o=r(null),C=ie(),w=r([{label:"Space Settings",items:[{label:"Manage Space",icon:"pi pi-table",command:()=>{C.push(`/companies/${P.value}`)}},{label:"Archived Projects",icon:"pi pi-download",command:()=>{C.push("/archived-projects")}}]}]);ae(()=>{o.value=c.parentItemKey?c.parentItemKey+"-"+c.index:String(c.index);const t=I.activeMenuItem;m.value=t===o.value||t?t.startsWith(o.value+"-"):!1}),oe(()=>D.activeMenuItem.value,t=>{m.value=t===o.value||t.startsWith(o.value+"-")});const E=(t,i)=>{if(i.disabled){t.preventDefault();return}const{overlayMenuActive:g,staticMenuMobileActive:u}=I;(i.to||i.url)&&(u.value||g.value)&&R(),i.command&&i.command({originalEvent:t,item:i});const b=i.items?m.value?c.parentItemKey:o:o.value;console.log(b),M(b)},L=(t,i,g)=>{const u=i.items?m.value?c.parentItemKey:o:o.value;console.log(u),M(u),m.value=!0},A=t=>z.path===t.to,K=r(),V=t=>{K.value.toggle(t)};return(t,i)=>{var j;const g=J,u=Q,b=U,F=X,W=Y,q=Z,O=B("router-link"),G=B("app-menu-item",!0),p=me("tooltip");return a(),n("li",{class:y({"layout-root-menuitem":e.root,"active-menuitem":m.value})},[e.root&&e.item.visible!==!1?(a(),n("div",ve,[x(k(e.item.label)+" ",1),e.item.option=="space_option"?(a(),n("div",fe,[d("div",pe,[v(h(g,{type:"button",icon:"pi pi-ellipsis-h ",class:"p-button-sm w-2rem h-2rem",onClick:V,severity:"secondary","aria-label":"Bookmark",text:""},null,512),[[p,{value:"Manage Space"},void 0,{top:!0}]]),h(u,{ref_key:"menu",ref:K,id:"overlay_menu",onClick:i[0]||(i[0]=s=>t.clickSpaceMenu(w.value)),model:w.value,popup:!0},null,8,["model"]),N.value?v((a(),f(b,{key:0},null,512)),[[p,{value:"Create Space"},void 0,{top:!0}]]):l("",!0)])])):l("",!0)])):l("",!0),(!e.item.to||e.item.items)&&e.item.visible!==!1?(a(),n("a",{key:1,class:y(["p-1 pl-2",e.item.class]),target:e.item.target,tabindex:"0"},[d("div",ge,[h(F,{label:(j=e.item.label)==null?void 0:j.charAt(0),class:"mr-2 capitalize",size:"small",style:le({"background-color":[e.item.color?e.item.color:"#3b82f6"],color:["#ededed"]})},null,8,["label","style"]),v((a(),f(W,{class:y([[e.item.class,{"active-route":A(e.item)}],"layout-menuitem-text space-items"]),to:e.item.to},{default:S(()=>[x(k(e.item.label.length>20?e.item.label.slice(0,20)+"...":e.item.label),1)]),_:1},8,["class","to"])),[[p,{value:`${e.item.label.length>20?e.item.label:""}`},void 0,{right:!0}]])]),d("div",be,[e.item.items.length>0?(a(),n("i",{key:0,onClick:i[1]||(i[1]=s=>L(s,e.item,e.index)),class:"text-sm pi pi-fw pi-angle-down layout-submenu-toggler"})):l("",!0),T.value?v((a(),f(q,{key:1,singleSpace:e.item,spaces:e.item.id},null,8,["singleSpace","spaces"])),[[p,{value:"Create Project"}]]):l("",!0)])],10,ye)):l("",!0),e.item.to&&!e.item.items&&e.item.visible!==!1?(a(),f(O,{key:2,class:y(["flex align-items-center justify-content-between",[e.item.class,{"active-route":A(e.item)}]]),style:{"margin-left":"1px !important","padding-left":"7px !important"},onClick:i[2]||(i[2]=s=>E(s,e.item,e.index)),tabindex:"0",to:e.item.to},{default:S(()=>[d("div",xe,[d("i",{class:y([e.item.icon,"layout-menuitem-icon"]),style:{"margin-top":"1px !important"}},null,2),v((a(),n("span",ke,[x(k(e.item.label.length>22?e.item.label.slice(0,22)+"...":e.item.label),1)])),[[p,{value:`${e.item.label.length>22?e.item.label:""}`},void 0,{right:!0}]])]),e.item.items?(a(),n("i",he)):l("",!0)]),_:1},8,["class","to"])):l("",!0),e.item.items&&e.item.visible!==!1?(a(),f(ne,{key:3,name:"layout-submenu"},{default:S(()=>[v(d("ul",Se,[(a(!0),n(ce,null,ue(e.item.items,(s,H)=>(a(),f(G,{key:s,index:H,item:s,parentItemKey:o.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[se,e.root?!0:m.value]])]),_:1})):l("",!0)],2)}}},nt=_(Ie,[["__scopeId","data-v-123fc6dd"]]);export{nt as default};
