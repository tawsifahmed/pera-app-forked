import{u as h}from"./cookie.bbdfbee5.js";import{a5 as $,$ as n}from"./entry.e3d024fb.js";const M=$("clock",()=>{const m=n(null),s=n(null),r=n(),i=n(!1),u=n(null),f=n(null),c=n(null),d=n(null);async function w(o,t,e){const l=h("token");try{let a;e?a=`set-task-time-traker?action=${o}&timer_id=${e}`:a=`set-task-time-traker?action=${o}&task_id=${t}`,console.log("Saction",o);const k=await fetch(`https://pbe.singularitybd.net/api/v1/tasks/${a}`,{method:"GET",headers:{Authorization:`Bearer ${l.value}`}});if(!k.ok)throw new Error("Network response was not ok");const p=await k.json();return m.value=p,p}catch(a){console.error("Error uploading file:",a)}}async function y(o,t){const e=new FormData;e.append("task_id",o),e.append("duration",t);const l=h("token");try{const a=await fetch("https://pbe.singularitybd.net/api/v1/set-manual-time",{method:"POST",headers:{Authorization:`Bearer ${l.value}`},body:e});if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(a){console.error("Error uploading file:",a)}}async function v(){}async function T({task_id:o,project_id:t,space_id:e,company_id:l,timerStartTime:a}){if(o===null||t===null||e===null||l===null){s.value=null,await v(),r.value=!0;return}else console.log("task_id",o),console.log("project_id",t),console.log("space_id",e),console.log("company_id",l),s.value={task_id:o,project_id:t,space_id:e,company_id:l,timerStartTime:a},r.value=!1,console.log("timerDataPinia",s),console.log("isTImerStopped",r.value),await v()}async function g(o,t,e){i.value=!0,u.value=o,f.value=t,c.value=e,d.value=null}async function S(){i.value=!1,u.value=null,c.value=null,d.value=!0}async function D(){d.value=!1,i.value=!1,u.value=null,f.value=null,c.value=null}return{getTaskTimerData:w,storeTaskTimer:T,getStoreTimer:v,setManualTime:y,handleMissDeadlineShowTimer:g,closeDeadlineShowModal:S,handleCloseDeadlineJustify:D,timerData:s,trackedTime:m,isTImerStopped:r,deadlineMissModal:i,deadlineTaskId:u,deadlineProjectId:f,deadlineDueDate:c,deadlineJustifyProvided:d}});export{M as u};
