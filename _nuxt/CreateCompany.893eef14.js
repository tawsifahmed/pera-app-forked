import H from"./dropdown.esm.d2b0bb7a.js";import W from"./inputtext.esm.786e326d.js";import Z from"./button.esm.00a228fe.js";import q from"./dialog.esm.bfb26f05.js";import{a2 as G,a6 as J,$ as l,ad as K,a as Q,o as r,c as X,w as U,l as y,u as o,i as e,ag as g,b as v,e as R,q as h,s as Y,a3 as ee,a4 as le}from"./entry.e1670317.js";import{u as T}from"./company.0674ddf5.js";const ae=""+new URL("dummy_company.85352387.png",import.meta.url).href;const x=C=>(ee("data-v-786eaed1"),C=C(),le(),C),oe={class:"field"},te=x(()=>e("label",{for:"company"},[h("Company Size"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),se={class:"field"},ne=x(()=>e("label",{for:"worktype"},[h("Company Work Type?"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),ie={class:"field"},re=x(()=>e("label",{for:"email"},[h("Email Address"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),ue={key:0,class:"text-danger text-center text-xs mt-2"},de={class:"field"},ce=x(()=>e("label",{for:"company"},[h("Company Name"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),pe={class:"field mb-0"},me={class:"mb-0",for:"company"},ve={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},_e={class:"relative w-fit mx-auto"},be=["src"],fe={key:1,src:ae,alt:"",style:{height:"60px",width:"60px","border-radius":"100%","object-fit":"cover",border:"1px solid gray"}},ye={class:"img-label"},ge={key:0,for:"imageCancel"},he={key:1,for:"image"},xe=x(()=>e("i",{class:"pi pi-plus",style:{color:"red",right:"0.2rem",bottom:"0.2rem","z-index":"5","background-color":"white",padding:"5px","border-radius":"20px","box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px",cursor:"pointer"}},null,-1)),Ce=[xe],we=["v-model"],ke={key:0,style:{color:"red"}},Se={__name:"CreateCompany",setup(C){const{createCompany:P}=T(),{singleSpace:Ie,isCompanyCreated:D}=J(T()),_=l(!0),V=K(),u=l(null),L=l([{id:1,label:"1-10"},{id:2,label:"11-25"},{id:3,label:"26-250"},{id:4,label:"251-500"},{id:5,label:"501-2000"}]);l(null);const d=l(null),z=l([{id:"PMO",label:"PMO"},{id:"Finance & Accounting",label:"Finance & Accounting"},{id:"HR & Recruiting",label:"HR & Recruiting"},{id:"Operations",label:"Operations"},{id:"Support",label:"Support"},{id:"Sales & CRM",label:"Sales & CRM"},{id:"Personal Use",label:"Personal Use"},{id:"IT",label:"IT"},{id:"Creative & Design",label:"Creative & Design"},{id:"Personal Services",label:"Personal Services"},{id:"Marketing",label:"Marketing"},{id:"Engineering & Production",label:"Engineering & Production"},{id:"Other",label:"Other"}]),s=l(null),N=i=>String(i).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),b=l(null),c=l("right");s.value===null&&(c.value=!1),l(null);const O=()=>{console.log("check email input",s.value),c.value=!1,N(s.value)!==null?(b.value=s.value,c.value="right"):s.value===null||s.value===""?c.value="right":(b.value=null,c.value="wrong")},n=l(null),p=l(null),m=l(null),E=l(null),A=i=>{m.value=i.target.files[0],p.value=URL.createObjectURL(m.value)},F=()=>{m.value=null,p.value=null,E.value.value=null},S=l(!1),f=l(!1),M=async()=>{var i,a;if(f.value=!0,u.value===null||d.value===null||b.value===null||n.value===null||n.value===""){S.value=!0,f.value=!1;return}else{S.value=!1;let w=(i=u.value)==null?void 0:i.label,k=(a=d.value)==null?void 0:a.label;const I={name:n.value,email:b.value,address:null,contact_number:null,number_of_employees:w,company_type:k,logo:m.value?m.value:null};await P(I),D.value===!0?(_.value=!1,u.value=null,d.value=null,s.value=null,b.value=null,n.value=null,f.value=!1,V.add({severity:"success",summary:"Company creation",detail:"Company created successfully!",group:"br",life:3e3}),location.reload()):(_.value=!0,f.value=!1,V.add({severity:"error",summary:"Company creation",detail:"Company created Failed!",group:"br",life:3e3}))}},$=()=>{p.value=null};return(i,a)=>{const w=H,k=W,I=Z,j=q,B=Q("tooltip");return r(),X(j,{visible:o(_),"onUpdate:visible":[a[5]||(a[5]=t=>g(_)?_.value=t:null),$],style:{width:"450px"},header:"Create Company",modal:!0,class:"p-fluid"},{footer:U(()=>[y(I,{label:"Save",icon:"pi pi-check",text:"",loading:o(f),onClick:M},null,8,["loading"])]),default:U(()=>[e("div",oe,[te,y(w,{modelValue:o(u),"onUpdate:modelValue":a[0]||(a[0]=t=>g(u)?u.value=t:null),inputId:"company",options:o(L),optionLabel:"label",placeholder:"Select Size",class:"w-full"},null,8,["modelValue","options"])]),e("div",se,[ne,y(w,{modelValue:o(d),"onUpdate:modelValue":a[1]||(a[1]=t=>g(d)?d.value=t:null),inputId:"worktype",options:o(z),optionLabel:"label",placeholder:"Select Type",class:"w-full"},null,8,["modelValue","options"])]),e("div",ie,[re,y(k,{type:"email",inputId:"email",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Email",modelValue:o(s),"onUpdate:modelValue":a[2]||(a[2]=t=>g(s)?s.value=t:null),onInput:O},null,8,["modelValue"]),o(c)==="wrong"?(r(),v("p",ue,"Invalid Email!")):R("",!0)]),e("div",de,[ce,y(k,{type:"company",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Name",modelValue:o(n),"onUpdate:modelValue":a[3]||(a[3]=t=>g(n)?n.value=t:null)},null,8,["modelValue"])]),e("div",pe,[e("label",me,[h("Company Logo "),Y(e("span",ve,null,512),[[B,{value:"Upload 1:1 ratio size"},void 0,{right:!0}]])]),e("div",_e,[o(p)?(r(),v("img",{key:0,src:`${o(p)}`,style:{height:"60px",width:"60px","border-radius":"100%","object-fit":"cover"}},null,8,be)):(r(),v("img",fe)),e("div",ye,[o(p)?(r(),v("label",ge,[e("i",{class:"pi pi-minus",onClick:F,style:{color:"red",right:"0.2rem",bottom:"0.2rem","z-index":"5","background-color":"white",padding:"5px","border-radius":"20px","box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px",cursor:"pointer"}})])):(r(),v("label",he,Ce)),e("input",{class:"hidden",type:"file","v-model":o(m),ref_key:"inputFile",ref:E,id:"image",onInput:a[4]||(a[4]=t=>A(t)),accept:".png, .jpeg, .jpg"},null,40,we)])])]),o(S)?(r(),v("p",ke,"Please fill/check up all the fields properly")):R("",!0)]),_:1},8,["visible"])}}},De=G(Se,[["__scopeId","data-v-786eaed1"]]);export{ae as _,De as a};
