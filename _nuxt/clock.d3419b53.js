import{u as k}from"./cookie.ccd6a0a0.js";import{ao as w,$ as c}from"./entry.7ff8a81f.js";const T=w("clock",()=>{const u=c(null),n=c(null),s=c();async function p(t,a,o){const r=k("token");try{let e;o?e=`set-task-time-traker?action=${t}&timer_id=${o}`:e=`set-task-time-traker?action=${t}&task_id=${a}`,console.log("Saction",t);const i=await fetch(`https://pbe.singularitybd.net/api/v1/tasks/${e}`,{method:"GET",headers:{Authorization:`Bearer ${r.value}`}});if(!i.ok)throw new Error("Network response was not ok");const m=await i.json();return u.value=m,m}catch(e){console.error("Error uploading file:",e)}}async function d(t,a){const o=new FormData;o.append("task_id",t),o.append("duration",a);const r=k("token");try{const e=await fetch("https://pbe.singularitybd.net/api/v1/set-manual-time",{method:"POST",headers:{Authorization:`Bearer ${r.value}`},body:o});if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){console.error("Error uploading file:",e)}}async function l(){console.log("timerData11",n)}async function f({task_id:t,project_id:a,space_id:o,company_id:r,timerStartTime:e}){if(t===null||a===null||o===null||r===null){n.value=null,await l(),s.value=!0;return}else console.log("task_id",t),console.log("project_id",a),console.log("space_id",o),console.log("company_id",r),n.value={task_id:t,project_id:a,space_id:o,company_id:r,timerStartTime:e},s.value=!1,console.log("timerDataPinia",n),console.log("isTImerStopped",s.value),await l()}return{getTaskTimerData:p,storeTaskTimer:f,getStoreTimer:l,setManualTime:d,timerData:n,trackedTime:u,isTImerStopped:s}});export{T as u};
