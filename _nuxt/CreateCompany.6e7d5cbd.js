import B from"./dropdown.esm.301107b0.js";import D from"./inputtext.esm.d2ed1013.js";import $ from"./button.esm.d3de2cb4.js";import z from"./dialog.esm.626f6ed5.js";import{a2 as F,a3 as L,$ as l,a4 as H,o as S,c as W,w as k,l as v,u as t,i as a,a7 as f,b as V,e as I,a8 as Z,a9 as q,q as g}from"./entry.6ba041bf.js";import{u as E}from"./company.66e7d9a7.js";const C=_=>(Z("data-v-5f9fb05d"),_=_(),q(),_),j={class:"field"},G=C(()=>a("label",{for:"company"},[g("Company Size"),a("i",{class:"text-red-400 text-italic"},"*")],-1)),J={class:"field"},K=C(()=>a("label",{for:"worktype"},[g("Company Work Type?"),a("i",{class:"text-red-400 text-italic"},"*")],-1)),Q={class:"field"},X=C(()=>a("label",{for:"email"},[g("Email Address"),a("i",{class:"text-red-400 text-italic"},"*")],-1)),Y={key:0,class:"text-danger text-center text-xs mt-2"},ee={class:"field"},le=C(()=>a("label",{for:"company"},[g("Company Name"),a("i",{class:"text-red-400 text-italic"},"*")],-1)),ae={key:0,style:{color:"red"}},oe={__name:"CreateCompany",setup(_){const{createCompany:T}=E(),{singleSpace:te,isCompanyCreated:P}=L(E()),d=l(!0),w=H(),i=l(null),R=l([{id:1,label:"1-10"},{id:2,label:"11-25"},{id:3,label:"26-250"},{id:4,label:"251-500"},{id:5,label:"501-2000"}]);l(null);const u=l(null),N=l([{id:"PMO",label:"PMO"},{id:"Finance & Accounting",label:"Finance & Accounting"},{id:"HR & Recruiting",label:"HR & Recruiting"},{id:"Operations",label:"Operations"},{id:"Support",label:"Support"},{id:"Sales & CRM",label:"Sales & CRM"},{id:"Personal Use",label:"Personal Use"},{id:"IT",label:"IT"},{id:"Creative & Design",label:"Creative & Design"},{id:"Personal Services",label:"Personal Services"},{id:"Marketing",label:"Marketing"},{id:"Engineering & Production",label:"Engineering & Production"},{id:"Other",label:"Other"}]),o=l(null),U=m=>String(m).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),c=l(null),r=l("right");o.value===null&&(r.value=!1),l(null);const A=()=>{console.log("check email input",o.value),r.value=!1,U(o.value)!==null?(c.value=o.value,r.value="right"):o.value===null||o.value===""?r.value="right":(c.value=null,r.value="wrong")},s=l(null),h=l(!1),p=l(!1),M=async()=>{var m,e;if(p.value=!0,i.value===null||u.value===null||c.value===null||s.value===null||s.value===""){h.value=!0,p.value=!1;return}else{h.value=!1;let y=(m=i.value)==null?void 0:m.label,b=(e=u.value)==null?void 0:e.label;const x={name:s.value,email:c.value,address:null,contact_number:null,number_of_employees:y,company_type:b,logo:null};await T(x),P.value===!0?(d.value=!1,i.value=null,u.value=null,o.value=null,c.value=null,s.value=null,p.value=!1,w.add({severity:"success",summary:"Company creation",detail:"Company created successfully!",group:"br",life:3e3}),location.reload()):(d.value=!0,p.value=!1,w.add({severity:"error",summary:"Company creation",detail:"Company created Failed!",group:"br",life:3e3}))}};return(m,e)=>{const y=B,b=D,x=$,O=z;return S(),W(O,{visible:t(d),"onUpdate:visible":e[4]||(e[4]=n=>f(d)?d.value=n:null),style:{width:"450px"},header:"Create Company",modal:!0,class:"p-fluid"},{footer:k(()=>[v(x,{label:"Save",icon:"pi pi-check",text:"",loading:t(p),onClick:M},null,8,["loading"])]),default:k(()=>[a("div",j,[G,v(y,{modelValue:t(i),"onUpdate:modelValue":e[0]||(e[0]=n=>f(i)?i.value=n:null),inputId:"company",options:t(R),optionLabel:"label",placeholder:"Select Size",class:"w-full"},null,8,["modelValue","options"])]),a("div",J,[K,v(y,{modelValue:t(u),"onUpdate:modelValue":e[1]||(e[1]=n=>f(u)?u.value=n:null),inputId:"worktype",options:t(N),optionLabel:"label",placeholder:"Select Type",class:"w-full"},null,8,["modelValue","options"])]),a("div",Q,[X,v(b,{type:"email",inputId:"email",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Email",modelValue:t(o),"onUpdate:modelValue":e[2]||(e[2]=n=>f(o)?o.value=n:null),onInput:A},null,8,["modelValue"]),t(r)==="wrong"?(S(),V("p",Y,"Invalid Email!")):I("",!0)]),a("div",ee,[le,v(b,{type:"company",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Name",modelValue:t(s),"onUpdate:modelValue":e[3]||(e[3]=n=>f(s)?s.value=n:null)},null,8,["modelValue"])]),t(h)?(S(),V("p",ae,"Please fill/check up all the fields properly")):I("",!0)]),_:1},8,["visible"])}}},ce=F(oe,[["__scopeId","data-v-5f9fb05d"]]);export{ce as _};
