import $ from"./dropdown.esm.1498a871.js";import z from"./inputtext.esm.233582dc.js";import F from"./button.esm.c54db15a.js";import L from"./dialog.esm.7fe8ed85.js";import{a2 as H,a3 as W,$ as t,a4 as Z,a as q,o as T,c as j,w as V,l as _,u as o,i as e,q as n,s as g,a7 as f,b as I,e as E,a8 as G,a9 as J}from"./entry.e89720bc.js";import{u as D}from"./company.6be7c7b7.js";const C=y=>(G("data-v-51670d76"),y=y(),J(),y),K={class:"field"},Q={for:"company"},X=C(()=>e("i",{class:"text-red-400 text-italic"},"*",-1)),Y={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},ee={class:"field"},le={for:"worktype"},te=C(()=>e("i",{class:"text-red-400 text-italic"},"*",-1)),ae={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},oe={class:"field"},se={for:"email"},ne=C(()=>e("i",{class:"text-red-400 text-italic"},"*",-1)),ie={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},re={key:0,class:"text-danger text-center text-xs mt-2"},ue={class:"field"},ce={for:"company"},pe=C(()=>e("i",{class:"text-red-400 text-italic"},"*",-1)),de={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},me={key:0,style:{color:"red"}},ve={__name:"CreateCompany",setup(y){const{createCompany:P}=D(),{singleSpace:_e,isCompanyCreated:R}=W(D()),p=t(!0),k=Z(),r=t(null),N=t([{id:1,label:"1-10"},{id:2,label:"11-25"},{id:3,label:"26-250"},{id:4,label:"251-500"},{id:5,label:"501-2000"}]);t(null);const u=t(null),U=t([{id:"PMO",label:"PMO"},{id:"Finance & Accounting",label:"Finance & Accounting"},{id:"HR & Recruiting",label:"HR & Recruiting"},{id:"Operations",label:"Operations"},{id:"Support",label:"Support"},{id:"Sales & CRM",label:"Sales & CRM"},{id:"Personal Use",label:"Personal Use"},{id:"IT",label:"IT"},{id:"Creative & Design",label:"Creative & Design"},{id:"Personal Services",label:"Personal Services"},{id:"Marketing",label:"Marketing"},{id:"Engineering & Production",label:"Engineering & Production"},{id:"Other",label:"Other"}]),a=t(null),A=v=>String(v).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),d=t(null),c=t("right");a.value===null&&(c.value=!1),t(null);const M=()=>{console.log("check email input",a.value),c.value=!1,A(a.value)!==null?(d.value=a.value,c.value="right"):a.value===null||a.value===""?c.value="right":(d.value=null,c.value="wrong")},i=t(null),w=t(!1),m=t(!1),O=async()=>{var v,l;if(m.value=!0,r.value===null||u.value===null||d.value===null||i.value===null||i.value===""){w.value=!0,m.value=!1;return}else{w.value=!1;let b=(v=r.value)==null?void 0:v.label,h=(l=u.value)==null?void 0:l.label;const S={name:i.value,email:d.value,address:null,contact_number:null,number_of_employees:b,company_type:h,logo:null};await P(S),R.value===!0?(p.value=!1,r.value=null,u.value=null,a.value=null,d.value=null,i.value=null,m.value=!1,k.add({severity:"success",summary:"Company creation",detail:"Company created successfully!",group:"br",life:3e3}),location.reload()):(p.value=!0,m.value=!1,k.add({severity:"error",summary:"Company creation",detail:"Company created Failed!",group:"br",life:3e3}))}};return(v,l)=>{const b=$,h=z,S=F,B=L,x=q("tooltip");return T(),j(B,{visible:o(p),"onUpdate:visible":l[4]||(l[4]=s=>f(p)?p.value=s:null),style:{width:"450px"},header:"Create Company",modal:!0,class:"p-fluid"},{footer:V(()=>[_(S,{label:"Save",icon:"pi pi-check",text:"",loading:o(m),onClick:O},null,8,["loading"])]),default:V(()=>[e("div",K,[e("label",Q,[n("Company Size"),X,n(),g(e("span",Y,null,512),[[x,{value:"Demo Text Text"},void 0,{right:!0}]])]),_(b,{modelValue:o(r),"onUpdate:modelValue":l[0]||(l[0]=s=>f(r)?r.value=s:null),inputId:"company",options:o(N),optionLabel:"label",placeholder:"Select Size",class:"w-full"},null,8,["modelValue","options"])]),e("div",ee,[e("label",le,[n("Company Work Type?"),te,n(),g(e("span",ae,null,512),[[x,{value:"Demo Text Text"},void 0,{right:!0}]])]),_(b,{modelValue:o(u),"onUpdate:modelValue":l[1]||(l[1]=s=>f(u)?u.value=s:null),inputId:"worktype",options:o(U),optionLabel:"label",placeholder:"Select Type",class:"w-full"},null,8,["modelValue","options"])]),e("div",oe,[e("label",se,[n("Email Address"),ne,n(),g(e("span",ie,null,512),[[x,{value:"Demo Text Text"},void 0,{right:!0}]])]),_(h,{type:"email",inputId:"email",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Email",modelValue:o(a),"onUpdate:modelValue":l[2]||(l[2]=s=>f(a)?a.value=s:null),onInput:M},null,8,["modelValue"]),o(c)==="wrong"?(T(),I("p",re,"Invalid Email!")):E("",!0)]),e("div",ue,[e("label",ce,[n("Company Name"),pe,n(),g(e("span",de,null,512),[[x,{value:"Demo Text Text"},void 0,{right:!0}]])]),_(h,{type:"company",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Name",modelValue:o(i),"onUpdate:modelValue":l[3]||(l[3]=s=>f(i)?i.value=s:null)},null,8,["modelValue"])]),o(w)?(T(),I("p",me,"Please fill/check up all the fields properly")):E("",!0)]),_:1},8,["visible"])}}},Ce=H(ve,[["__scopeId","data-v-51670d76"]]);export{Ce as _};
