import q from"./button.esm.3ec7eae1.js";import pe from"./inputicon.esm.869f1953.js";import H from"./inputtext.esm.a45bd446.js";import me from"./iconfield.esm.5f547043.js";import _e from"./toolbar.esm.b12bdcd0.js";import ve from"./progressspinner.esm.90cde857.js";import{a2 as L,a4 as j,$ as t,a5 as K,a6 as X,a as fe,o as v,b as D,i as c,q as R,s as ge,l as o,u as e,a7 as w,e as h,a8 as Q,a9 as J,ca as Y,w as m,P as ye,c as S}from"./entry.7ff8a81f.js";import{u as V,a as G,b as be}from"./cookie.ccd6a0a0.js";import Te from"./dialog.esm.57fbd934.js";import xe from"./toast.esm.11ec969b.js";import z from"./column.esm.06878d54.js";import he from"./datatable.esm.8a4bd236.js";import{a as B}from"./usePermission.e23a010a.js";import"./badge.esm.a113bbb4.js";import"./basecomponent.esm.df6a4ea8.js";import"./index.esm.5c2797ea.js";import"./baseicon.esm.c1e52884.js";import"./index.esm.72da38a6.js";import"./portal.esm.2d1e99a5.js";import"./index.esm.f6e93f94.js";import"./index.esm.1baf4e6d.js";import"./index.esm.c28ea1af.js";import"./paginator.esm.6c8c2fdf.js";import"./index.esm.716ae6c4.js";import"./dropdown.esm.fdfe63be.js";import"./index.esm.02beb680.js";import"./index.esm.7de35ad8.js";import"./overlayeventbus.esm.01179281.js";import"./virtualscroller.esm.ae2f48ff.js";import"./inputnumber.esm.328efc7f.js";import"./index.esm.1ec61c04.js";import"./index.esm.39c7d9c3.js";import"./index.esm.9c7f1522.js";import"./index.esm.93780cfa.js";import"./index.esm.38a22526.js";import"./checkbox.esm.11a3d88c.js";import"./radiobutton.esm.7782f3a7.js";import"./index.esm.49bc6069.js";import"./index.esm.79fa5663.js";const $e=l=>(Q("data-v-daa84c4d"),l=l(),J(),l),ke={class:"field"},we={for:"company"},Ce=$e(()=>c("i",{class:"text-red-400 text-italic"},"*",-1)),Ee={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},Se={key:0,style:{color:"red"}},De={class:"create-btn-wrapper mb-0"},Ie={__name:"CreateTag",emits:["closeCreateModal"],setup(l,{emit:k}){const C=Y(),$=j(),d=t(""),f=t(!1),i=t(!0),g=k,T=async()=>{if(d.value===""){f.value=!0;return}else if(f.value=!1,!f.value){const _=V("token"),{data:u,pending:n}=await G(`${C.public.apiUrl}/tag/create`,{method:"POST",headers:{Authorization:`Bearer ${_.value}`},body:{name:d.value}},"$jxcvHxJQkU");u.value.code===201?(d.value=null,i.value=!1,g("closeCreateModal",!1),$.add({severity:"success",summary:"Success",detail:"Tag Created successfully!",group:"br",life:3e3})):$.add({severity:"error",summary:"Error",detail:"Tag Creation Failed!",group:"br",life:3e3})}};return K(()=>{const _=document.getElementById("createTagName");X(()=>{_&&_.focus()})}),(_,u)=>{const n=H,y=q,p=fe("tooltip");return v(),D("div",null,[c("div",ke,[c("label",we,[R("Tag Name"),Ce,R(),ge(c("span",Ee,null,512),[[p,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),o(n,{id:"createTagName",modelValue:e(d),"onUpdate:modelValue":u[0]||(u[0]=x=>w(d)?d.value=x:null),class:"w-full",placeholder:"Enter tag name"},null,8,["modelValue"])]),e(f)?(v(),D("p",Se,"Please enter tag name")):h("",!0),c("div",De,[o(y,{label:"Save",icon:"pi pi-check",text:"",onClick:T})])])}}},Ne=L(Ie,[["__scopeId","data-v-daa84c4d"]]);const Ue=l=>(Q("data-v-36eab91a"),l=l(),J(),l),Me={class:"field"},Be=Ue(()=>c("label",{for:"company"},[R("Name"),c("i",{class:"text-red-400 text-italic"},"*")],-1)),Ve={key:0,style:{color:"red"}},Pe={class:"create-btn-wrappe"},Fe={__name:"EditTag",props:{param:{type:Object,required:!0}},emits:["closeEditModal"],setup(l,{emit:k}){const C=Y(),$=l,d=j(),f=t($.param.id),i=t($.param.name),g=t(!1),T=t(!0),_=k,u=async()=>{if(i.value===""){g.value=!0;return}else if(g.value=!1,!g.value){const n=V("token"),{data:y,pending:p}=await G(`${C.public.apiUrl}/tag/update/${f.value}`,{method:"POST",headers:{Authorization:`Bearer ${n.value}`},body:{name:i.value}},"$RrQ4SF9MPi");y.value.code===200?(T.value=!1,_("closeEditModal",!1),d.add({severity:"success",summary:"Success",detail:"Tag Updated successfully!",group:"br",life:3e3})):d.add({severity:"error",summary:"Error",detail:"Tag Update Failed!",group:"br",life:3e3})}};return K(()=>{const n=document.getElementById("editTagName");X(()=>{n&&n.focus()})}),(n,y)=>{const p=H,x=q;return v(),D("div",null,[c("div",Me,[Be,o(p,{id:"editTagName",modelValue:e(i),"onUpdate:modelValue":y[0]||(y[0]=I=>w(i)?i.value=I:null),class:"w-full",placeholder:"Edit tag name"},null,8,["modelValue"])]),e(g)?(v(),D("p",Ve,"Please enter tag name")):h("",!0),c("div",Pe,[o(x,{label:"Update",icon:"pi pi-check",text:"",onClick:u})])])}}},Ae=L(Fe,[["__scopeId","data-v-36eab91a"]]);const P=l=>(Q("data-v-42b59563"),l=l(),J(),l),Oe={key:0,class:"card"},ze=P(()=>c("div",{class:"d-flex mr-2"},[c("h5",{class:"mb-1"},"Tags")],-1)),Re=P(()=>c("i",{class:"pi pi-search"},null,-1)),qe=P(()=>c("p",{class:"text-center"},"No Data found...",-1)),He=P(()=>c("p",null,"Are you sure you want to delete?",-1)),Le={__name:"index",setup(l){const k=Y(),C=t(B("read_tags")),$=t(B("create_tags")),d=t(B("update_tags")),f=t(B("delete_tags")),i=t(),g=t(!0),T=t(!1),_=j(),u=t(!1),n=t(!1),y=t([]),p=t(!1),x=t(""),I=t(""),Z=t(""),ee=t(""),te=t(""),ae=r=>{u.value=!1,E()},oe=r=>{n.value=!1,E()},se=()=>{u.value=!0,E()},le=r=>{n.value=!0,x.value=r.id,I.value=r.name,Z.value=r.email,ee.value=r.phone,te.value=r.address},ie=r=>{p.value=!0,x.value=r},ne=async()=>{T.value=!0;const r=V("token"),{data:a,pending:b}=await G(`${k.public.apiUrl}/tag/delete/${x.value}`,{method:"DELETE",headers:{Authorization:`Bearer ${r.value}`}},"$2xUf6ofqOr");a.value.code===200?(p.value=!1,_.add({severity:"success",summary:"Success",detail:"Tag Deleted successfully!",group:"br",life:3e3}),T.value=!1,E()):(_.add({severity:"error",summary:"Error",detail:"Tag Deleted Failed!",group:"br",life:3e3}),T.value=!1)},E=async()=>{var N,U,M;const r=V("token"),{data:a,pending:b,error:W}=await be("tagsList",()=>$fetch(`${k.public.apiUrl}/tag/list`,{headers:{Authorization:`Bearer ${r.value}`}}));((U=(N=a.value)==null?void 0:N.data)==null?void 0:U.length)>0&&(y.value=(M=a.value)==null?void 0:M.data.map((F,A)=>({...F,index:A+1})))},re=()=>{i.value={global:{value:null,matchMode:ye.CONTAINS}}};return K(()=>{E(),g.value=!1}),re(),(r,a)=>{const b=q,W=pe,N=H,U=me,M=_e,F=ve,A=Ne,O=Te,ce=Ae,de=xe;return e(C)?(v(),D("div",Oe,[ze,o(M,{class:"border-0 px-0"},{start:m(()=>[e($)?(v(),S(b,{key:0,icon:"pi pi-plus",label:"Create",onClick:se,class:"mr-2",severity:"secondary"})):h("",!0)]),end:m(()=>[o(U,{iconPosition:"right",raised:""},{default:m(()=>[o(W,null,{default:m(()=>[Re]),_:1}),o(N,{modelValue:e(i).global.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e(i).global.value=s),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})]),_:1}),o(e(he),{filters:e(i),"onUpdate:filters":a[1]||(a[1]=s=>w(i)?i.value=s:null),class:"table-st",value:e(y),stripedRows:"",paginator:"",tableStyle:"min-width: 50rem",rows:15,dataKey:"id",filterDisplay:"menu",loading:e(g)},{empty:m(()=>[qe]),loading:m(()=>[o(F,{style:{width:"50px",height:"50px"}})]),default:m(()=>[o(e(z),{field:"index",header:"Serial",sortable:""}),o(e(z),{field:"name",header:"Tag Name"}),o(e(z),{field:"action",header:"Action"},{body:m(s=>[e(d)?(v(),S(b,{key:0,icon:"pi pi-pencil",text:"",class:"",severity:"success",rounded:"",onClick:ue=>le(s.data)},null,8,["onClick"])):h("",!0),e(d)?h("",!0):(v(),S(b,{key:1,icon:"pi pi-pencil",text:"",class:"",severity:"success",rounded:"",style:{visibility:"hidden"}})),e(f)?(v(),S(b,{key:2,icon:"pi pi-trash",text:"",class:"",severity:"warning",rounded:"",onClick:ue=>ie(s.data.id)},null,8,["onClick"])):h("",!0),e(f)?h("",!0):(v(),S(b,{key:3,icon:"pi pi-trash",text:"",class:"",severity:"warning",rounded:"",style:{visibility:"hidden"}}))]),_:1})]),_:1},8,["filters","value","loading"]),o(O,{visible:e(u),"onUpdate:visible":a[3]||(a[3]=s=>w(u)?u.value=s:null),modal:"",header:"Create Tag",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:m(()=>[o(A,{onCloseCreateModal:a[2]||(a[2]=s=>ae(s))})]),_:1},8,["visible"]),o(O,{visible:e(n),"onUpdate:visible":a[5]||(a[5]=s=>w(n)?n.value=s:null),modal:"",header:"Edit Tag",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:m(()=>[o(ce,{param:{id:e(x),name:e(I)},onCloseEditModal:a[4]||(a[4]=s=>oe(s))},null,8,["param"])]),_:1},8,["visible"]),o(O,{visible:e(p),"onUpdate:visible":a[7]||(a[7]=s=>w(p)?p.value=s:null),header:" ",style:{width:"25rem"}},{default:m(()=>[He,o(b,{label:"No",icon:"pi pi-times",text:"",onClick:a[6]||(a[6]=s=>p.value=!1)}),o(b,{label:"Yes",icon:"pi pi-check",text:"",onClick:ne,loading:e(T)},null,8,["loading"])]),_:1},8,["visible"]),o(de,{position:"bottom-right",group:"br"})])):h("",!0)}}},It=L(Le,[["__scopeId","data-v-42b59563"]]);export{It as default};
