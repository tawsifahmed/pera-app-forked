import J from"./button.esm.cf9d0562.js";import Q from"./menu.esm.91c2d4e4.js";import{_ as U}from"./CreateSpace.3fa6f3c7.js";import X from"./avatar.esm.ed3eb287.js";import{_ as Y}from"./nuxt-link.e477dde5.js";import{_ as Z}from"./CreateSpecificProject.65156265.js";import{a2 as _,a3 as ee,$ as r,cd as te,ap as ie,ar as ae,b as n,q as x,t as k,i as v,s as d,l as h,c as f,e as l,k as p,K as oe,w as S,T as le,an as ne,r as B,a as me,o as a,E as se,F as ce,f as ue}from"./entry.96805b80.js";import{u as re}from"./layout.b519617c.js";import{a as $}from"./usePermission.0205306e.js";import{u as ve}from"./workCompany.f58fea20.js";import"./dialog.esm.80bb630d.js";import"./badge.esm.4581aeeb.js";import"./basecomponent.esm.3decbfca.js";import"./index.esm.0676624a.js";import"./baseicon.esm.fddbd52e.js";import"./overlayeventbus.esm.de0024a9.js";import"./portal.esm.15c426bb.js";import"./inputtext.esm.6420a228.js";import"./textarea.esm.ed68f9d3.js";import"./multiselect.esm.1dd8bd34.js";import"./checkbox.esm.c029db23.js";import"./index.esm.efaa8c11.js";import"./index.esm.a9c0fa91.js";import"./index.esm.5e30471d.js";import"./index.esm.dae45d6e.js";import"./index.esm.b26aa7fa.js";import"./virtualscroller.esm.3009a4fc.js";import"./company.31771ef8.js";import"./cookie.7ef5219e.js";import"./inputgroupaddon.esm.c31a89b4.js";import"./inputgroup.esm.40457bbc.js";import"./dropdown.esm.50168ae5.js";import"./vuedraggable.umd.c43b9d33.js";import"./colorpicker.esm.7c420859.js";const de={key:0,class:"layout-menuitem-root-text flex justify-content-between align-items-center"},fe={key:0},ye={class:"flex align-items-center"},ge=["target"],pe={class:"flex align-items-center"},be={class:"flex align-items-center ml-auto"},xe={class:"flex flex-row align-items-center"},ke={class:"layout-menuitem-text"},he={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Se={class:"layout-submenu p-1"},Me={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const{company_id:M}=ee(ve()),j=r($("create_space")),N=r($("create_project")),T=te(),{layoutConfig:z,layoutState:I,setActiveMenuItem:C,onMenuToggle:D}=re(),c=e,m=r(!1),o=r(null),w=r([{label:"Space Settings",items:[{label:"Manage Space",icon:"pi pi-table"}]}]);ie(()=>{o.value=c.parentItemKey?c.parentItemKey+"-"+c.index:String(c.index);const t=I.activeMenuItem;m.value=t===o.value||t?t.startsWith(o.value+"-"):!1}),ae(()=>z.activeMenuItem.value,t=>{m.value=t===o.value||t.startsWith(o.value+"-")});const E=(t,i)=>{if(console.log("clicked item",i),i.disabled){t.preventDefault(),console.log("clicked ids");return}const{overlayMenuActive:y,staticMenuMobileActive:u}=I;(i.to||i.url)&&(u.value||y.value)&&D(),i.command&&i.command({originalEvent:t,item:i});const b=i.items?m.value?c.parentItemKey:o:o.value;console.log(b),C(b)},L=(t,i,y)=>{console.log("clicked itemPPP",y);const u=i.items?m.value?c.parentItemKey:o:o.value;console.log(u),C(u),m.value=!0},R=t=>{if(t[0].items[0].label=="Manage Space")return console.log("company_id",M.value),ne(`/companies/${M.value}`)},A=t=>T.path===t.to,K=r(),V=t=>{K.value.toggle(t)};return(t,i)=>{var P;const y=J,u=Q,b=U,F=X,W=Y,q=Z,O=B("router-link"),G=B("app-menu-item",!0),g=me("tooltip");return a(),n("li",{class:p({"layout-root-menuitem":e.root,"active-menuitem":m.value})},[e.root&&e.item.visible!==!1?(a(),n("div",de,[x(k(e.item.label)+" ",1),e.item.option=="space_option"?(a(),n("div",fe,[v("div",ye,[d(h(y,{type:"button",icon:"pi pi-ellipsis-h ",class:"p-button-sm w-2rem h-2rem",onClick:V,severity:"secondary","aria-label":"Bookmark",text:""},null,512),[[g,{value:"Manage Space"},void 0,{top:!0}]]),h(u,{ref_key:"menu",ref:K,id:"overlay_menu",onClick:i[0]||(i[0]=s=>R(w.value)),model:w.value,popup:!0},null,8,["model"]),j.value?d((a(),f(b,{key:0},null,512)),[[g,{value:"Create Space"},void 0,{top:!0}]]):l("",!0)])])):l("",!0)])):l("",!0),(!e.item.to||e.item.items)&&e.item.visible!==!1?(a(),n("a",{key:1,class:p(["p-1 pl-2",e.item.class]),target:e.item.target,tabindex:"0"},[v("div",pe,[h(F,{label:(P=e.item.label)==null?void 0:P.charAt(0),class:"mr-2 capitalize",size:"small",style:oe({"background-color":[e.item.color?e.item.color:"#3b82f6"],color:["#ededed"]})},null,8,["label","style"]),d((a(),f(W,{class:p([[e.item.class,{"active-route":A(e.item)}],"layout-menuitem-text space-items"]),to:e.item.to},{default:S(()=>[x(k(e.item.label.length>20?e.item.label.slice(0,20)+"...":e.item.label),1)]),_:1},8,["class","to"])),[[g,{value:`${e.item.label.length>20?e.item.label:""}`},void 0,{right:!0}]])]),v("div",be,[e.item.items.length>0?(a(),n("i",{key:0,onClick:i[1]||(i[1]=s=>L(s,e.item,e.index)),class:"text-sm pi pi-fw pi-angle-down layout-submenu-toggler"})):l("",!0),N.value?d((a(),f(q,{key:1,singleSpace:e.item,spaces:e.item.id},null,8,["singleSpace","spaces"])),[[g,{value:"Create Project"}]]):l("",!0)])],10,ge)):l("",!0),e.item.to&&!e.item.items&&e.item.visible!==!1?(a(),f(O,{key:2,class:p(["flex align-items-center justify-content-between",[e.item.class,{"active-route":A(e.item)}]]),style:{"margin-left":"1px !important","padding-left":"7px !important"},onClick:i[2]||(i[2]=s=>E(s,e.item,e.index)),tabindex:"0",to:e.item.to},{default:S(()=>[v("div",xe,[v("i",{class:p([e.item.icon,"layout-menuitem-icon"]),style:{"margin-top":"1px !important"}},null,2),d((a(),n("span",ke,[x(k(e.item.label.length>25?e.item.label.slice(0,25)+"...":e.item.label),1)])),[[g,{value:`${e.item.label.length>25?e.item.label:""}`},void 0,{right:!0}]])]),e.item.items?(a(),n("i",he)):l("",!0)]),_:1},8,["class","to"])):l("",!0),e.item.items&&e.item.visible!==!1?(a(),f(le,{key:3,name:"layout-submenu"},{default:S(()=>[d(v("ul",Se,[(a(!0),n(ce,null,ue(e.item.items,(s,H)=>(a(),f(G,{key:s,index:H,item:s,parentItemKey:o.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[se,e.root?!0:m.value]])]),_:1})):l("",!0)],2)}}},ot=_(Me,[["__scopeId","data-v-5f7a4f59"]]);export{ot as default};
