import{u as k}from"./cookie.4ac610cc.js";import{an as w,$ as c}from"./entry.e1c0e88c.js";const T=w("clock",()=>{const u=c(null),n=c(null),s=c();async function p(o,a,t){const r=k("token");try{let e;t?e=`set-task-time-traker?action=${o}&timer_id=${t}`:e=`set-task-time-traker?action=${o}&task_id=${a}`,console.log("Saction",o);const i=await fetch(`https://pbe.singularitybd.net/api/v1/tasks/${e}`,{method:"GET",headers:{Authorization:`Bearer ${r.value}`}});if(!i.ok)throw new Error("Network response was not ok");const m=await i.json();return u.value=m,m}catch(e){console.error("Error uploading file:",e)}}async function d(o,a){const t=new FormData;t.append("task_id",o),t.append("duration",a);const r=k("token");try{const e=await fetch("https://pbe.singularitybd.net/api/v1/set-manual-time",{method:"POST",headers:{Authorization:`Bearer ${r.value}`},body:t});if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){console.error("Error uploading file:",e)}}async function l(){console.log("timerData11",n)}async function f({task_id:o,project_id:a,space_id:t,company_id:r,timerStartTime:e}){if(o===null||a===null||t===null||r===null){n.value=null,await l(),s.value=!0;return}else console.log("task_id",o),console.log("project_id",a),console.log("space_id",t),console.log("company_id",r),n.value={task_id:o,project_id:a,space_id:t,company_id:r,timerStartTime:e},s.value=!1,console.log("timerDataPinia",n),console.log("isTImerStopped",s.value),await l()}return{getTaskTimerData:p,storeTaskTimer:f,getStoreTimer:l,setManualTime:d,timerData:n,trackedTime:u,isTImerStopped:s}});export{T as u};
