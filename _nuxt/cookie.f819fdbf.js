import{a8 as b,$ as h,a9 as x,aa as k,ab as S,a7 as C,u as E,ac as v}from"./entry.122937df.js";const P=()=>null;function V(...t){var g;const a=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(a);let[e,i,r={}]=t;if(typeof e!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");r.server=r.server??!0,r.default=r.default??P,r.lazy=r.lazy??!1,r.immediate=r.immediate??!0;const n=b(),o=()=>n.isHydrating?n.payload.data[e]:n.static.data[e],u=()=>o()!==void 0;n._asyncData[e]||(n._asyncData[e]={data:h(o()??((g=r.default)==null?void 0:g.call(r))??null),pending:h(!u()),error:h(n.payload._errors[e]?x(n.payload._errors[e]):null)});const s={...n._asyncData[e]};s.refresh=s.execute=(f={})=>{if(n._asyncDataPromises[e]){if(f.dedupe===!1)return n._asyncDataPromises[e];n._asyncDataPromises[e].cancelled=!0}if(f._initial&&u())return o();s.pending.value=!0;const p=new Promise((c,l)=>{try{c(i(n))}catch(D){l(D)}}).then(c=>{if(p.cancelled)return n._asyncDataPromises[e];let l=c;r.transform&&(l=r.transform(c)),r.pick&&(l=T(l,r.pick)),s.data.value=l,s.error.value=null}).catch(c=>{var l;if(p.cancelled)return n._asyncDataPromises[e];s.error.value=c,s.data.value=E(((l=r.default)==null?void 0:l.call(r))??null)}).finally(()=>{p.cancelled||(s.pending.value=!1,n.payload.data[e]=s.data.value,s.error.value&&(n.payload._errors[e]=x(s.error.value)),delete n._asyncDataPromises[e])});return n._asyncDataPromises[e]=p,n._asyncDataPromises[e]};const y=()=>s.refresh({_initial:!0}),d=r.server!==!1&&n.payload.serverRendered;{const f=v();if(f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const c=f._nuxtOnBeforeMountCbs;f&&(k(()=>{c.forEach(l=>{l()}),c.splice(0,c.length)}),S(()=>c.splice(0,c.length)))}d&&n.isHydrating&&u()?s.pending.value=!1:f&&(n.payload.serverRendered&&n.isHydrating||r.lazy)&&r.immediate?f._nuxtOnBeforeMountCbs.push(y):r.immediate&&y(),r.watch&&C(r.watch,()=>s.refresh());const p=n.hook("app:data:refresh",c=>{if(!c||c.includes(e))return s.refresh()});f&&S(p)}const w=Promise.resolve(n._asyncDataPromises[e]).then(()=>s);return Object.assign(w,s),w}function T(t,a){const e={};for(const i of a)e[i]=t[i];return e}const O=decodeURIComponent,N=encodeURIComponent,R=/; */,m=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function I(t,a){if(typeof t!="string")throw new TypeError("argument str must be a string");let e={},i=a||{},r=t.split(R),n=i.decode||O;for(let o=0;o<r.length;o++){let u=r[o],s=u.indexOf("=");if(s<0)continue;let y=u.substr(0,s).trim(),d=u.substr(++s,u.length).trim();d[0]=='"'&&(d=d.slice(1,-1)),e[y]==null&&(e[y]=F(d,n))}return e}function _(t,a,e){let i=e||{},r=i.encode||N;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!m.test(t))throw new TypeError("argument name is invalid");let n=r(a);if(n&&!m.test(n))throw new TypeError("argument val is invalid");let o=t+"="+n;if(i.maxAge!=null){let u=i.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(u)}if(i.domain){if(!m.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!m.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function F(t,a){try{return a(t)}catch{return t}}const A=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,M=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,U=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function j(t,a){if(t!=="__proto__"&&!(t==="constructor"&&a&&typeof a=="object"&&"prototype"in a))return a}function z(t,a={}){if(typeof t!="string")return t;const e=t.toLowerCase().trim();if(e==="true")return!0;if(e==="false")return!1;if(e==="null")return null;if(e==="nan")return Number.NaN;if(e==="infinity")return Number.POSITIVE_INFINITY;if(e!=="undefined"){if(!U.test(t)){if(a.strict)throw new SyntaxError("Invalid JSON");return t}try{return A.test(t)||M.test(t)?JSON.parse(t,j):JSON.parse(t)}catch(i){if(a.strict)throw i;return t}}}const B={path:"/",watch:!0,decode:t=>z(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))};function q(t,a){var n;const e={...B,...a},i=J(e)||{},r=h(i[t]??((n=e.default)==null?void 0:n.call(e)));{const o=()=>{L(t,r.value,e)};e.watch?C(r,o,{deep:e.watch!=="shallow"}):o()}return r}function J(t={}){return I(document.cookie,t)}function H(t,a,e={}){return a==null?_(t,a,{...e,maxAge:-1}):_(t,a,e)}function L(t,a,e={}){document.cookie=H(t,a,e)}export{V as a,q as u};
