import J from"./button.esm.4dd3c46c.js";import Q from"./menu.esm.da97f69d.js";import{_ as U}from"./CreateSpace.c87a4f9d.js";import X from"./avatar.esm.f8728af2.js";import{_ as Y}from"./nuxt-link.4c202a09.js";import{_ as Z}from"./CreateSpecificProject.2e81da31.js";import{a2 as _,a3 as ee,$ as r,cd as te,ap as ie,ar as ae,b as n,q as x,t as k,i as v,s as d,l as h,c as f,e as l,k as p,K as oe,w as S,T as le,an as ne,r as B,a as me,o as a,E as se,F as ce,f as ue}from"./entry.e7d8f855.js";import{u as re}from"./layout.cd1499c1.js";import{a as $}from"./usePermission.e2b284f9.js";import{u as ve}from"./workCompany.32993747.js";import"./dialog.esm.b43638c3.js";import"./badge.esm.0637ea13.js";import"./basecomponent.esm.cdf3b797.js";import"./index.esm.73cd2e1f.js";import"./baseicon.esm.e88ffaa5.js";import"./overlayeventbus.esm.0060ac8d.js";import"./portal.esm.2728edee.js";import"./inputtext.esm.ba89d3ee.js";import"./textarea.esm.7e717f64.js";import"./multiselect.esm.69a6d2aa.js";import"./checkbox.esm.31799cc8.js";import"./index.esm.87eb8ee0.js";import"./index.esm.380d3aa1.js";import"./index.esm.04396fb2.js";import"./index.esm.cf022044.js";import"./index.esm.6d9e5d17.js";import"./virtualscroller.esm.06412756.js";import"./company.a4b8112f.js";import"./cookie.c68f5909.js";import"./fetch.6bb0f6b4.js";import"./inputgroupaddon.esm.0c41e47f.js";import"./inputgroup.esm.e21529ad.js";import"./dropdown.esm.0fc7b8ad.js";import"./vuedraggable.umd.9520b7b5.js";import"./_commonjsHelpers.87174ba5.js";import"./colorpicker.esm.aafa11f4.js";const de={key:0,class:"layout-menuitem-root-text flex justify-content-between align-items-center"},fe={key:0},ye={class:"flex align-items-center"},pe=["target"],ge={class:"flex align-items-center"},be={class:"flex align-items-center ml-auto"},xe={class:"flex flex-row align-items-center"},ke={class:"layout-menuitem-text"},he={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Se={class:"layout-submenu p-1"},Me={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const{company_id:j}=ee(ve()),N=r($("create_space")),P=r($("create_project")),T=te(),{layoutConfig:z,layoutState:M,setActiveMenuItem:I,onMenuToggle:D}=re(),c=e,m=r(!1),o=r(null),C=r([{label:"Space Settings",items:[{label:"Manage Space",icon:"pi pi-table"}]}]);ie(()=>{o.value=c.parentItemKey?c.parentItemKey+"-"+c.index:String(c.index);const t=M.activeMenuItem;m.value=t===o.value||t?t.startsWith(o.value+"-"):!1}),ae(()=>z.activeMenuItem.value,t=>{m.value=t===o.value||t.startsWith(o.value+"-")});const E=(t,i)=>{if(i.disabled){t.preventDefault();return}const{overlayMenuActive:g,staticMenuMobileActive:u}=M;(i.to||i.url)&&(u.value||g.value)&&D(),i.command&&i.command({originalEvent:t,item:i});const b=i.items?m.value?c.parentItemKey:o:o.value;console.log(b),I(b)},L=(t,i,g)=>{const u=i.items?m.value?c.parentItemKey:o:o.value;console.log(u),I(u),m.value=!0},R=t=>{if(t[0].items[0].label=="Manage Space")return ne(`/companies/${j.value}`)},w=t=>T.path===t.to,A=r(),V=t=>{A.value.toggle(t)};return(t,i)=>{var K;const g=J,u=Q,b=U,F=X,W=Y,q=Z,O=B("router-link"),G=B("app-menu-item",!0),y=me("tooltip");return a(),n("li",{class:p({"layout-root-menuitem":e.root,"active-menuitem":m.value})},[e.root&&e.item.visible!==!1?(a(),n("div",de,[x(k(e.item.label)+" ",1),e.item.option=="space_option"?(a(),n("div",fe,[v("div",ye,[d(h(g,{type:"button",icon:"pi pi-ellipsis-h ",class:"p-button-sm w-2rem h-2rem",onClick:V,severity:"secondary","aria-label":"Bookmark",text:""},null,512),[[y,{value:"Manage Space"},void 0,{top:!0}]]),h(u,{ref_key:"menu",ref:A,id:"overlay_menu",onClick:i[0]||(i[0]=s=>R(C.value)),model:C.value,popup:!0},null,8,["model"]),N.value?d((a(),f(b,{key:0},null,512)),[[y,{value:"Create Space"},void 0,{top:!0}]]):l("",!0)])])):l("",!0)])):l("",!0),(!e.item.to||e.item.items)&&e.item.visible!==!1?(a(),n("a",{key:1,class:p(["p-1 pl-2",e.item.class]),target:e.item.target,tabindex:"0"},[v("div",ge,[h(F,{label:(K=e.item.label)==null?void 0:K.charAt(0),class:"mr-2 capitalize",size:"small",style:oe({"background-color":[e.item.color?e.item.color:"#3b82f6"],color:["#ededed"]})},null,8,["label","style"]),d((a(),f(W,{class:p([[e.item.class,{"active-route":w(e.item)}],"layout-menuitem-text space-items"]),to:e.item.to},{default:S(()=>[x(k(e.item.label.length>20?e.item.label.slice(0,20)+"...":e.item.label),1)]),_:1},8,["class","to"])),[[y,{value:`${e.item.label.length>20?e.item.label:""}`},void 0,{right:!0}]])]),v("div",be,[e.item.items.length>0?(a(),n("i",{key:0,onClick:i[1]||(i[1]=s=>L(s,e.item,e.index)),class:"text-sm pi pi-fw pi-angle-down layout-submenu-toggler"})):l("",!0),P.value?d((a(),f(q,{key:1,singleSpace:e.item,spaces:e.item.id},null,8,["singleSpace","spaces"])),[[y,{value:"Create Project"}]]):l("",!0)])],10,pe)):l("",!0),e.item.to&&!e.item.items&&e.item.visible!==!1?(a(),f(O,{key:2,class:p(["flex align-items-center justify-content-between",[e.item.class,{"active-route":w(e.item)}]]),style:{"margin-left":"1px !important","padding-left":"7px !important"},onClick:i[2]||(i[2]=s=>E(s,e.item,e.index)),tabindex:"0",to:e.item.to},{default:S(()=>[v("div",xe,[v("i",{class:p([e.item.icon,"layout-menuitem-icon"]),style:{"margin-top":"1px !important"}},null,2),d((a(),n("span",ke,[x(k(e.item.label.length>22?e.item.label.slice(0,22)+"...":e.item.label),1)])),[[y,{value:`${e.item.label.length>22?e.item.label:""}`},void 0,{right:!0}]])]),e.item.items?(a(),n("i",he)):l("",!0)]),_:1},8,["class","to"])):l("",!0),e.item.items&&e.item.visible!==!1?(a(),f(le,{key:3,name:"layout-submenu"},{default:S(()=>[d(v("ul",Se,[(a(!0),n(ce,null,ue(e.item.items,(s,H)=>(a(),f(G,{key:s,index:H,item:s,parentItemKey:o.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[se,e.root?!0:m.value]])]),_:1})):l("",!0)],2)}}},nt=_(Me,[["__scopeId","data-v-7ce8ebe3"]]);export{nt as default};
