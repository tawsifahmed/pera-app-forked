import q from"./toast.esm.3d8d09e9.js";import x from"./calendar.esm.e9e6920f.js";import z from"./button.esm.4dd3c46c.js";import E from"./toolbar.esm.2d61f263.js";import F from"./tabpanel.esm.ef16dbf6.js";import M from"./tabview.esm.fa40a22c.js";import{a2 as P,$ as a,a4 as N,ar as Q,b as Y,l as i,w as d,o as H,i as r,u as w,a8 as J,a9 as O,ca as R}from"./entry.e7d8f855.js";import{u as _,a as Z}from"./cookie.c68f5909.js";import{u as v}from"./fetch.6bb0f6b4.js";import{a as h}from"./usePermission.e2b284f9.js";import"./portal.esm.2728edee.js";import"./basecomponent.esm.cdf3b797.js";import"./index.esm.87eb8ee0.js";import"./baseicon.esm.e88ffaa5.js";import"./index.esm.278653f5.js";import"./index.esm.cf022044.js";import"./index.esm.6d9e5d17.js";import"./index.esm.380d3aa1.js";import"./index.esm.ac3d4b1b.js";import"./index.esm.fc6b3dc4.js";import"./index.esm.5dd3e13b.js";import"./overlayeventbus.esm.0060ac8d.js";import"./badge.esm.0637ea13.js";import"./index.esm.73cd2e1f.js";const p=u=>(J("data-v-703a29e2"),u=u(),O(),u),j={class:"card"},K=p(()=>r("div",{class:"d-flex mr-2"},[r("h5",{class:"mb-1"},"Time Sheet")],-1)),L={class:"flex gap-2"},W={class:"flex-auto"},X=p(()=>r("label",{for:"icondisplay",class:"font-bold block mb-2"},"From: ",-1)),ee={class:"flex-auto"},oe=p(()=>r("label",{for:"icondisplay",class:"font-bold block mb-2"}," To: ",-1)),ae={class:"flex gap-2"},te={class:"flex-auto"},ne=p(()=>r("label",{for:"icondisplay",class:"font-bold block mb-2"},"From: ",-1)),se={class:"flex-auto"},le=p(()=>r("label",{for:"icondisplay",class:"font-bold block mb-2"}," To: ",-1)),ie={__name:"index",setup(u){const f=R();a(h("read_kpi")),a(h("create_kpi")),a(h("read_quater")),a(h("read_section"));const V=a([]),S=a(""),T=a([]);a(""),a("");const C=a([]);a(""),a([{name:"Active",label:1},{name:"Inactive",label:0}]),a(!1);const I=a([]);a([]),a({});const B=a([{section_id:null,subsection_id:null,quater_id:null,achive_mark:0,target_mark:0,comment:""}]),U=a(""),g=a(!1);a(!1),N();const k=async()=>{var s,l,m;const o=_("token"),{data:e,pending:c,error:n}=await Z("getMembers22",()=>$fetch(`${f.public.apiUrl}/teams/members`,{headers:{Authorization:`Bearer ${o.value}`}}));console.log("memmbess",(s=e.value)==null?void 0:s.team_members),(l=e.value)!=null&&l.team_members&&(V.value=(m=e.value)==null?void 0:m.team_members.map(b=>({id:b.id,name:b.name})),console.log("employee",S.value))},y=async()=>{var n,s,l;const o=_("token"),{data:e,error:c}=await v(`${f.public.apiUrl}/kpi-quater/list`,{method:"GET",headers:{Authorization:`Bearer ${o.value}`}},"$BM7JnDVGA5");((s=(n=e.value)==null?void 0:n.data)==null?void 0:s.length)>0&&(T.value=(l=e.value)==null?void 0:l.data)},D=async()=>{var n,s,l;const o=_("token"),{data:e,error:c}=await v(`${f.public.apiUrl}/kpi/section`,{method:"GET",headers:{Authorization:`Bearer ${o.value}`}},"$qg6bPQNZwa");((s=(n=e.value)==null?void 0:n.data)==null?void 0:s.length)>0&&(C.value=(l=e.value)==null?void 0:l.data)},$=async()=>{var n,s,l;const o=_("token"),{data:e,error:c}=await v(`${f.public.apiUrl}/kpi/sub-section`,{method:"GET",headers:{Authorization:`Bearer ${o.value}`}},"$PkHbUdOMff");((s=(n=e.value)==null?void 0:n.data)==null?void 0:s.length)>0&&(I.value=(l=e.value)==null?void 0:l.data)};Q(B,(o,e)=>{console.log(o)});const A=o=>{o.index==0&&(k(),y(),D(),$())};k(),y(),D(),$();const G=new Date;return U.value=G.getFullYear(),(o,e)=>{const c=q,n=x,s=z,l=E,m=F,b=M;return H(),Y("div",j,[i(c,{position:"bottom-right",group:"br"}),K,i(b,{onTabChange:A,class:"mt-3"},{default:d(()=>[i(m,{class:"file-upload",header:"My Time Sheet"},{default:d(()=>[i(l,{class:"border-0 px-0"},{start:d(()=>[r("div",L,[r("div",W,[X,i(n,{modelValue:o.startDate,"onUpdate:modelValue":e[0]||(e[0]=t=>o.startDate=t),onDateSelect:e[1]||(e[1]=t=>o.handleChange("startDate",t)),showIcon:"",iconDisplay:"input",inputId:"icondisplay"},null,8,["modelValue"])]),r("div",ee,[oe,i(n,{modelValue:o.endDate,"onUpdate:modelValue":e[2]||(e[2]=t=>o.endDate=t),onDateSelect:e[3]||(e[3]=t=>o.handleChange("endtDate",t)),showIcon:"",iconDisplay:"input",inputId:"icondisplay"},null,8,["modelValue"])])])]),end:d(()=>[i(s,{onClick:o.handleGenerate,class:"w-full",label:"Generate",loading:w(g)},null,8,["onClick","loading"])]),_:1})]),_:1}),i(m,{header:"All Time Sheet"},{default:d(()=>[i(l,{class:"border-0 px-0"},{start:d(()=>[r("div",ae,[r("div",te,[ne,i(n,{modelValue:o.startDate,"onUpdate:modelValue":e[4]||(e[4]=t=>o.startDate=t),onDateSelect:e[5]||(e[5]=t=>o.handleChange("startDate",t)),showIcon:"",iconDisplay:"input",inputId:"icondisplay"},null,8,["modelValue"])]),r("div",se,[le,i(n,{modelValue:o.endDate,"onUpdate:modelValue":e[6]||(e[6]=t=>o.endDate=t),onDateSelect:e[7]||(e[7]=t=>o.handleChange("endtDate",t)),showIcon:"",iconDisplay:"input",inputId:"icondisplay"},null,8,["modelValue"])])])]),end:d(()=>[i(s,{onClick:o.handleGenerate,class:"w-full",label:"Generate",loading:w(g)},null,8,["onClick","loading"])]),_:1})]),_:1})]),_:1})])}}},Ae=P(ie,[["__scopeId","data-v-703a29e2"]]);export{Ae as default};
