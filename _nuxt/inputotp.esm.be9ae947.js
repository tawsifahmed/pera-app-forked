import f from"./inputtext.esm.df1ed0e5.js";import{s as m}from"./basecomponent.esm.ed9a8dc9.js";import{B as c,r as v,o as s,b as l,F as h,f as y,h as g,l as T,k as b,m as k}from"./entry.f0c5cf2a.js";var I={root:"p-inputotp p-component",input:"p-inputotp-input"},x=c.extend({name:"inputotp",classes:I}),P={name:"BaseInputOtp",extends:m,props:{modelValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},variant:{type:String,default:null},tabindex:{type:Number,default:null},length:{type:Number,default:4},mask:{type:Boolean,default:!1},integerOnly:{type:Boolean,default:!1}},style:x,provide:function(){return{$parentInstance:this}}},N={name:"InputOtp",extends:P,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],data:function(){return{tokens:[]}},watch:{modelValue:{immediate:!0,handler:function(t){this.tokens=t?t.split(""):new Array(this.length)}}},methods:{getTemplateAttrs:function(t){return{value:this.tokens[t]}},getTemplateEvents:function(t){var e=this;return{input:function(r){return e.onInput(r,t)},keydown:function(r){return e.onKeyDown(r)},focus:function(r){return e.onFocus(r)},blur:function(r){return e.onBlur(r)},paste:function(r){return e.onPaste(r)}}},getPTOptions:function(t){var e=t==="root"?this.ptmi:this.ptm;return e(t,{context:{checked:this.checked,disabled:this.disabled}})},onInput:function(t,e){this.tokens[e]=t.target.value,this.updateModel(t),t.inputType==="deleteContentBackward"?this.moveToPrev(t):(t.inputType==="insertText"||t.inputType==="deleteContentForward")&&this.moveToNext(t)},updateModel:function(t){var e=this.tokens.join("");this.$emit("update:modelValue",e),this.$emit("change",{originalEvent:t,value:e})},moveToPrev:function(t){var e=this.findPrevInput(t.target);e&&(e.focus(),e.select())},moveToNext:function(t){var e=this.findNextInput(t.target);e&&(e.focus(),e.select())},findNextInput:function(t){var e=t.nextElementSibling;if(e)return e.nodeName==="INPUT"?e:this.findNextInput(e)},findPrevInput:function(t){var e=t.previousElementSibling;if(e)return e.nodeName==="INPUT"?e:this.findPrevInput(e)},onFocus:function(t){t.target.select(),this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)},onKeyDown:function(t){var e=t.keyCode;switch(e){case 37:this.moveToPrev(t),t.preventDefault();break;case 38:case 40:t.preventDefault();break;case 8:t.target.value.length===0&&(this.moveToPrev(t),t.preventDefault());break;case 40:t.preventDefault();break;case 39:this.moveToNext(t),t.preventDefault();break;default:this.integerOnly&&!(t.keyCode>=48&&t.keyCode<=57)&&t.preventDefault();break}},onPaste:function(t){var e=t.clipboardData.getData("text");if(e.length){var u=e.substring(0,this.length+1);(!this.isIntegerOnly||!isNaN(u))&&(this.tokens=u.split(""),this.updateModel(t))}t.preventDefault()}},computed:{inputMode:function(){return this.integerOnly?"number":"text"},inputType:function(){return this.mask?"password":"text"}},components:{OtpInputText:f}};function B(n,t,e,u,r,o){var p=v("OtpInputText");return s(),l("div",k({class:n.cx("root")},n.ptmi("root")),[(s(!0),l(h,null,y(n.length,function(i){return g(n.$slots,"default",{key:i,events:o.getTemplateEvents(i-1),attrs:o.getTemplateAttrs(i-1),index:i},function(){return[T(p,{value:r.tokens[i-1],type:o.inputType,class:b(n.cx("input")),inputmode:o.inputMode,variant:n.variant,readonly:n.readonly,disabled:n.disabled,invalid:n.invalid,tabindex:n.tabindex,unstyled:n.unstyled,onInput:function(d){return o.onInput(d,i-1)},onFocus:t[0]||(t[0]=function(a){return o.onFocus(a)}),onBlur:t[1]||(t[1]=function(a){return o.onBlur(a)}),onPaste:t[2]||(t[2]=function(a){return o.onPaste(a)}),onKeydown:t[3]||(t[3]=function(a){return o.onKeyDown(a)}),pt:n.ptm("input")},null,8,["value","type","class","inputmode","variant","readonly","disabled","invalid","tabindex","unstyled","onInput","pt"])]})}),128))],16)}N.render=B;export{N as default};
