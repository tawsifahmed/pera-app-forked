import q from"./button.esm.b797942a.js";import de from"./inputicon.esm.d6f95bd7.js";import H from"./inputtext.esm.80027f65.js";import ue from"./iconfield.esm.84947933.js";import pe from"./toolbar.esm.28bb86bd.js";import me from"./progressspinner.esm.ca8447ce.js";import{a2 as L,a4 as j,$ as t,a as _e,o as _,b as E,i as r,q as R,s as ve,l as o,u as e,a6 as w,e as h,a7 as K,a8 as Q,ca as J,a5 as fe,w as m,P as ge,c as D}from"./entry.a68a4c5e.js";import{u as N,a as Y,b as ye}from"./cookie.359c4252.js";import be from"./dialog.esm.d8f3bbfd.js";import xe from"./toast.esm.63fb9896.js";import z from"./column.esm.d1620cb6.js";import he from"./datatable.esm.f68b033c.js";import{a as B}from"./usePermission.edeaba0e.js";import"./badge.esm.16bb9b01.js";import"./basecomponent.esm.a1f86027.js";import"./index.esm.d5b64d6e.js";import"./baseicon.esm.2657a8b8.js";import"./index.esm.7681dfc7.js";import"./portal.esm.3e003962.js";import"./index.esm.f9641e08.js";import"./index.esm.4ba39ef0.js";import"./index.esm.baf7cfc0.js";import"./paginator.esm.5f937427.js";import"./index.esm.5b978cea.js";import"./dropdown.esm.9b34dac1.js";import"./index.esm.f85167c2.js";import"./index.esm.ae825fb0.js";import"./overlayeventbus.esm.1ee79acc.js";import"./virtualscroller.esm.411a481c.js";import"./inputnumber.esm.fb998fc9.js";import"./index.esm.bdb02f0e.js";import"./index.esm.7eac841a.js";import"./index.esm.297065f9.js";import"./index.esm.a97ab813.js";import"./index.esm.72bff27a.js";import"./checkbox.esm.a95901b3.js";import"./radiobutton.esm.0f324704.js";import"./index.esm.a9d1e59e.js";import"./index.esm.9a98da2a.js";const Te=l=>(K("data-v-d263809b"),l=l(),Q(),l),$e={class:"field"},ke={for:"company"},we=Te(()=>r("i",{class:"text-red-400 text-italic"},"*",-1)),Ce={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},Se={key:0,style:{color:"red"}},De={class:"create-btn-wrapper mb-0"},Ee={__name:"CreateTag",emits:["closeCreateModal"],setup(l,{emit:k}){const C=J(),T=j(),c=t(""),v=t(!1),i=t(!0),f=k,b=async()=>{if(c.value===""){v.value=!0;return}else if(v.value=!1,!v.value){const $=N("token"),{data:d,pending:u}=await Y(`${C.public.apiUrl}/tag/create`,{method:"POST",headers:{Authorization:`Bearer ${$.value}`},body:{name:c.value}},"$jxcvHxJQkU");d.value.code===201?(c.value=null,i.value=!1,f("closeCreateModal",!1),T.add({severity:"success",summary:"Success",detail:"Tag Created successfully!",group:"br",life:3e3})):T.add({severity:"error",summary:"Error",detail:"Tag Creation Failed!",group:"br",life:3e3})}};return($,d)=>{const u=H,g=q,p=_e("tooltip");return _(),E("div",null,[r("div",$e,[r("label",ke,[R("Tag Name"),we,R(),ve(r("span",Ce,null,512),[[p,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),o(u,{modelValue:e(c),"onUpdate:modelValue":d[0]||(d[0]=x=>w(c)?c.value=x:null),class:"w-full",placeholder:"Enter tag name"},null,8,["modelValue"])]),e(v)?(_(),E("p",Se,"Please enter tag name")):h("",!0),r("div",De,[o(g,{label:"Save",icon:"pi pi-check",text:"",onClick:b})])])}}},Ue=L(Ee,[["__scopeId","data-v-d263809b"]]);const Ie=l=>(K("data-v-c3d75b99"),l=l(),Q(),l),Me={class:"field"},Ve=Ie(()=>r("label",{for:"company"},[R("Name"),r("i",{class:"text-red-400 text-italic"},"*")],-1)),Be={key:0,style:{color:"red"}},Ne={class:"create-btn-wrappe"},Pe={__name:"EditTag",props:{param:{type:Object,required:!0}},emits:["closeEditModal"],setup(l,{emit:k}){const C=J(),T=l,c=j(),v=t(T.param.id),i=t(T.param.name),f=t(!1),b=t(!0),$=k,d=async()=>{if(i.value===""){f.value=!0;return}else if(f.value=!1,!f.value){const u=N("token"),{data:g,pending:p}=await Y(`${C.public.apiUrl}/tag/update/${v.value}`,{method:"POST",headers:{Authorization:`Bearer ${u.value}`},body:{name:i.value}},"$RrQ4SF9MPi");g.value.code===200?(b.value=!1,$("closeEditModal",!1),c.add({severity:"success",summary:"Success",detail:"Tag Updated successfully!",group:"br",life:3e3})):c.add({severity:"error",summary:"Error",detail:"Tag Update Failed!",group:"br",life:3e3})}};return(u,g)=>{const p=H,x=q;return _(),E("div",null,[r("div",Me,[Ve,o(p,{modelValue:e(i),"onUpdate:modelValue":g[0]||(g[0]=U=>w(i)?i.value=U:null),class:"w-full",placeholder:"Edit tag name"},null,8,["modelValue"])]),e(f)?(_(),E("p",Be,"Please enter tag name")):h("",!0),r("div",Ne,[o(x,{label:"Update",icon:"pi pi-check",text:"",onClick:d})])])}}},Fe=L(Pe,[["__scopeId","data-v-c3d75b99"]]);const P=l=>(K("data-v-42b59563"),l=l(),Q(),l),Ae={key:0,class:"card"},Oe=P(()=>r("div",{class:"d-flex mr-2"},[r("h5",{class:"mb-1"},"Tags")],-1)),ze=P(()=>r("i",{class:"pi pi-search"},null,-1)),Re=P(()=>r("p",{class:"text-center"},"No Data found...",-1)),qe=P(()=>r("p",null,"Are you sure you want to delete?",-1)),He={__name:"index",setup(l){const k=J(),C=t(B("read_tags")),T=t(B("create_tags")),c=t(B("update_tags")),v=t(B("delete_tags")),i=t(),f=t(!0),b=t(!1),$=j(),d=t(!1),u=t(!1),g=t([]),p=t(!1),x=t(""),U=t(""),W=t(""),X=t(""),Z=t(""),ee=n=>{d.value=!1,S()},te=n=>{u.value=!1,S()},ae=()=>{d.value=!0,S()},oe=n=>{u.value=!0,x.value=n.id,U.value=n.name,W.value=n.email,X.value=n.phone,Z.value=n.address},se=n=>{p.value=!0,x.value=n},le=async()=>{b.value=!0;const n=N("token"),{data:a,pending:y}=await Y(`${k.public.apiUrl}/tag/delete/${x.value}`,{method:"DELETE",headers:{Authorization:`Bearer ${n.value}`}},"$2xUf6ofqOr");a.value.code===200?(p.value=!1,$.add({severity:"success",summary:"Success",detail:"Tag Deleted successfully!",group:"br",life:3e3}),b.value=!1,S()):($.add({severity:"error",summary:"Error",detail:"Tag Deleted Failed!",group:"br",life:3e3}),b.value=!1)},S=async()=>{var I,M,V;const n=N("token"),{data:a,pending:y,error:G}=await ye("tagsList",()=>$fetch(`${k.public.apiUrl}/tag/list`,{headers:{Authorization:`Bearer ${n.value}`}}));((M=(I=a.value)==null?void 0:I.data)==null?void 0:M.length)>0&&(g.value=(V=a.value)==null?void 0:V.data.map((F,A)=>({...F,index:A+1})))},ie=()=>{i.value={global:{value:null,matchMode:ge.CONTAINS}}};return fe(()=>{S(),f.value=!1}),ie(),(n,a)=>{const y=q,G=de,I=H,M=ue,V=pe,F=me,A=Ue,O=be,ne=Fe,re=xe;return e(C)?(_(),E("div",Ae,[Oe,o(V,{class:"border-0 px-0"},{start:m(()=>[e(T)?(_(),D(y,{key:0,icon:"pi pi-plus",label:"Create",onClick:ae,class:"mr-2",severity:"secondary"})):h("",!0)]),end:m(()=>[o(M,{iconPosition:"right",raised:""},{default:m(()=>[o(G,null,{default:m(()=>[ze]),_:1}),o(I,{modelValue:e(i).global.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e(i).global.value=s),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})]),_:1}),o(e(he),{filters:e(i),"onUpdate:filters":a[1]||(a[1]=s=>w(i)?i.value=s:null),class:"table-st",value:e(g),stripedRows:"",paginator:"",tableStyle:"min-width: 50rem",rows:15,dataKey:"id",filterDisplay:"menu",loading:e(f)},{empty:m(()=>[Re]),loading:m(()=>[o(F,{style:{width:"50px",height:"50px"}})]),default:m(()=>[o(e(z),{field:"index",header:"Serial",sortable:""}),o(e(z),{field:"name",header:"Tag Name"}),o(e(z),{field:"action",header:"Action"},{body:m(s=>[e(c)?(_(),D(y,{key:0,icon:"pi pi-pencil",text:"",class:"",severity:"success",rounded:"",onClick:ce=>oe(s.data)},null,8,["onClick"])):h("",!0),e(c)?h("",!0):(_(),D(y,{key:1,icon:"pi pi-pencil",text:"",class:"",severity:"success",rounded:"",style:{visibility:"hidden"}})),e(v)?(_(),D(y,{key:2,icon:"pi pi-trash",text:"",class:"",severity:"warning",rounded:"",onClick:ce=>se(s.data.id)},null,8,["onClick"])):h("",!0),e(v)?h("",!0):(_(),D(y,{key:3,icon:"pi pi-trash",text:"",class:"",severity:"warning",rounded:"",style:{visibility:"hidden"}}))]),_:1})]),_:1},8,["filters","value","loading"]),o(O,{visible:e(d),"onUpdate:visible":a[3]||(a[3]=s=>w(d)?d.value=s:null),modal:"",header:"Create Tag",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:m(()=>[o(A,{onCloseCreateModal:a[2]||(a[2]=s=>ee(s))})]),_:1},8,["visible"]),o(O,{visible:e(u),"onUpdate:visible":a[5]||(a[5]=s=>w(u)?u.value=s:null),modal:"",header:"Edit Tag",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:m(()=>[o(ne,{param:{id:e(x),name:e(U)},onCloseEditModal:a[4]||(a[4]=s=>te(s))},null,8,["param"])]),_:1},8,["visible"]),o(O,{visible:e(p),"onUpdate:visible":a[7]||(a[7]=s=>w(p)?p.value=s:null),header:" ",style:{width:"25rem"}},{default:m(()=>[qe,o(y,{label:"No",icon:"pi pi-times",text:"",onClick:a[6]||(a[6]=s=>p.value=!1)}),o(y,{label:"Yes",icon:"pi pi-check",text:"",onClick:le,loading:e(b)},null,8,["loading"])]),_:1},8,["visible"]),o(re,{position:"bottom-right",group:"br"})])):h("",!0)}}},Et=L(He,[["__scopeId","data-v-42b59563"]]);export{Et as default};
