import{u as h}from"./cookie.2bc80624.js";import{ao as $,$ as n}from"./entry.b31b648d.js";const M=$("clock",()=>{const k=n(null),s=n(null),r=n(),i=n(!1),u=n(null),f=n(null),c=n(null),d=n(null);async function w(o,t,e){const l=h("token");try{let a;e?a=`set-task-time-traker?action=${o}&timer_id=${e}`:a=`set-task-time-traker?action=${o}&task_id=${t}`,console.log("Saction",o);const v=await fetch(`https://pbe.singularitybd.net/api/v1/tasks/${a}`,{method:"GET",headers:{Authorization:`Bearer ${l.value}`}});if(!v.ok)throw new Error("Network response was not ok");const p=await v.json();return k.value=p,p}catch(a){console.error("Error uploading file:",a)}}async function g(o,t){const e=new FormData;e.append("task_id",o),e.append("duration",t);const l=h("token");try{const a=await fetch("https://pbe.singularitybd.net/api/v1/set-manual-time",{method:"POST",headers:{Authorization:`Bearer ${l.value}`},body:e});if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(a){console.error("Error uploading file:",a)}}async function m(){console.log("timerData11",s)}async function y({task_id:o,project_id:t,space_id:e,company_id:l,timerStartTime:a}){if(o===null||t===null||e===null||l===null){s.value=null,await m(),r.value=!0;return}else console.log("task_id",o),console.log("project_id",t),console.log("space_id",e),console.log("company_id",l),s.value={task_id:o,project_id:t,space_id:e,company_id:l,timerStartTime:a},r.value=!1,console.log("timerDataPinia",s),console.log("isTImerStopped",r.value),await m()}async function T(o,t,e){i.value=!0,u.value=o,f.value=t,c.value=e,d.value=null}async function D(){i.value=!1,u.value=null,c.value=null,d.value=!0}async function S(){d.value=!1,i.value=!1,u.value=null,f.value=null,c.value=null}return{getTaskTimerData:w,storeTaskTimer:y,getStoreTimer:m,setManualTime:g,handleMissDeadlineShowTimer:T,closeDeadlineShowModal:D,handleCloseDeadlineJustify:S,timerData:s,trackedTime:k,isTImerStopped:r,deadlineMissModal:i,deadlineTaskId:u,deadlineProjectId:f,deadlineDueDate:c,deadlineJustifyProvided:d}});export{M as u};
