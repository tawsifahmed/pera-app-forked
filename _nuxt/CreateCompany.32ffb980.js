import B from"./dropdown.esm.3f73977e.js";import F from"./inputtext.esm.9731008c.js";import H from"./button.esm.b0938963.js";import W from"./dialog.esm.fb85d07e.js";import{a2 as Z,a3 as q,$ as a,a4 as G,o as r,c as J,w as E,l as g,u as o,i as e,a7 as h,b as v,e as R,a8 as K,a9 as Q,q as k}from"./entry.a108e2da.js";import{u as U}from"./company.32131650.js";const X=""+new URL("dummy_company.85352387.png",import.meta.url).href;const _=x=>(K("data-v-37767c07"),x=x(),Q(),x),Y={class:"field"},ee=_(()=>e("label",{for:"company"},[k("Company Size"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),le={class:"field"},ae=_(()=>e("label",{for:"worktype"},[k("Company Work Type?"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),oe={class:"field"},te=_(()=>e("label",{for:"email"},[k("Email Address"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),se={key:0,class:"text-danger text-center text-xs mt-2"},ne={class:"field"},ie=_(()=>e("label",{for:"company"},[k("Company Name"),e("i",{class:"text-red-400 text-italic"},"*")],-1)),re={class:"field mb-0"},ue=_(()=>e("label",{class:"mb-0",for:"company"},"Company Logo ",-1)),de={class:"relative w-fit mx-auto"},ce=["src"],pe={key:1,src:X,alt:"",style:{height:"60px",width:"60px","border-radius":"100%","object-fit":"cover",border:"1px solid gray"}},me={class:"img-label"},ve={key:0,for:"imageCancel"},_e={key:1,for:"image"},be=_(()=>e("i",{class:"pi pi-plus",style:{color:"red",right:"0.2rem",bottom:"0.2rem","z-index":"5","background-color":"white",padding:"5px","border-radius":"20px","box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px",cursor:"pointer"}},null,-1)),ye=[be],fe=["v-model"],ge={key:0,style:{color:"red"}},he={__name:"CreateCompany",setup(x){const{createCompany:T}=U(),{singleSpace:xe,isCompanyCreated:P}=q(U()),b=a(!0),V=G(),u=a(null),L=a([{id:1,label:"1-10"},{id:2,label:"11-25"},{id:3,label:"26-250"},{id:4,label:"251-500"},{id:5,label:"501-2000"}]);a(null);const d=a(null),N=a([{id:"PMO",label:"PMO"},{id:"Finance & Accounting",label:"Finance & Accounting"},{id:"HR & Recruiting",label:"HR & Recruiting"},{id:"Operations",label:"Operations"},{id:"Support",label:"Support"},{id:"Sales & CRM",label:"Sales & CRM"},{id:"Personal Use",label:"Personal Use"},{id:"IT",label:"IT"},{id:"Creative & Design",label:"Creative & Design"},{id:"Personal Services",label:"Personal Services"},{id:"Marketing",label:"Marketing"},{id:"Engineering & Production",label:"Engineering & Production"},{id:"Other",label:"Other"}]),s=a(null),O=i=>String(i).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),y=a(null),c=a("right");s.value===null&&(c.value=!1),a(null);const z=()=>{console.log("check email input",s.value),c.value=!1,O(s.value)!==null?(y.value=s.value,c.value="right"):s.value===null||s.value===""?c.value="right":(y.value=null,c.value="wrong")},n=a(null),p=a(null),m=a(null),A=i=>{m.value=i.target.files[0],p.value=URL.createObjectURL(m.value)},D=()=>{m.value=null,p.value=null},S=a(!1),f=a(!1),M=async()=>{var i,l;if(f.value=!0,u.value===null||d.value===null||y.value===null||n.value===null||n.value===""){S.value=!0,f.value=!1;return}else{S.value=!1;let C=(i=u.value)==null?void 0:i.label,w=(l=d.value)==null?void 0:l.label;const I={name:n.value,email:y.value,address:null,contact_number:null,number_of_employees:C,company_type:w,logo:m.value?m.value:null};await T(I),P.value===!0?(b.value=!1,u.value=null,d.value=null,s.value=null,y.value=null,n.value=null,f.value=!1,V.add({severity:"success",summary:"Company creation",detail:"Company created successfully!",group:"br",life:3e3}),location.reload()):(b.value=!0,f.value=!1,V.add({severity:"error",summary:"Company creation",detail:"Company created Failed!",group:"br",life:3e3}))}},$=()=>{p.value=null};return(i,l)=>{const C=B,w=F,I=H,j=W;return r(),J(j,{visible:o(b),"onUpdate:visible":[l[5]||(l[5]=t=>h(b)?b.value=t:null),$],style:{width:"450px"},header:"Create Company",modal:!0,class:"p-fluid"},{footer:E(()=>[g(I,{label:"Save",icon:"pi pi-check",text:"",loading:o(f),onClick:M},null,8,["loading"])]),default:E(()=>[e("div",Y,[ee,g(C,{modelValue:o(u),"onUpdate:modelValue":l[0]||(l[0]=t=>h(u)?u.value=t:null),inputId:"company",options:o(L),optionLabel:"label",placeholder:"Select Size",class:"w-full"},null,8,["modelValue","options"])]),e("div",le,[ae,g(C,{modelValue:o(d),"onUpdate:modelValue":l[1]||(l[1]=t=>h(d)?d.value=t:null),inputId:"worktype",options:o(N),optionLabel:"label",placeholder:"Select Type",class:"w-full"},null,8,["modelValue","options"])]),e("div",oe,[te,g(w,{type:"email",inputId:"email",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Email",modelValue:o(s),"onUpdate:modelValue":l[2]||(l[2]=t=>h(s)?s.value=t:null),onInput:z},null,8,["modelValue"]),o(c)==="wrong"?(r(),v("p",se,"Invalid Email!")):R("",!0)]),e("div",ne,[ie,g(w,{type:"company",class:"w-full px-2 py-2 shadow border focus:border-purple-500",placeholder:"Type Name",modelValue:o(n),"onUpdate:modelValue":l[3]||(l[3]=t=>h(n)?n.value=t:null)},null,8,["modelValue"])]),e("div",re,[ue,e("div",de,[o(p)?(r(),v("img",{key:0,src:`${o(p)}`,style:{height:"60px",width:"60px","border-radius":"100%","object-fit":"cover"}},null,8,ce)):(r(),v("img",pe)),e("div",me,[o(p)?(r(),v("label",ve,[e("i",{class:"pi pi-minus",onClick:D,style:{color:"red",right:"0.2rem",bottom:"0.2rem","z-index":"5","background-color":"white",padding:"5px","border-radius":"20px","box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px",cursor:"pointer"}})])):(r(),v("label",_e,ye)),e("input",{class:"hidden",type:"file","v-model":o(m),id:"image",onInput:l[4]||(l[4]=t=>A(t)),accept:".png, .jpeg, .jpg"},null,40,fe)])])]),o(S)?(r(),v("p",ge,"Please fill/check up all the fields properly")):R("",!0)]),_:1},8,["visible"])}}},Ee=Z(he,[["__scopeId","data-v-37767c07"]]);export{X as _,Ee as a};
