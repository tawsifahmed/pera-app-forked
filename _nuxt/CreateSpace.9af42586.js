import K from"./button.esm.b797942a.js";import O from"./inputtext.esm.80027f65.js";import W from"./textarea.esm.5b5dc621.js";import G from"./multiselect.esm.58b7e8b8.js";import H from"./dialog.esm.d8f3bbfd.js";import{a3 as S,an as Q,a2 as X,a4 as Y,$ as n,a5 as Z,a as ee,o as te,b as se,l as d,k as ae,w as B,u as i,i as t,q as p,s as b,a6 as C,K as oe,t as le,a7 as ie,a8 as ne}from"./entry.a68a4c5e.js";import{u as I}from"./company.015b60b4.js";import{u as k}from"./workCompany.bc1bf26e.js";import{u as re,a as ce}from"./cookie.359c4252.js";const ue=k(),{company_id:de}=S(k()),pe=I(),N=Q("workSpace",{state:()=>({isSpaceCreated:null,comID:de}),getters:{save(a){return a.isSpaceCreated}},actions:{async createSpace({name:a,description:x,company_id:T,color:g,users:D}){var v;const w=re("token"),{data:$,pending:u}=await ce("https://pbe.singularitybd.net/api/v1/space/create",{method:"POST",headers:{Authorization:`Bearer ${w.value}`},body:{name:a,description:x,company_id:T,color:g,users:D}},"$yBhqNAD4aJ");((v=$.value)==null?void 0:v.app_message)==="success"&&(this.isSpaceCreated=!0,await ue.getCompany(),await pe.getSingleCompany(this.comID))}}});const P=a=>(ie("data-v-ec9f2b12"),a=a(),ne(),a),ve={class:"field"},me={for:"name"},fe=P(()=>t("i",{class:"text-red-400 text-italic"},"*",-1)),xe={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},ge={class:"field"},ye={for:"name"},_e={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},be={class:"field"},Ce={for:"name"},Se=P(()=>t("i",{class:"text-red-400 text-italic"},"*",-1)),ke={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},Te={class:"m-0 d-flex colorpicker-wrapper"},De={class:"flex justify-center align-items-center"},we={class:"ml-2"},$e={class:"flex"},he={class:"field"},Ve=P(()=>t("i",{class:"text-red-400"},"*",-1)),Ie={class:"pi pi-info-circle cursor-pointer ml-1 text-sm instruction-tip"},Pe={__name:"CreateSpace",props:["spacePage"],setup(a){const x=Y(),T=k(),g=I();T.getCompany();const{company_id:D}=S(k());S(I());const w=N(),{save:$}=S(N()),u=n(!1),v=n(!1),h=n(!1),M=n(!1),o=n(null),c=n(""),m=n("#8080805c"),U=n(null),A=n([]);Z(async()=>{await g.getTaskAssignModalData(),A.value=g.users});const r=n([]),l=y=>{m.value=y},f=n(!1),E=async()=>{if(v.value=!1,h.value=!1,f.value=!0,o.value===null||o.value===""){v.value=!0,f.value=!1;return}if(r.value.length===0){h.value=!0,f.value=!1;return}else{const y={name:o.value,description:c.value,company_id:D,color:m.value,users:r.value.map(e=>e.id)};await w.createSpace(y),$.value==!0?(u.value=!1,o.value=null,c.value=null,m.value="#8080805c",U.value=null,r.value=[],f.value=!1,x.add({severity:"success",summary:"Space creation",detail:"Space created successfully!",group:"br",life:3e3})):(u.value=!0,f.value=!1,x.add({severity:"error",summary:"Space creation",detail:"Space created Failed!",group:"br",life:3e3}))}},q=()=>{u.value=!0},z=()=>{u.value=!1,o.value&&(o.value=null),c.value&&(c.value=null),r.value&&(r.value=[]),m.value="#8080805c"},F=()=>{o.value&&(o.value=null),c.value&&(c.value=null),r.value&&(r.value=[]),m.value="#8080805c"};return(y,e)=>{const V=K,L=O,j=W,R=G,J=H,_=ee("tooltip");return te(),se("div",null,[d(V,{icon:a.spacePage?"":"pi pi-plus",class:ae(a.spacePage?"btn-primary cursor-pointer text-white px-5 py-2":"p-button-sm"),label:a.spacePage?"Create +":"",onClick:q,severity:a.spacePage?"primary":"secondary","aria-label":"Bookmark",text:!a.spacePage},null,8,["icon","class","label","severity","text"]),d(J,{visible:i(u),"onUpdate:visible":[e[15]||(e[15]=s=>C(u)?u.value=s:null),F],style:{width:"32rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},header:"Create Space",modal:!0,class:"p-fluid"},{footer:B(()=>[d(V,{label:"Cancel",icon:"pi pi-times",text:"",onClick:z}),d(V,{label:"Save",icon:"pi pi-check",text:"",onClick:E,loading:i(f)},null,8,["loading"])]),default:B(()=>[t("div",ve,[t("label",me,[p("Space Name"),fe,p(),b(t("span",xe,null,512),[[_,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),d(L,{id:"name",modelValue:i(o),"onUpdate:modelValue":e[0]||(e[0]=s=>C(o)?o.value=s:null),required:"true",invalid:i(v)},null,8,["modelValue","invalid"])]),t("div",ge,[t("label",ye,[p("Space Description "),b(t("span",_e,null,512),[[_,{value:"After setting space name, you can provide description."},void 0,{right:!0}]])]),d(j,{id:"description",class:"border-gray-300",modelValue:i(c),"onUpdate:modelValue":e[1]||(e[1]=s=>C(c)?c.value=s:null),rows:"3",cols:"20",invalid:i(M)},null,8,["modelValue","invalid"])]),t("div",be,[t("label",Ce,[p("Space Color"),Se,p(),b(t("span",ke,null,512),[[_,{value:"Demo Text Text"},void 0,{right:!0}]])]),t("div",Te,[t("div",De,[t("div",{id:"dynamic-div",style:oe(`background-color: ${i(m)};`),class:"d-flex align-items-center justify-content-center text-3xl text-white"},le(i(o)?i(o).charAt(0).toUpperCase():"S"),5),t("div",we,[t("div",$e,[t("div",{id:"white",class:"color",onClick:e[2]||(e[2]=s=>l("#e5ded4"))}),t("div",{id:"gray",class:"color",onClick:e[3]||(e[3]=s=>l("#9e9e9e"))}),t("div",{id:"orange",class:"color",onClick:e[4]||(e[4]=s=>l("#ff9800"))}),t("div",{id:"purple",class:"color",onClick:e[5]||(e[5]=s=>l("#9c27b0"))}),t("div",{id:"cadetblue",class:"color",onClick:e[6]||(e[6]=s=>l("#e91e63"))}),t("div",{id:"burlywood",class:"color",onClick:e[7]||(e[7]=s=>l("#4caf50"))}),t("div",{id:"pink",class:"color",onClick:e[8]||(e[8]=s=>l("#f44336"))}),t("div",{id:"lightseagreen",class:"color",onClick:e[9]||(e[9]=s=>l("#009688"))}),t("div",{id:"brown",class:"color",onClick:e[10]||(e[10]=s=>l("#795548"))}),t("div",{id:"cyan",class:"color",onClick:e[11]||(e[11]=s=>l("#00bcd4"))}),t("div",{id:"amber",class:"color",onClick:e[12]||(e[12]=s=>l("#ffc107"))}),t("div",{id:"indigo",class:"color",onClick:e[13]||(e[13]=s=>l("#3f51b5"))})])])])])]),t("div",he,[t("label",null,[p("Space Members"),Ve,p(),b(t("span",Ie,null,512),[[_,{value:"Demo Text Text Demo Text Text Demo Text Text Demo Text Text Demo Text Text."},void 0,{right:!0}]])]),d(R,{display:"chip",modelValue:i(r),"onUpdate:modelValue":e[14]||(e[14]=s=>C(r)?r.value=s:null),options:i(A),filter:"",optionLabel:"name",placeholder:"Select Space Members",class:"w-full",invalid:i(h)},null,8,["modelValue","options","invalid"])])]),_:1},8,["visible"])])}}},Le=X(Pe,[["__scopeId","data-v-ec9f2b12"]]);export{Le as _};
